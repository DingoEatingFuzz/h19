{"all":[{"hash":"d238cb181ca1e924c9f03181dddbd4dcf2b73ccc","date":"2018-10-25 11:09:46 -0400","message":"New ACL API Tests (#4848)","refs":[],"body":"* A few API mods and unit tests.\r\n\r\n* Update the unit tests to verify query/write metadata and to fix the rules endpoint tests.\r\n\r\n* Make sure the full information for the replication status is in the api packge\r\n","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"6fb2134e96016691af29fa84dde9725f94f93263","date":"2018-10-25 08:41:59 -0700","message":"Add connectInject `image` info into helm docs","refs":[],"body":"This field was added back into the helm chart, but it was not added\nback to the documentation. This adds it, then additionally fixes a\nfew typos in the same file.\n","author_name":"Rebecca Zanzig","author_email":"rzazzl@hotmail.com"},{"hash":"787e90cebc21b442df8b77f697d7a5dbd562c944","date":"2018-10-25 12:07:26 -0700","message":"website: sync guides list with guides sidebar. (#4831)","refs":[],"body":"","author_name":"Hans Hasselberg","author_email":"me@hans.io"},{"hash":"0aec555d8f9f52b42549af4c61e6efe97500262e","date":"2018-10-25 15:07:36 -0700","message":"Merge pull request #4854 from hashicorp/docs/k8s+helm","refs":[],"body":"Add connectInject `image` info into helm docs","author_name":"Rebecca Zanzig","author_email":"rebecca@hashicorp.com"},{"hash":"7ad6596454341eb9a9607a8bc7dd707e1b579620","date":"2018-10-25 15:47:14 -0700","message":"Merge pull request #4828 from hashicorp/docs/helm-16-getting-started","refs":[],"body":"Update the `join` command format in the k8s Running Consul section","author_name":"Rebecca Zanzig","author_email":"rebecca@hashicorp.com"},{"hash":"14aa90e3092c8cf35a213acadac62607af8802eb","date":"2018-10-26 17:36:15 +0100","message":"ui: Move repo services to repository/ folder and standardize naming (#4694)","refs":[],"body":"Repositories are a class of services to help with CRUD actions, most of\r\nthe functionality is reused across various Models. This creates a new\r\nrepository service that centralizes all this reused functionality.\r\nInheritance via ember `Service.extend` is used as opposed to\r\ndecorating via Mixins.\r\n\r\n1. Move all repository services (and their tests) to a\r\nservices/repository folder\r\n2. Standardize on a singular name format 'node vs nodes'\r\n3. Create a new 'repository' service to centralize functionality. This\r\nshould be extended by 'repository' services","author_name":"John Cowen","author_email":"johncowen@users.noreply.github.com"},{"hash":"f1246801b1e31b8e53617954868d91d6c2c872a1","date":"2018-10-26 17:50:43 +0100","message":"ui: Some trivial test additions, support env var passing of port numbers (#4728)","refs":[],"body":"1. Unskip some trivial tests that were being tested higher up\r\n2. Istanbul ignore some code for coverage.\r\n  1. Things that I didn't write and need to 100% follow\r\n  2. The source code checking test that has Istanbul code injected into\r\n  it\r\n3. Add a few simple test cases\r\n4. Support passing port numbers through to `ember serve` and `ember\r\ntest` for use cases that would benefit from being able to configure the\r\nports things are served over but still use `yarn run` thus reusing the\r\n`yarn run` config in `package.json`","author_name":"John Cowen","author_email":"johncowen@users.noreply.github.com"},{"hash":"de6644675d0ada282c468163fc05b48debfd65b2","date":"2018-10-26 18:40:51 +0100","message":"ui: Brings the new ACLs into line with the new repo folder structure (#4857)","refs":[],"body":"This PR updates the folder structure and naming of the new ACLs, the same as #4694 .","author_name":"John Cowen","author_email":"johncowen@users.noreply.github.com"},{"hash":"a8c1ebe6fb1922c7f04eb62c06d3944c9fb0cda6","date":"2018-10-26 10:55:12 -0700","message":"Fix some broken links in docs (#4858)","refs":[],"body":"* website: let curl make noise during website deploy\r\n\r\n* website: fix a handful of broken links\r\n","author_name":"Jack Pearkes","author_email":"jackpearkes@gmail.com"},{"hash":"be2aa9a219075f0a090142c1a3d0dcf09cd7fcfc","date":"2018-10-26 15:11:40 -0400","message":"Add the consult gem (#4832)","refs":[],"body":"","author_name":"Jeff Fraser","author_email":"jeff.fraser@veracross.com"},{"hash":"7742aec2266b6420bc890ca1b8d0a29956029881","date":"2018-10-26 12:11:57 -0700","message":"Correct prometheus docs (#4805)","refs":[],"body":"","author_name":"Paul Banks","author_email":"banks@banksco.de"},{"hash":"0934940f4e2a41823546ba6e0657c49ba49219f4","date":"2018-10-26 15:13:40 -0400","message":"testutil: If testing.T is nil panic with error (#4725)","refs":[],"body":"","author_name":"James Hartig","author_email":"fastest963@gmail.com"},{"hash":"37466d65908b5bf1bce8deb6a1530755352664f7","date":"2018-10-26 16:54:26 -0400","message":"Spelling fix on K/V vs KV (#4860)","refs":[],"body":"One of the mentions of KV store had a slash between K and V.  For consistency with the rest of the doc, I removed it.","author_name":"Mitch Pronschinske","author_email":"mpronschinske@hashicorp.com"},{"hash":"988ceb697a6fd9bfe70dc23c024c6e6b8c5242f8","date":"2018-10-29 09:33:42 +0100","message":"website: fix minor typo in documentation (#4864)","refs":[],"body":"","author_name":"Martin Halder","author_email":"martin.halder@gmail.com"},{"hash":"1823a35325586a3bff8412ac96a557826612e824","date":"2018-10-29 04:41:25 -0400","message":"website: broken partial rendering and missing id (#4862)","refs":[],"body":"* Fix partial rendering in service command (CLI) help\r\n* Fix sample JSON to be a valid json for service registration\r\n* Add missing id field to make the complete document complete.\r\n","author_name":"Sébastien Portebois","author_email":"sportebois@gmail.com"},{"hash":"5a462aa29989f3d6c6ff34d9aed30b9754d2e407","date":"2018-10-29 11:32:54 +0100","message":"Update CHANGELOG.md","refs":[],"body":"","author_name":"Hans Hasselberg","author_email":"me@hans.io"},{"hash":"770d708494956c06f5154bfb4c15a622cbd8772d","date":"2018-10-29 09:29:14 -0700","message":"website: clarify log file filename format (#4856)","refs":[],"body":"Fixes #4697","author_name":"Jack Pearkes","author_email":"jackpearkes@gmail.com"},{"hash":"f8e56d5365cf4412216baf3796c105f089c4a295","date":"2018-10-29 17:39:25 +0100","message":"Add support for multiple checks in Consul Client (#4849)","refs":[],"body":"","author_name":"Rémi Lapeyre","author_email":"remi.lapeyre@henki.fr"},{"hash":"64833563290da5573a0421806d63f2acf327db87","date":"2018-10-30 15:52:54 -0700","message":"fsm: add missing ID/datacenter to persistNodes","refs":[],"body":"","author_name":"Kyle Havlovitz","author_email":"kylehav@gmail.com"},{"hash":"bd6d0e598f8759157b4c51dcdcc3f48850ee6878","date":"2018-10-30 15:53:14 -0700","message":"fsm: update snapshot/restore test to include ID and datacenter","refs":[],"body":"","author_name":"Kyle Havlovitz","author_email":"kylehav@gmail.com"},{"hash":"6e575b2671f12a55f84ff733423e91be871067a0","date":"2018-10-30 16:37:04 -0700","message":"Update Helm docs to include the `default` flag for catalog sync","refs":[],"body":"Additionally fixes an issue with quotes on the related annotation.\n","author_name":"Rebecca Zanzig","author_email":"rzazzl@hotmail.com"},{"hash":"33ae0149eaecdd3df223839223d7864be309078a","date":"2018-10-31 17:28:04 +0000","message":"Doc and whitespace fixes for translate-rules command (#4877)","refs":[],"body":"","author_name":"Paul Banks","author_email":"banks@banksco.de"},{"hash":"f9cf0eb36e2199b92e0fd9c131c1a3bebd4910c8","date":"2018-10-31 16:00:46 -0400","message":"Remaining ACL Unit Tests (#4852)","refs":[],"body":"* Add leader token upgrade test and fix various ACL enablement bugs\r\n\r\n* Update the leader ACL initialization tests.\r\n\r\n* Add a StateStore ACL tests for ACLTokenSet and ACLTokenGetBy* functions\r\n\r\n* Advertise the agents acl support status with the agent/self endpoint.\r\n\r\n* Make batch token upsert CAS’able to prevent consistency issues with token auto-upgrade\r\n\r\n* Finish up the ACL state store token tests\r\n\r\n* Finish the ACL state store unit tests\r\n\r\nAlso rename some things to make them more consistent.\r\n\r\n* Do as much ACL replication testing as I can.\r\n","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"98dcc32c5363709c31ccb12b9727df1a5cb0681b","date":"2018-10-31 13:18:01 -0700","message":"Updating configuration wording.","refs":[],"body":"Co-Authored-By: adilyse <rebecca@hashicorp.com>","author_name":"Anubhav Mishra","author_email":"anubhavmishra@me.com"},{"hash":"538973fc5eb316030a203fec0dcbac2807cda30d","date":"2018-10-31 13:18:50 -0700","message":"Clarify sync wording.","refs":[],"body":"Co-Authored-By: adilyse <rebecca@hashicorp.com>","author_name":"Anubhav Mishra","author_email":"anubhavmishra@me.com"},{"hash":"c576b0ce12f82d12a49ed489fe5466706cc37738","date":"2018-10-31 14:50:36 -0700","message":"Merge pull request #4873 from hashicorp/docs/helm-default-sync","refs":[],"body":"Update Helm docs to include the `default` flag for catalog sync","author_name":"Rebecca Zanzig","author_email":"rebecca@hashicorp.com"},{"hash":"db2cf014066f74e18b50444ad5a4fb4f0c25ca32","date":"2018-10-31 18:11:51 -0400","message":"Adds documentation for the new ACL APIs (#4851)","refs":[],"body":"* Update the ACL API docs\r\n\r\n* Add a CreateTime to the anon token\r\n\r\nAlso require acl:read permissions at least to perform rule translation. Don’t want someone DoSing the system with an open endpoint that actually does a bit of work.\r\n\r\n* Fix one place where I was referring to id instead of AccessorID\r\n\r\n* Add godocs for the API package additions.\r\n\r\n* Minor updates: removed some extra commas and updated the acl intro paragraph\r\n\r\n* minor tweaks\r\n\r\n* Updated the language to be clearer\r\n\r\n* Updated the language to be clearer for policy page\r\n\r\n* I was also confused by that! Your updates are much clearer.\r\n\r\nCo-Authored-By: kaitlincarter-hc <43049322+kaitlincarter-hc@users.noreply.github.com>\r\n\r\n* Sounds much better.\r\n\r\nCo-Authored-By: kaitlincarter-hc <43049322+kaitlincarter-hc@users.noreply.github.com>\r\n\r\n* Updated sidebar layout and deprecated warning\r\n","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"8337e3d8c0c2d054fa677350158683a207656ca1","date":"2018-10-31 15:51:07 -0700","message":"Merge pull request #4872 from hashicorp/node-snapshot-fix","refs":[],"body":"Node ID/datacenter snapshot fix","author_name":"Kyle Havlovitz","author_email":"kylehav@gmail.com"},{"hash":"f26f88071e61c57febce84b665acb972bdde46bf","date":"2018-10-31 15:53:02 -0700","message":"Update CHANGELOG.md","refs":[],"body":"","author_name":"Kyle Havlovitz","author_email":"kylehav@gmail.com"},{"hash":"3981c5d48c1bb9ebb69964eec8285dce4f368d89","date":"2018-11-01 14:44:49 -0700","message":"Adds redirects and updates links for learn.hashicorp (#4878)","refs":[],"body":"* Adds redirects for Getting Started pages\r\n\r\n* Uses correct links to resources at learn.hashicorp\r\n\r\n* Reconfigures \"Learn more\" links to point to learn.hashicorp\r\n\r\n* Links to learn.hashicorp on segmentation page\r\n\r\n* Adds redirect for sample config file\r\n\r\n* Fixes links to Getting Started guide on learn.hashicorp\r\n\r\n* Remove getting started guide which is now on learn.hashicorp\r\n\r\n* Corrects link to `consul/io` which should go to `consul.io`\r\n\r\n* Revert \"Remove getting started guide which is now on learn.hashicorp\"\r\n\r\nThis reverts commit 2cebacf402f83fb936718b41ac9a27415f4e9f21 so a placeholder\r\nmessage can be written here while we are transitioning content to\r\nlearn.hashicorp\r\n\r\n* Adding a new page for getting started to direct users to learn.\r\n\r\n* Added a note at the being of each doc to notify users about the temporary repo change.\r\n\r\n* Revert \"Added a note at the being of each doc to notify users about the temporary repo change.\"\r\n\r\nThis reverts commit 9a2a8781f9705028e4f53f758ef235e74b2b7198.\r\n\r\nFrom conversation at https://github.com/hashicorp/consul/pull/4878\r\n\r\n* Removes redirect from sample web.json demo file\r\n\r\n* Removed typo\r\n","author_name":"Geoffrey Grosenbach","author_email":"boss@topfunky.com"},{"hash":"f65f00167571f027518dac24105866e8acc823a1","date":"2018-11-02 14:44:36 +0000","message":"UI: Catch 500 error on token endpoint and revert to legacy tokens (#4874)","refs":[],"body":"In some circumstances a consul 1.4 client could be running in an\r\nun-upgraded 1.3 or lower cluster. Currently this gives a 500 error on\r\nthe new ACL token endpoint. Here we catch this specific 500 error/message\r\nand set the users AccessorID to null. Elsewhere in the frontend we use\r\nthis fact (AccessorID being null) to decide whether to present the\r\nlegacy or the new ACL UI to the user.\r\n\r\nAlso:\r\n- Re-adds in most of the old style ACL acceptance tests, now that we are keeping the old style UI\r\n- Restricts code editors to HCL only mode for all `Rules` editing (legacy/'half legacy'/new style)\r\n- Adds a [Stop using] button to the old style ACL rows so its possible to logout.\r\n- Updates copy and documentation links for the upgrade notices\r\n\r\n","author_name":"John Cowen","author_email":"johncowen@users.noreply.github.com"},{"hash":"9211d2701dd42d04651357cf2f2a3ca542d27572","date":"2018-11-02 12:00:39 -0500","message":"fix comment typos (#4890)","refs":[],"body":"","author_name":"R.B. Boyer","author_email":"public@richardboyer.net"},{"hash":"57dd160f406a7422f21f3e01bf6ca2ad31815f6e","date":"2018-11-02 11:55:33 -0500","message":"command/debug: make better use of atomic operations to write out the debug snapshots to disk","refs":[],"body":"","author_name":"R.B. Boyer","author_email":"rb@hashicorp.com"},{"hash":"37d88cad29e322162aea1e491ad023af579babf0","date":"2018-11-05 14:32:09 +0000","message":"Allow ACL legacy migration via CLI (#4882)","refs":[],"body":"* Adds a flag to `consul acl token update` that allows legacy ACLs to be upgraded via the CLI.\r\n\r\nAlso fixes a bug where descriptions are deleted if not specified.\r\n\r\n* Remove debug\r\n","author_name":"Paul Banks","author_email":"banks@banksco.de"},{"hash":"ea6e5c8945db48c862ac27f83a650529c0154481","date":"2018-11-01 18:57:50 -0700","message":"Clarify storage usage for consul + k8s","refs":[],"body":"This adds two Helm chart values into the documentation with details\nthat have come up in several issues.\n\nAdditionally, it notes that persistent volumes and their claims need\nto be removed manually because of current kubernetes and helm design.\n","author_name":"Rebecca Zanzig","author_email":"rzazzl@hotmail.com"},{"hash":"638a5ff7a1cbb6182a0828dff8313a90330a9431","date":"2018-11-05 12:12:46 -0800","message":"Document options for additional helm chart configuration","refs":[],"body":"There is a fine line between making the helm chart easy and simple to\nuse and supporting lots of configurability. This documents options for\nusers who would like to extend the Helm chart beyond what is readily\navailable in the `values.yaml` file.\n","author_name":"Rebecca Zanzig","author_email":"rzazzl@hotmail.com"},{"hash":"971f3fb4335ed3ca61e3424b5e9cb1167b2883a4","date":"2018-11-05 12:45:22 -0800","message":"Merge pull request #4891 from hashicorp/docs/k8s-storage","refs":[],"body":"Clarify storage usage for consul + k8s","author_name":"Rebecca Zanzig","author_email":"rebecca@hashicorp.com"},{"hash":"7ddafc45d9efaca2e48f2a502f795727d7b04b49","date":"2018-11-06 18:08:10 +0000","message":"ui: Make empty Rules ('') take priority over a `Legacy: true` (#4899)","refs":[],"body":"Even if an old style token has a Legacy of true, yet it has an empty set\r\nof Rules, treat the token as a new style token, as its essentially the\r\nsame","author_name":"John Cowen","author_email":"johncowen@users.noreply.github.com"},{"hash":"2de7fefeddab58d288789490b33b9ff60494b76e","date":"2018-11-06 22:34:36 +0100","message":"Remove wrong space character (#4910)","refs":[],"body":"There should be no space before a comma","author_name":"Philipp Gillé","author_email":"philippgille@users.noreply.github.com"},{"hash":"775026460e75662a23931175b4ea2e073216515c","date":"2018-11-06 22:35:51 +0100","message":"Update CHANGELOG.md","refs":[],"body":"","author_name":"Hans Hasselberg","author_email":"me@hans.io"},{"hash":"2c8675565d0270022824824d91f496eb55bdb28a","date":"2018-11-06 15:39:40 -0800","message":"Merge pull request #4900 from hashicorp/docs/helm-extension","refs":[],"body":"Document options for additional helm chart configuration","author_name":"Rebecca Zanzig","author_email":"rebecca@hashicorp.com"},{"hash":"77165c158862ee20922056b92b39027f1b4ae541","date":"2018-11-06 20:14:12 -0500","message":"Update consul CLI docs for kv export and import","refs":[],"body":"This will make the kv docs consistent with get/delete/put\n","author_name":"Mike Pettypiece","author_email":"mike@pettypiece.com"},{"hash":"aec362d06c4bb8fbbb6e233da2aee2514d25e3a0","date":"2018-11-06 18:47:44 -0800","message":"docs: fix some examples in the new ACL guide","refs":[],"body":"","author_name":"Kyle Havlovitz","author_email":"kylehav@gmail.com"},{"hash":"f22f6f992472f215d7d00975c4a9955dd9366cf7","date":"2018-11-06 18:49:28 -0800","message":"Merge pull request #4911 from mtpettyp/kv_doc_updates","refs":["origin/bugfix/acl-mode-transition"],"body":"Update consul CLI docs for kv export and import","author_name":"Kyle Havlovitz","author_email":"kylehav@gmail.com"},{"hash":"62691ebc82c8674bbcc8d83f428e6d3ac64299ab","date":"2018-11-07 02:15:37 -0800","message":"config: remote connect replication_token","refs":[],"body":"","author_name":"Kyle Havlovitz","author_email":"kylehav@gmail.com"},{"hash":"e8dd89359a321234dfe1db37bd8fb20fb6ae65d6","date":"2018-11-07 02:16:03 -0800","message":"agent: fix formatting","refs":[],"body":"","author_name":"Kyle Havlovitz","author_email":"kylehav@gmail.com"},{"hash":"c6db97b66675f6ca78722839dc1fd659cb7536f0","date":"2018-11-07 15:57:41 +0000","message":"UI: Removes success notification on faking a success response for `self` (#4906)","refs":[],"body":"In order to continue supporting the legacy ACL system, we replace\r\nthe 500 error from a non-existent `self` endpoint with a response of a\r\n`null` `AccessorID` - which makes sense (a null AccessorID means old\r\nAPI)\r\n\r\nWe then redirect the user to the old ACL pages which then gives a 403\r\nif their token was wrong which then redirects them back to the login page.\r\n\r\nDue to the multiple redirects and not wanting to test the validity of the token\r\nbefore redirecting (thus calling the same API endpoint twice), it is not\r\nstraightforwards to turn the 'faked' response from the `self` endpoint\r\ninto an error (flash messages are 'lost' through multiple redirects).\r\n\r\nIn order to make this a slightly better experience, you can now return a\r\n`false` during execution of an action requiring success/failure\r\nfeedback, this essentially skips the notification, so if the action is\r\n'successful' but you don't want to show the notification, you can. This\r\nresolves showing a successful notification when the `self` endpoint\r\nresponse is faked. The last part of the puzzle is to make sure that the\r\nglobal 403 catching error in the application Route also produces an\r\nerroneous notification.\r\n\r\nPlease note this can only happen with a ui client using the new ACL\r\nsystem when communicating with a cluster using the old ACL system, and\r\nonly when you enter the wrong token.\r\n\r\nLastly, further acceptance tests have been added around this\r\n\r\nThis commit also adds functionality to avoid any possible double \r\nnotification messages, to avoid UI overlapping\r\n","author_name":"John Cowen","author_email":"johncowen@users.noreply.github.com"},{"hash":"2afc2a3c3b78e1a40cb7a13fc7a2e39788fdd645","date":"2018-11-07 07:59:44 -0800","message":"acl: fixes ACL replication for legacy tokens without AccessorIDs (#4885)","refs":[],"body":"","author_name":"R.B. Boyer","author_email":"public@richardboyer.net"},{"hash":"6354996804d6730f6307091f1904f59446054fad","date":"2018-11-07 09:22:23 -0800","message":"docs: remove leftover typo from replication_token info","refs":[],"body":"","author_name":"Kyle Havlovitz","author_email":"kylehav@gmail.com"},{"hash":"9c09d66028a0cd10b6bbcdff57b799ff33fc4ca8","date":"2018-11-07 09:23:36 -0800","message":"Merge pull request #4912 from hashicorp/acl-doc-fixes","refs":[],"body":"docs: fix some examples in the new ACL guide","author_name":"Kyle Havlovitz","author_email":"kylehav@gmail.com"},{"hash":"2a8951fcc0e6e30093b57f0c9f73687b238a0805","date":"2018-11-07 10:42:13 -0800","message":"docs: remove curly quotes from shell block (#4921)","refs":[],"body":"","author_name":"R.B. Boyer","author_email":"public@richardboyer.net"},{"hash":"140a1edcea71eab90a0facbb8f928284662ee5b7","date":"2018-11-08 12:06:00 -0800","message":"Reorder Helm chart server values","refs":[],"body":"This matches the ordering in the Helm chart, to make it easier for\nusers to find information.\n","author_name":"Rebecca Zanzig","author_email":"rzazzl@hotmail.com"},{"hash":"db6c5d1b20a34ce3223a882f8865053c42c2dcaa","date":"2018-11-08 12:07:30 -0800","message":"Add doc info for added server affinity value","refs":[],"body":"Supports newly added functionality to the Helm chart.\n","author_name":"Rebecca Zanzig","author_email":"rzazzl@hotmail.com"},{"hash":"b153f9be39d30a772a130b39560a01b9e29ad3dd","date":"2018-11-08 16:28:40 -0600","message":"docs: use hcl heredoc syntax for multi line strings in sentinel examples (#4930)","refs":[],"body":"","author_name":"R.B. Boyer","author_email":"public@richardboyer.net"},{"hash":"e30cc73b1d4e281a0123cb1d914101b1ce7aaf44","date":"2018-11-09 10:35:47 -0600","message":"Update agent tests to wait a bit longer for the /v1/agent/self endpoint (#4937)","refs":[],"body":"","author_name":"R.B. Boyer","author_email":"public@richardboyer.net"},{"hash":"643bd13aed97188c92e2ff5e8d7b2f32e545efec","date":"2018-11-06 22:46:06 -0800","message":"oss: do a proper check-and-set on the CA roots/config fsm operation","refs":[],"body":"","author_name":"Kyle Havlovitz","author_email":"kylehav@gmail.com"},{"hash":"72e5c4c6210e54bce02dca332f9868b9b3162d0a","date":"2018-11-09 12:37:33 -0800","message":"Merge pull request #4928 from hashicorp/docs/server-affinity","refs":[],"body":"Add documentation of server affinity Helm chart variable","author_name":"Rebecca Zanzig","author_email":"rebecca@hashicorp.com"},{"hash":"972177071d91b8eb6a836a6c4c60c3910ccb1327","date":"2018-11-09 12:50:24 -0800","message":"update non-voting server test to fix enterprise diff","refs":[],"body":"","author_name":"Kyle Havlovitz","author_email":"kylehav@gmail.com"},{"hash":"b6cb8ea6ef55cf880e316b28bd28a9a11cf1b36d","date":"2018-11-09 16:58:54 -0800","message":"Update docs for Helm chart `maxUnavailable` value","refs":[],"body":"Due to a Helm templating limitation, setting this value to `0` requires\nan extra flag when installing. This adds information about that.\n","author_name":"Rebecca Zanzig","author_email":"rzazzl@hotmail.com"},{"hash":"e50c2ccf5b15b772964ef823345b1da269787276","date":"2018-11-09 17:13:15 -0800","message":"Merge pull request #4941 from hashicorp/docs/helm-maxUnavilable","refs":[],"body":"Update docs for Helm chart `maxUnavailable` value","author_name":"Rebecca Zanzig","author_email":"rebecca@hashicorp.com"},{"hash":"925e9ae26291315550f6c2d6a042f8fea19a718f","date":"2018-11-09 20:26:45 -0800","message":"Merge pull request #4940 from hashicorp/ent-test-diff","refs":[],"body":"Update non-voting server test to fix enterprise diff","author_name":"Kyle Havlovitz","author_email":"kylehav@gmail.com"},{"hash":"4a73a59d704c9e23c625145b5f06874956704eb3","date":"2018-11-12 09:12:54 -0800","message":"Merge pull request #4917 from hashicorp/replication-token-cleanup","refs":[],"body":"Use acl replication_token for connect","author_name":"Kyle Havlovitz","author_email":"kylehav@gmail.com"},{"hash":"54c2ff6acaa90b23c8c3f5fd6c9e621b3de36b0e","date":"2018-11-12 20:20:12 +0000","message":"connect: remove additional trust-domain validation (#4934)","refs":[],"body":"* connct: Remove additional trust-domain validation\r\n\r\n* Comment typos\r\n\r\n* Update connect_ca.go\r\n","author_name":"Paul Banks","author_email":"banks@banksco.de"},{"hash":"8ca4e56db1be6af32cec47840bf6ce66ab2a1a1c","date":"2018-11-12 12:22:18 -0800","message":"Update the helm chart `join` instructions","refs":[],"body":"This fixes some previous incorrect information about the join feature\nin the Helm chart. Based on the fix for consul-helm issue 59.\n","author_name":"Rebecca Zanzig","author_email":"rzazzl@hotmail.com"},{"hash":"2e006415767e9d6d9a7d3e6d3e49995ca0bcb24f","date":"2018-11-12 12:58:43 -0800","message":"Merge pull request #4948 from hashicorp/docs/helm-auto-join","refs":[],"body":"Update the helm chart `join` instructions","author_name":"Rebecca Zanzig","author_email":"rebecca@hashicorp.com"},{"hash":"a90c29e60db689d27508b74006b37277b50b136e","date":"2018-11-13 05:43:53 -0800","message":"Doc changes for 1.4 Final (#4870)","refs":[],"body":"* website: add multi-dc enterprise landing page\r\n\r\n* website: switch all 1.4.0 alerts/RC warnings\r\n\r\n* website: connect product wording\r\n\r\nCo-Authored-By: pearkes <jackpearkes@gmail.com>\r\n\r\n* website: remove RC notification\r\n\r\n* commmand/acl: fix usage docs for ACL tokens\r\n\r\n* agent: remove comment, OperatorRead\r\n\r\n* website: improve multi-dc docs\r\n\r\nStill not happy with this but tried to make it slightly more informative.\r\n\r\n* website: put back acl guide warning for 1.4.0\r\n\r\n* website: simplify multi-dc page and respond to feedback\r\n\r\n* Fix Multi-DC typos on connect index page.\r\n\r\n* Improve Multi-DC overview.\r\n\r\nA full guide is a WIP and will be added post-release.\r\n\r\n* Fixes typo avaiable > available\r\n","author_name":"Jack Pearkes","author_email":"jackpearkes@gmail.com"},{"hash":"4942e664401a8f18b6e84a82bbc0cce84d6b8962","date":"2018-11-13 15:44:36 +0100","message":"Fix catalog tag filter backward compat (#4944)","refs":[],"body":"Fix catalog service node filtering (ex /v1/catalog/service/srv?tag=tag1)\r\nbetween agent version <=v1.2.3 and server >=v1.3.0.\r\nNew server version did not account for the old field when filtering\r\nhence request made from old agent were not tag-filtered.","author_name":"Aestek","author_email":"thib.gilles@gmail.com"},{"hash":"127df2952cca6ed424272cc724c6da4a2bb4a19c","date":"2018-11-13 14:46:42 +0000","message":"Update CHANGELOG.md","refs":[],"body":"","author_name":"Paul Banks","author_email":"banks@banksco.de"},{"hash":"b3e9281181952951fa8c7bd36af6cb566ad52c23","date":"2018-11-13 14:52:43 +0000","message":"Update CHANGELOG.md","refs":[],"body":"","author_name":"Paul Banks","author_email":"banks@banksco.de"},{"hash":"269354c61d4257792f528003dcf7df0ffaf18694","date":"2018-11-12 15:38:53 -0800","message":"oss: bump test server version to 1.4.0","refs":[],"body":"","author_name":"Kyle Havlovitz","author_email":"kylehav@gmail.com"},{"hash":"934fae659f89a482afe2e45f47a4609a4ef95241","date":"2018-11-13 15:35:54 -0600","message":"acl: add stub hooks to support some plumbing in enterprise (#4951)","refs":[],"body":"","author_name":"R.B. Boyer","author_email":"public@richardboyer.net"},{"hash":"76f102a1e061ba0ee6e58d517d3dd75eb582a757","date":"2018-11-13 13:37:10 -0800","message":"Merge pull request #4952 from hashicorp/test-version","refs":[],"body":"tests: Bump test server version to 1.4.0","author_name":"Kyle Havlovitz","author_email":"kylehav@gmail.com"},{"hash":"63aa189b1f58d413d0a682e25c16b170db90568c","date":"2018-11-13 15:01:53 -0800","message":"Update changelog and website for 1.3.1 release","refs":[],"body":"","author_name":"Kyle Havlovitz","author_email":"kylehav@gmail.com"},{"hash":"24b60ba77a21495e1f16be073a11fa3de72d9852","date":"2018-11-14 15:40:02 +0000","message":"Acl upgrade guide (#4880)","refs":[],"body":"* Very WIP upgrade docs. Actual Upgrade notes doneish; token migration guide WIP.\r\n\r\n* Token migration guide\r\n\r\n* Complete ACL migration guide\r\n\r\n* Upgrade guide cleanup\r\n\r\n* Updated upgrade and migration guides\r\n\r\n* Typo fix\r\n\r\nCo-Authored-By: banks <banks@banksco.de>\r\n\r\n* Update website/source/docs/guides/acl-migrate-tokens.html.md\r\n\r\nCo-Authored-By: banks <banks@banksco.de>\r\n\r\n* Update website/source/docs/guides/acl-migrate-tokens.html.md\r\n\r\nCo-Authored-By: banks <banks@banksco.de>\r\n\r\n* Update upgrade-specific.html.md\r\n\r\n* Update website/source/docs/guides/acl-migrate-tokens.html.md\r\n\r\n* Update website/source/docs/guides/acl-migrate-tokens.html.md\r\n\r\n* Note Multi-DC changes in upgrade guide.\r\n\r\n* Update website/source/docs/upgrade-specific.html.md\r\n","author_name":"Paul Banks","author_email":"banks@banksco.de"},{"hash":"712a235a87e125189f6c7ca7b94571693a4a264a","date":"2018-11-14 15:14:48 -0600","message":"changelog: acl v2 tweaks (#4957)","refs":[],"body":"[ci skip]","author_name":"R.B. Boyer","author_email":"public@richardboyer.net"},{"hash":"465332315ceb2d01716221a32ea754f25c1d195c","date":"2018-11-14 21:39:59 +0000","message":"Update upgrade-specific.html.md (#4956)","refs":[],"body":"","author_name":"Paul Banks","author_email":"banks@banksco.de"},{"hash":"0bddfa23a2ebe3c0773d917fc104f53d74f7a5ec","date":"2018-11-14 22:37:47 +0000","message":"Release v1.4.0","refs":["tag: v1.4.0"],"body":"","author_name":"banks","author_email":"banks@banksco.de","tag":"v1.4.0"},{"hash":"72c56387ca4ab8dc3ca69c641f3ae8cb1054631b","date":"2018-11-14 16:29:09 -0800","message":"Bump website download version to 1.4.0","refs":[],"body":"","author_name":"Kyle Havlovitz","author_email":"kylehav@gmail.com"},{"hash":"1195686d0981f3f3ccdf0124d7a4b4e728e38b8b","date":"2018-11-14 16:39:58 -0800","message":"website: re-add 1.4 notification to index.html","refs":[],"body":"","author_name":"Kyle Havlovitz","author_email":"kylehav@gmail.com"},{"hash":"94cfe3e96cd0aee24378ce76f076f00d8178c4a0","date":"2018-11-14 16:53:15 -0800","message":"Merge pull request #4958 from hashicorp/1.4-website-notif","refs":[],"body":"website: re-add 1.4 notification to index.html","author_name":"Kyle Havlovitz","author_email":"kylehav@gmail.com"},{"hash":"92edc11d1dcc7ba4147599d6afd7698996a15353","date":"2018-11-15 00:55:23 +0000","message":"Putting source back into Dev Mode","refs":[],"body":"","author_name":"banks","author_email":"banks@banksco.de"},{"hash":"bc55b7d7e4cc0da24f806e03e9f076639f02cb2f","date":"2018-11-14 16:56:48 -0800","message":"Put the tree in v1.4.1 dev mode","refs":[],"body":"","author_name":"Kyle Havlovitz","author_email":"kylehav@gmail.com"},{"hash":"2ddc3a3fed4ee2dcba764e1d9ff82369a146185a","date":"2018-11-14 17:03:49 -0800","message":"Update CHANGELOG.md","refs":[],"body":"","author_name":"Kyle Havlovitz","author_email":"kylehav@gmail.com"},{"hash":"db936067d2691d76a04a870d0e315b5c9781109e","date":"2018-11-15 06:53:22 -0500","message":"Please add file2consul to your tools page (#4959)","refs":[],"body":"* adding file2consul listing\r\n\r\n* minor edit\r\n\r\n* modified wording added some punctuation\r\n\r\n* Moved file2consul so it is listed in alpha order.   Replaces Pull Request # #4942\r\n","author_name":"Joseph Ellsworth","author_email":"joee@bayesanalytic.com"},{"hash":"6a5eefcdf88caaf68a7a9713efe3a3e2b94fe808","date":"2018-11-16 12:04:46 +0000","message":"Redirect old ACL API","refs":[],"body":"","author_name":"Paul Banks","author_email":"banks@banksco.de"},{"hash":"e3dd70e42cc8f374f7874c2977a256ebf1cc782f","date":"2018-11-16 15:25:47 +0100","message":"website: dodge CVE-2018-16471 for rack (#4972)","refs":[],"body":"updates dependency.","author_name":"Hans Hasselberg","author_email":"me@hans.io"},{"hash":"2698f2f0c063c355c5aa936fd2506f7bb5624a30","date":"2018-11-16 11:11:58 -0500","message":"comment out redirects for learn site","refs":[],"body":"","author_name":"Alvin Huang","author_email":"alvin@hashicorp.com"},{"hash":"07e8e4d29dc192ab1ea2d030371eda3f4ff22d41","date":"2018-11-16 11:15:02 -0500","message":"Merge pull request #4974 from hashicorp/fix_redirects","refs":[],"body":"comment out redirects for learn site","author_name":"Alvin Huang","author_email":"huang.s.alvin@gmail.com"},{"hash":"62aecfc643807ce88b821a586a01dadeb9c1de86","date":"2018-11-16 11:06:35 -0800","message":"Fixes links to ACL API docs (#4966)","refs":[],"body":"Was previously pointed to `/api/acl.html` but should be `/api/acl/acl.html`.\r\nThis commit fixes all instances of the incorrect link.","author_name":"Geoffrey Grosenbach","author_email":"boss@topfunky.com"},{"hash":"373fafb4afd35f19f204ed584a8e9197cc73219c","date":"2018-11-16 11:09:32 -0800","message":"Document Fastly redirects (#4887)","refs":[],"body":"* Adds note about use of Fastly VCL for redirects\r\n\r\nSome redirects are not possible with a redirect file, so we send traffic to\r\nlearn.hashicorp.com with custom VCL (Varnish) handlers using the Fastly web\r\nadmin.\r\n\r\nFuture migrations of content to learn.hashicorp.com should also use this\r\napproach.\r\n","author_name":"Geoffrey Grosenbach","author_email":"boss@topfunky.com"},{"hash":"c7e55009f19cdb6b28c5948125a1af16a2b172fd","date":"2018-11-16 14:01:02 -0500","message":"add circleci website build","refs":[],"body":"fix up run commands\n","author_name":"Alvin Huang","author_email":"alvin@hashicorp.com"},{"hash":"041e0b83ec8c572fc7058068fcb9b35066eaa045","date":"2018-11-16 15:49:33 -0500","message":"remove packer.json since CircleCI builds the site","refs":[],"body":"","author_name":"Alvin Huang","author_email":"alvin@hashicorp.com"},{"hash":"eba25a143821cec25bdb48fe64dd7b7a6152d01d","date":"2018-11-16 15:17:04 -0800","message":"Consul on Minikube guide (#4949)","refs":[],"body":"* Adds images for Minikube guide\r\n* Adds notes about Helm YAML configuration\r\n* Embed Wistia video for Consul Minikube guide\r\n* Cleans up menus, instructions, Helm steps\r\n* Adds captions for all images\r\n* Uses Docker images hosted on hashicorp org for demo\r\n* Adds link to Minikube guide from menu and k8s index page\r\n* Clarify steps in Minikube/Kubernetes guide\r\n","author_name":"Geoffrey Grosenbach","author_email":"boss@topfunky.com"},{"hash":"c16006da9a3fcc0cb7d3f19cd5a170c6c8bb53d5","date":"2018-11-19 15:28:32 +0000","message":"update redirects doc comment for clarity","refs":[],"body":"","author_name":"Paul Banks","author_email":"banks@banksco.de"},{"hash":"c5ae9caa282c1348f4f97ced8f0f7b9c25b723c9","date":"2018-11-20 12:27:26 +0100","message":"Fixed another list of unstable unit tests in travis (#4915)","refs":[],"body":"* Fixed another list of unstable unit tests in travis\r\n\r\nFixed failing tests in https://travis-ci.org/hashicorp/consul/jobs/451357061\r\n\r\n* Fixed another list of unstable unit tests in travis.\r\n\r\nFixed failing tests in https://travis-ci.org/hashicorp/consul/jobs/451357061\r\n","author_name":"Pierre Souchay","author_email":"pierresouchay@users.noreply.github.com"},{"hash":"71a0aa5049e4e53dda5b6262eb0ebcfaf06adb9c","date":"2018-11-20 10:17:54 -0600","message":"Adding the new Consul Template Guide. (#4947)","refs":[],"body":"* Adding the new Consul Template Guide.\r\n\r\n* Update website/source/docs/guides/consul-template.html.md\r\n\r\nCo-Authored-By: kaitlincarter-hc <43049322+kaitlincarter-hc@users.noreply.github.com>\r\n\r\n* Update website/source/docs/guides/consul-template.html.md\r\n\r\nCo-Authored-By: kaitlincarter-hc <43049322+kaitlincarter-hc@users.noreply.github.com>\r\n\r\n* Update website/source/docs/guides/consul-template.html.md\r\n\r\nCo-Authored-By: kaitlincarter-hc <43049322+kaitlincarter-hc@users.noreply.github.com>\r\n\r\n* Update website/source/docs/guides/consul-template.html.md\r\n\r\nCo-Authored-By: kaitlincarter-hc <43049322+kaitlincarter-hc@users.noreply.github.com>\r\n\r\n* Making updates based on Pauls feedback.\r\n\r\n* Update website/source/docs/guides/consul-template.html.md\r\n\r\nCo-Authored-By: kaitlincarter-hc <43049322+kaitlincarter-hc@users.noreply.github.com>\r\n\r\n* Update website/source/docs/guides/consul-template.html.md\r\n\r\nCo-Authored-By: kaitlincarter-hc <43049322+kaitlincarter-hc@users.noreply.github.com>\r\n\r\n* Update website/source/docs/guides/consul-template.html.md\r\n\r\nCo-Authored-By: kaitlincarter-hc <43049322+kaitlincarter-hc@users.noreply.github.com>\r\n\r\n* Couple more updates based on Pauls feedback.\r\n\r\n* updated the intro to include how template can replace api use\r\n\r\n* updated the address\r\n\r\n* Adding minikube guide to the index page.\r\n","author_name":"kaitlincarter-hc","author_email":"43049322+kaitlincarter-hc@users.noreply.github.com"},{"hash":"3c6bf3eb4748e504cd92c14baa77ec0171f6449c","date":"2018-11-20 10:56:11 -0800","message":"Update type for `resources` variables","refs":[],"body":"These were changed to multi-line strings to match the affinity\ndefinition.\n","author_name":"Rebecca Zanzig","author_email":"rzazzl@hotmail.com"},{"hash":"7fae3046621604e624e48f6562f2e7cd48903496","date":"2018-11-20 14:11:31 -0500","message":"Merge pull request #4975 from hashicorp/circleci-website-build","refs":[],"body":"add circleci website build","author_name":"Alvin Huang","author_email":"huang.s.alvin@gmail.com"},{"hash":"1bbd01147b97f3c20aa9c8fe2509b603dca0b9a6","date":"2018-11-20 11:40:03 -0800","message":"Merge pull request #4980 from hashicorp/docs/helm-resources","refs":[],"body":"Update type for `resources` variables","author_name":"Rebecca Zanzig","author_email":"rebecca@hashicorp.com"},{"hash":"1b9edd1ebfb1b22d34ee5be71afddc1c325aa27c","date":"2018-11-26 12:41:47 +0000","message":"Fix sidecar-service docs","refs":[],"body":"","author_name":"Paul Banks","author_email":"banks@banksco.de"},{"hash":"e1fb21cd4c7e3732a7b6d5815e8a7330240a6683","date":"2018-11-26 14:27:56 +0000","message":"ui: Adds the CONSUL_VERSION env var into the HTML source in a comment (#4993)","refs":[],"body":"","author_name":"John Cowen","author_email":"johncowen@users.noreply.github.com"},{"hash":"9c11109db47665017e4b91ef1ecae856ba3e6e19","date":"2018-11-26 17:34:00 +0000","message":"ui: If a service has no external-source, don't show the icon (#4996)","refs":[],"body":"","author_name":"John Cowen","author_email":"johncowen@users.noreply.github.com"},{"hash":"a790aeacd72f45b7dca6247f4d5a472a4816efdd","date":"2018-11-26 10:26:46 -0800","message":"guides: remove references to specific versions (#4999)","refs":[],"body":"This changes with time so will opt to not hardcoding this. Investigated using the middleman helper to render\r\nout the current configured version but that won't exist on learn.hashicorp.com so I think this\r\nis the most future-proof way.","author_name":"Jack Pearkes","author_email":"jackpearkes@gmail.com"},{"hash":"1a27869be6e22856121f1e5e4876d98fb6c3ea7e","date":"2018-11-27 05:28:33 +1100","message":"UPDATE snapshot.html.erb - fix formatting on links (#4982)","refs":[],"body":"Links to the `agent` and `inspect` docpages were broken by errant whitespace.","author_name":"Louis Willcock","author_email":"louiswillcock@gmail.com"},{"hash":"366dcab8464f96ab9657ca96ffb746e5a2f53948","date":"2018-11-26 13:55:15 -0500","message":"Fix \"Read Self Token\" URL in acl/token docs (#4978)","refs":[],"body":"","author_name":"Borys Pierov","author_email":"github@ashald.net"},{"hash":"833e64d0904421fae29816483b254f66896eb664","date":"2018-11-26 17:01:39 -0500","message":"Update open graph image (#4953)","refs":[],"body":"","author_name":"Jennifer Yip","author_email":"lunchbag@gmail.com"},{"hash":"7d32989e52c731614010ba2e13098b746ad585f2","date":"2018-11-27 09:56:26 -0600","message":"website: remove lingering beta note about Connect (#5009)","refs":[],"body":"[skip ci]","author_name":"R.B. Boyer","author_email":"public@richardboyer.net"},{"hash":"8881d352aae4cbaf1507e42db836bca937cc1c95","date":"2018-11-27 09:10:44 -0800","message":"Updated autopilot guide (#4997)","refs":[],"body":"* Updated the autopilot guide to prepare for the migration to the learn platform.\r\n\r\n* Correcting typos\r\n","author_name":"kaitlincarter-hc","author_email":"43049322+kaitlincarter-hc@users.noreply.github.com"},{"hash":"5ffa400008c73dee191549a60c7c3ad94d37b6de","date":"2018-11-27 17:11:17 +0000","message":"Update CHANGELOG.md","refs":[],"body":"","author_name":"Paul Banks","author_email":"banks@banksco.de"},{"hash":"9bb239a01c9ddeff016ceab84b74bd934cbb753c","date":"2018-11-27 17:15:01 +0000","message":"Update security notices around script checks","refs":[],"body":"","author_name":"Paul Banks","author_email":"banks@banksco.de"},{"hash":"b4f357bf3813fe9d10a9038da72bddb027f6e00c","date":"2018-11-28 15:39:28 -0800","message":"Fixes URL paths to learn.hashicorp.com","refs":[],"body":"Removes `.html` when not needed in order to clean up analytics.\n","author_name":"Geoffrey Grosenbach","author_email":"boss@topfunky.com"},{"hash":"c1eccfd1dbeeaf39dcc605e0f59827a58c48f3fd","date":"2018-11-29 09:45:51 -0600","message":"agent: remove some stray fmt.Print* calls (#5015)","refs":[],"body":"","author_name":"R.B. Boyer","author_email":"public@richardboyer.net"},{"hash":"7a6ebd419fe671b2991f6705c92edccb7e5436a2","date":"2018-11-29 08:08:44 -0800","message":"Updates to DNS Caching Guide (#5001)","refs":[],"body":"* Updates to DNS Caching Guide\r\n\r\n* Spelling and grammar\r\n","author_name":"kaitlincarter-hc","author_email":"43049322+kaitlincarter-hc@users.noreply.github.com"},{"hash":"8613dcb6fd32bbd1eaf9c1e6634c69a33e35788a","date":"2018-11-29 08:18:05 -0800","message":"website: add consul-aws guide from @i0rek (#5023)","refs":[],"body":"* website: add consul-aws guide from @i0rek\r\n","author_name":"Jack Pearkes","author_email":"jackpearkes@gmail.com"},{"hash":"e0d1c58bfc3be2403b079db53fe5215a1372f283","date":"2018-11-29 13:23:58 -0800","message":"website: clarify uuid format (#5014)","refs":[],"body":"","author_name":"Jack Pearkes","author_email":"jackpearkes@gmail.com"},{"hash":"3fce7304167624e6ba96e4ed511621e28e87d970","date":"2018-11-29 22:39:50 +0100","message":"website: capitalize headline (#5024)","refs":[],"body":"","author_name":"Hans Hasselberg","author_email":"me@hans.io"},{"hash":"1f55207b2969a370cbe51bde58a5e0b43fe5b1a6","date":"2018-11-29 13:41:22 -0800","message":"Corrects you/your and camelcasing of \"GitHub\" (#5018)","refs":[],"body":"","author_name":"Geoffrey Grosenbach","author_email":"boss@topfunky.com"},{"hash":"8f93a0aeb23d0b30ccc48a165f1115365fbb766a","date":"2018-11-29 13:43:29 -0800","message":"Merge branch 'doc-intro-learn-url'","refs":[],"body":"","author_name":"Geoffrey Grosenbach","author_email":"boss@topfunky.com"},{"hash":"7ecbb63102bd7692bbffbc690c8fb26fc407ce9c","date":"2018-11-30 09:59:02 +0000","message":"ui: Add AWS external-source icon (#5030)","refs":[],"body":"","author_name":"John Cowen","author_email":"johncowen@users.noreply.github.com"},{"hash":"0e688e6f590f57cbec9150aba7906c87434de274","date":"2018-11-30 16:22:52 -0800","message":"website: clarify format of prepared query upstreams (#5026)","refs":[],"body":"This just gives an example of a prepared query upstream\r\nconfiguration and clarifies the format in the description","author_name":"Jack Pearkes","author_email":"jackpearkes@gmail.com"},{"hash":"f453abda8c4c5122dbaa9b8c9280cea137c33b69","date":"2018-12-04 09:52:30 -0600","message":"Fixed typos in autopilot doc (#5051)","refs":[],"body":"","author_name":"Stenio Ferreira","author_email":"stenio123+developer@gmail.com"},{"hash":"8433b26b7822ff1dea7ca462f0840024396d8dd5","date":"2018-12-04 17:02:59 +0000","message":"ui: Correctly escape an inline svg icon (#5032)","refs":[],"body":"","author_name":"John Cowen","author_email":"johncowen@users.noreply.github.com"},{"hash":"628a25bbc779c2f8e2b76fe10923cc89dc6dcb7b","date":"2018-12-04 16:44:23 -0800","message":"website: use smaller og image (#5053)","refs":[],"body":"This is done for the same reason as https://github.com/hashicorp/consul/pull/4005\r\nand essentially reverts https://github.com/hashicorp/consul/pull/4953\r\nwhich gave us unwanted unfurling behavior for links to consul.io from\r\nservices such as Slack.","author_name":"Jack Pearkes","author_email":"jackpearkes@gmail.com"},{"hash":"43d882c38e9107cc6e756a75f438c62e2f7e836b","date":"2018-12-05 17:32:11 +0100","message":"Update configuration.html.md (#5058)","refs":[],"body":"Link to Upstream Configuration was pointing to http://localhost:4567.\r\nFixed reference.","author_name":"danielehc","author_email":"40759828+danielehc@users.noreply.github.com"},{"hash":"b1823e428a547c22b5410215e5210be53b6225fd","date":"2018-12-06 10:59:43 -0500","message":"clarify how `separator` should be in CLI and API","refs":[],"body":"","author_name":"Alvin Huang","author_email":"alvin@hashicorp.com"},{"hash":"cb329089a423d04f77675023eec3b0fd4e13c1ff","date":"2018-12-05 14:40:48 -0600","message":"Docs: clarify output vs notes","refs":[],"body":"fixup\n","author_name":"Hannah Oppenheimer","author_email":"hannah@hashicorp.com"},{"hash":"b64e8b262f80397eab4f39c6ae7e14683cb9f55c","date":"2018-12-06 13:51:49 -0800","message":"Documentation and changes for `verify_server_hostname` (#5069)","refs":[],"body":"* verify_server_hostname implies verify_outgoing\r\n\r\n* mention CVE in the docs.\r\n","author_name":"Jack Pearkes","author_email":"jackpearkes@gmail.com"},{"hash":"4f2715d4e28cf2ed18978b4c584171a90ac35878","date":"2018-12-05 18:27:20 -0800","message":"connect/ca: prevent blank CA config in snapshot","refs":[],"body":"This PR both prevents a blank CA config from being written out to\na snapshot and allows Consul to gracefully recover from a snapshot\nwith an invalid CA config.\n\nFixes #4954.\n","author_name":"Kyle Havlovitz","author_email":"kylehav@gmail.com"},{"hash":"60e2a38067a6e5ab44e02a88b8efbdb69d2a8004","date":"2018-12-06 19:15:44 -0800","message":"Update CHANGELOG.md","refs":[],"body":"","author_name":"Jack Pearkes","author_email":"jackpearkes@gmail.com"},{"hash":"c7e0d3b9196f87d9dd8f516f0a99bcb845041921","date":"2018-12-07 09:08:52 -0800","message":"Merge pull request #5061 from hashicorp/blank-ca-fix","refs":[],"body":"connect/ca: prevent blank CA config in snapshot","author_name":"Kyle Havlovitz","author_email":"kylehav@gmail.com"},{"hash":"0d8ae1e49517b04af8aee4d01fed9a27fd690b5a","date":"2018-12-07 09:10:23 -0800","message":"Update CHANGELOG.md","refs":[],"body":"","author_name":"Kyle Havlovitz","author_email":"kylehav@gmail.com"},{"hash":"7994d4a1026bcf0c53b1248833ae9b01728c683c","date":"2018-12-07 14:57:00 -0500","message":"change depth to prefix","refs":["origin/clarify_separator_api"],"body":"","author_name":"Alvin Huang","author_email":"alvin@hashicorp.com"},{"hash":"dd1243691aed1005a3e359e25eccb1a86664da36","date":"2018-12-07 16:04:35 -0800","message":"Add documentation about the new ClusterIP syncing","refs":[],"body":"Adds ClusterIP as a supported service type in the sync doc, as well\nas add `syncClusterIPServices` to the helm chart detailed list.\n","author_name":"Rebecca Zanzig","author_email":"rzazzl@hotmail.com"},{"hash":"ebc6e6914c0ef99d2789463addafdfdbda295198","date":"2018-12-07 17:20:44 -0800","message":"Merge pull request #5072 from hashicorp/docs/helm-clusterip-support","refs":[],"body":"Add documentation about the new ClusterIP syncing","author_name":"Rebecca Zanzig","author_email":"rebecca@hashicorp.com"},{"hash":"3a8da5e7ce4025994adb13decc59b278827a7e3a","date":"2018-12-11 09:00:52 -0800","message":"website: clarify format of check IDs for sessions (#5036)","refs":[],"body":"* website: clarify format of check IDs for sessions\r\n\r\n* Update website/source/api/session.html.md\r\n\r\nCo-Authored-By: pearkes <jackpearkes@gmail.com>\r\n","author_name":"Jack Pearkes","author_email":"jackpearkes@gmail.com"},{"hash":"cc576154458fe3998253d973b5622a9f5f642b6a","date":"2018-12-11 11:06:18 -0800","message":"website: clarify catalog registration ID behavior (#5019)","refs":[],"body":"* website: clarify catalog registration ID behavior\r\n\r\nFixes #3769\r\n\r\n* Update catalog.html.md\r\n","author_name":"Jack Pearkes","author_email":"jackpearkes@gmail.com"},{"hash":"6d811175447fdfd61bff376316237af86eb973b1","date":"2018-12-11 14:51:24 -0600","message":"Outage Recover Guide Updates. (#5003)","refs":[],"body":"* Adding examples and a summary. Minor structure updates.\r\n\r\n* Added a link to the deployment guide, but needed to remove a sentence referring to a guide that's not published yet.\r\n\r\n* fixed typo\r\n","author_name":"kaitlincarter-hc","author_email":"43049322+kaitlincarter-hc@users.noreply.github.com"},{"hash":"110c0c785e579bb9c576fb2c4031af296b5b5ce7","date":"2018-12-12 09:12:29 -0600","message":"Updates to the Adding/Removing Servers Guide (#5004)","refs":[],"body":"* added a new section for adding servers, updated section titles, and added code snippets.\r\n\r\n* Fixing typos\r\n\r\n* fixing typos\r\n\r\n* Addressing some of Paul's feedback.\r\n\r\n* Updated the outage recovery recommendation\r\n","author_name":"kaitlincarter-hc","author_email":"43049322+kaitlincarter-hc@users.noreply.github.com"},{"hash":"b371ea8783a04d9ec6e3249f7dc727e623c8e54f","date":"2018-10-29 11:41:42 -0700","message":"Add check operations to transaction api","refs":[],"body":"","author_name":"Kyle Havlovitz","author_email":"kylehav@gmail.com"},{"hash":"01e1b5b1df5420598a47694195781f9a462a3813","date":"2018-12-02 23:11:48 -0800","message":"txn: add pre-check operations to txn endpoint","refs":[],"body":"","author_name":"Kyle Havlovitz","author_email":"kylehav@gmail.com"},{"hash":"ab58986ac31f4d21477f0b9a3131bb7b2423c3f0","date":"2018-12-02 23:51:18 -0800","message":"txn: add node operations","refs":[],"body":"","author_name":"Kyle Havlovitz","author_email":"kylehav@gmail.com"},{"hash":"7759e9ea8bffe100c56c6ead1191710889719ae2","date":"2018-12-03 00:41:24 -0800","message":"txn: add service operations","refs":[],"body":"","author_name":"Kyle Havlovitz","author_email":"kylehav@gmail.com"},{"hash":"9467067432882ee681b921a21635e9548184b533","date":"2018-12-12 01:15:43 -0800","message":"state: add tests for new txn ops","refs":[],"body":"","author_name":"Kyle Havlovitz","author_email":"kylehav@gmail.com"},{"hash":"6a512e5c0fcbb4cf62f59c886e48416ec5dda1f4","date":"2018-12-12 02:29:54 -0800","message":"txn: add ACL enforcement/validation to new txn ops","refs":[],"body":"","author_name":"Kyle Havlovitz","author_email":"kylehav@gmail.com"},{"hash":"de4dbf583eba625f6b62612fd9acf607caa92398","date":"2018-12-12 05:22:25 -0800","message":"txn: add tests for RPC endpoint","refs":[],"body":"","author_name":"Kyle Havlovitz","author_email":"kylehav@gmail.com"},{"hash":"67bac7a8150394e7acafed6689e7bcb79277dd41","date":"2018-12-12 09:14:02 -0800","message":"api: add support for new txn operations","refs":[],"body":"","author_name":"Kyle Havlovitz","author_email":"kylehav@gmail.com"},{"hash":"f4dc8b42e05383920beb6afe1ae694191978da9b","date":"2018-12-12 21:09:42 +0100","message":"[Travis][UnstableTests] Fixed unstable tests in travis (#5013)","refs":[],"body":"* [Travis][UnstableTests] Fixed unstable tests in travis as seen in https://travis-ci.org/hashicorp/consul/jobs/460824602\r\n\r\n* Fixed unstable tests in https://travis-ci.org/hashicorp/consul/jobs/460857687\r\n","author_name":"Pierre Souchay","author_email":"pierresouchay@users.noreply.github.com"},{"hash":"222446fe032fbf7514d601e242d66076d166618f","date":"2018-12-12 21:10:57 +0100","message":"Added consul-bench tool to list of community tools (#5010)","refs":[],"body":"Put consul-bench in aphabetical order","author_name":"Pierre Souchay","author_email":"pierresouchay@users.noreply.github.com"},{"hash":"87aea652f0d009d9fc01e5bc1c47b0fe25d3f501","date":"2018-12-12 12:14:19 -0800","message":"Merge pull request #5065 from hashicorp/clarify_separator_api","refs":[],"body":"clarify how `separator` should be in CLI and API","author_name":"Alvin Huang","author_email":"huang.s.alvin@gmail.com"},{"hash":"995e728ea0da8ddd8a69d6d4fd1ec6ea226e7ea0","date":"2018-12-12 12:46:33 -0800","message":"txn: fix an issue with querying nodes by name instead of ID","refs":["origin/txn-checks"],"body":"","author_name":"Kyle Havlovitz","author_email":"kylehav@gmail.com"},{"hash":"09c7484cab80cfff1ea44e76be268fa8ec81c30b","date":"2018-12-17 23:56:55 +0900","message":"fix typo (#5099)","refs":[],"body":"encourge -> encourage","author_name":"David A. Stevenson","author_email":"41417965+DavidAStevenson@users.noreply.github.com"},{"hash":"cb5524e1e94d20a7b156ee58463833926bb5071c","date":"2018-12-17 09:16:07 -0600","message":"Guide Update: Adding/Removing Server  (#5095)","refs":[],"body":"* first draft of updated content for consul leave\r\n\r\n* Changed the consul leave/bootstrap_expect scenario into a note\r\n","author_name":"kaitlincarter-hc","author_email":"43049322+kaitlincarter-hc@users.noreply.github.com"},{"hash":"787f3f8aa690857d32005e9252d346344cee613f","date":"2018-12-17 18:56:18 +0100","message":"agent: honor when ca is set but verify_outgoing is disabled (#4826)","refs":[],"body":"* honor when verify_outgoing is false but ca is set\r\n\r\n* Remove code that exists only for tests\r\n\r\n* fix formatting\r\n","author_name":"Hans Hasselberg","author_email":"me@hans.io"},{"hash":"0b4a8792031d0132e38b2792c040aa660d1ea9fb","date":"2018-12-17 19:35:03 +0100","message":"ui: serve /robots.txt when UI is enabled. (#5089)","refs":[],"body":"* serve /robots.txt\r\n* robots.txt: disallow everything\r\n","author_name":"Hans Hasselberg","author_email":"me@hans.io"},{"hash":"ce82de1965811ea5dcb5e1a80ea51a6800a6a340","date":"2018-12-18 12:46:45 -0800","message":"Add examples for helm chart multi-line strings","refs":[],"body":"There has been some confusion about the formating of multi-line\nstring variables in the Helm chart. This adds examples for these\nsituations, hopefully clarifying things for users.\n","author_name":"Rebecca Zanzig","author_email":"rzazzl@hotmail.com"},{"hash":"564288adcc24027b4d671d3c21a9b24cad4d6f43","date":"2018-12-18 16:47:52 -0800","message":"website: highlight how to use agent certs for tls checks (#5086)","refs":[],"body":"Also clarifies that HTTP and gRPC checks both use the same\r\nTLS configuration.","author_name":"Jack Pearkes","author_email":"jackpearkes@gmail.com"},{"hash":"acc458d7a45d44ed60378b2afe16fc0d50997bbc","date":"2018-12-19 09:22:49 +0100","message":"Builtin tls helper (#5078)","refs":[],"body":"* command: add tls subcommand\r\n* website: update docs and guide","author_name":"Hans Hasselberg","author_email":"me@hans.io"},{"hash":"0b002f8560ce0c232be0aeb796e0aa92f91e499d","date":"2018-12-19 12:41:25 -0600","message":"Encryption Docs and New Guide (#5059)","refs":[],"body":"* Added the new encryption guide, updated the encryption docs, updated the side-nav and index page for new guide.\r\n\r\n* Update website/source/docs/guides/agent-encryption.html.md\r\n\r\nCo-Authored-By: kaitlincarter-hc <43049322+kaitlincarter-hc@users.noreply.github.com>\r\n\r\n* Update website/source/docs/guides/agent-encryption.html.md\r\n\r\nCo-Authored-By: kaitlincarter-hc <43049322+kaitlincarter-hc@users.noreply.github.com>\r\n\r\n* Update website/source/docs/guides/agent-encryption.html.md\r\n\r\nCo-Authored-By: kaitlincarter-hc <43049322+kaitlincarter-hc@users.noreply.github.com>\r\n\r\n* Making updates based on feedback\r\n\r\n* Updating language\r\n\r\n* Update website/source/docs/guides/agent-encryption.html.md\r\n\r\nCo-Authored-By: kaitlincarter-hc <43049322+kaitlincarter-hc@users.noreply.github.com>\r\n\r\n* Update website/source/docs/guides/agent-encryption.html.md\r\n\r\nCo-Authored-By: kaitlincarter-hc <43049322+kaitlincarter-hc@users.noreply.github.com>\r\n\r\n* Update website/source/docs/guides/agent-encryption.html.md\r\n\r\nCo-Authored-By: kaitlincarter-hc <43049322+kaitlincarter-hc@users.noreply.github.com>\r\n\r\n* Update website/source/docs/guides/agent-encryption.html.md\r\n\r\nCo-Authored-By: kaitlincarter-hc <43049322+kaitlincarter-hc@users.noreply.github.com>\r\n\r\n* Update website/source/docs/guides/agent-encryption.html.md\r\n\r\nCo-Authored-By: kaitlincarter-hc <43049322+kaitlincarter-hc@users.noreply.github.com>\r\n\r\n* Removing all reload mentions\r\n\r\n* Updated the final remarks about TLS encryption to include a note about HTTP connections\r\n\r\n* Update website/source/docs/guides/agent-encryption.html.md\r\n\r\nCo-Authored-By: kaitlincarter-hc <43049322+kaitlincarter-hc@users.noreply.github.com>\r\n\r\n* Update website/source/docs/guides/agent-encryption.html.md\r\n\r\nCo-Authored-By: kaitlincarter-hc <43049322+kaitlincarter-hc@users.noreply.github.com>\r\n\r\n* Update website/source/docs/guides/agent-encryption.html.md\r\n\r\nCo-Authored-By: kaitlincarter-hc <43049322+kaitlincarter-hc@users.noreply.github.com>\r\n\r\n* Update website/source/docs/guides/agent-encryption.html.md\r\n\r\nCo-Authored-By: kaitlincarter-hc <43049322+kaitlincarter-hc@users.noreply.github.com>\r\n\r\n* Update website/source/docs/guides/agent-encryption.html.md\r\n\r\nCo-Authored-By: kaitlincarter-hc <43049322+kaitlincarter-hc@users.noreply.github.com>\r\n\r\n* removed the mention of cfssl\r\n\r\n* also removed the bit about cfssl in the doc\r\n\r\n* updating cert names\r\n\r\n* updated all cert values\r\n","author_name":"kaitlincarter-hc","author_email":"43049322+kaitlincarter-hc@users.noreply.github.com"},{"hash":"395248dbe9ef6bb455e9728a2ba9a1f16f0e3d2f","date":"2018-12-19 13:01:35 -0600","message":"Adding the new backup guide (#5080)","refs":[],"body":"* Adding the new backup guide\r\n\r\n* Update website/source/docs/guides/backup.html.md\r\n\r\nLooks good.\r\n\r\nCo-Authored-By: kaitlincarter-hc <43049322+kaitlincarter-hc@users.noreply.github.com>\r\n\r\n* Update website/source/docs/guides/backup.html.md\r\n\r\nCo-Authored-By: kaitlincarter-hc <43049322+kaitlincarter-hc@users.noreply.github.com>\r\n\r\n* Update website/source/docs/guides/backup.html.md\r\n\r\nCo-Authored-By: kaitlincarter-hc <43049322+kaitlincarter-hc@users.noreply.github.com>\r\n\r\n* Update website/source/docs/guides/backup.html.md\r\n\r\nCo-Authored-By: kaitlincarter-hc <43049322+kaitlincarter-hc@users.noreply.github.com>\r\n\r\n* Updated the directions for the restore command.\r\n\r\n* Update website/source/docs/guides/backup.html.md\r\n\r\nCo-Authored-By: kaitlincarter-hc <43049322+kaitlincarter-hc@users.noreply.github.com>\r\n\r\n* Update website/source/docs/guides/backup.html.md\r\n\r\nCo-Authored-By: kaitlincarter-hc <43049322+kaitlincarter-hc@users.noreply.github.com>\r\n\r\n* updated the token env\r\n\r\n* Trying to make it extra clear where to run the commands.\r\n\r\n* added not that list of backed up items isn't inclusive\r\n","author_name":"kaitlincarter-hc","author_email":"43049322+kaitlincarter-hc@users.noreply.github.com"},{"hash":"5bf14c58faa4ae2937f85f3eb359ff8307904dae","date":"2018-12-19 18:12:43 -0600","message":"removed an extra period that messed up formatting (#5120)","refs":[],"body":"","author_name":"kaitlincarter-hc","author_email":"43049322+kaitlincarter-hc@users.noreply.github.com"},{"hash":"adc245ce859dac7b7245b0f41fb6a667d814bbcb","date":"2018-12-20 12:47:36 +0000","message":"Update CHANGELOG.md","refs":[],"body":"","author_name":"Paul Banks","author_email":"banks@banksco.de"},{"hash":"199063759bd317266027c85b13198c64074f25fd","date":"2018-12-20 15:33:33 -0800","message":"Merge pull request #5112 from hashicorp/docs/helm-resources-example","refs":[],"body":"Add examples for helm chart multi-line strings","author_name":"Rebecca Zanzig","author_email":"rebecca@hashicorp.com"},{"hash":"3d0b7850db8589bacf7995d8adaff05066c1290b","date":"2019-01-03 12:47:40 +0100","message":"Update CHANGELOG.md","refs":[],"body":"","author_name":"Hans Hasselberg","author_email":"me@hans.io"},{"hash":"517fa5edd4361e10e72fe7cbd2fbfd99585d1b81","date":"2019-01-03 20:39:23 +0500","message":"Fix Type in go integration (#5132)","refs":[],"body":"Fix Typo in second example\r\nFrom svc.ServeTLSConfig() to svc.ServerTLSConfig()","author_name":"Tayyab Talha","author_email":"mtayyabtalha@gmail.com"},{"hash":"b4eca8fcd77d9537958a2a7f6bf5d454163a41ab","date":"2019-01-03 17:39:58 +0200","message":"Fixed gziping function for debug archive (#5184)","refs":[],"body":"","author_name":"Boris Popovschi","author_email":"zyqsempai@mail.ru"},{"hash":"0577f02080e08514c90d24dd85c6d7804e73cdc8","date":"2019-01-03 10:41:33 -0500","message":"Update CHANGELOG.md","refs":[],"body":"","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"249babc2447c4b5851cfb1fbe716b397139806b1","date":"2019-01-04 00:45:01 +0900","message":"website: Use secret id instead of policy id (#5049)","refs":["origin/bugfix/4897"],"body":"The document uses _the agent-token policy_ as agent token by mistake.\r\nSo I fixed it to use the secret id instead of it.\r\n","author_name":"Junpei Tsuji","author_email":"tsuji_jumpei@cyberagent.co.jp"},{"hash":"4233c0f821172fd235fb7ec3d5b5a1d643a41e65","date":"2019-01-03 15:01:16 -0500","message":"add codeowners for consul docs","refs":[],"body":"","author_name":"Alvin Huang","author_email":"alvin@hashicorp.com"},{"hash":"45cf7dec4fd78ac845d2e9020e8e1c0ed2fa5c36","date":"2018-12-20 12:40:15 -0500","message":"adding ember-exam package","refs":[],"body":"","author_name":"Alvin Huang","author_email":"alvin@hashicorp.com"},{"hash":"5b6ea377b4e4dc773605bd523ff6611762ee08c3","date":"2018-12-20 12:52:08 -0500","message":"update testem with newer conventions","refs":[],"body":"","author_name":"Alvin Huang","author_email":"alvin@hashicorp.com"},{"hash":"93490c600b4864b2ae54266559397db6a8adf556","date":"2018-12-20 12:53:32 -0500","message":"enable ember-exam","refs":[],"body":"","author_name":"Alvin Huang","author_email":"alvin@hashicorp.com"},{"hash":"a92fa407d544c9b8816c5128a22a567b8e5ce144","date":"2018-12-20 13:40:22 -0500","message":"output XML test results","refs":[],"body":"","author_name":"Alvin Huang","author_email":"alvin@hashicorp.com"},{"hash":"ddefaa2c2d7d99cf6067d676fff111e699055215","date":"2018-12-20 13:51:48 -0500","message":"test circleci","refs":[],"body":"","author_name":"Alvin Huang","author_email":"alvin@hashicorp.com"},{"hash":"3feb26f30da0f00824162df62350e7cc1eecbf94","date":"2019-01-03 12:56:30 -0500","message":"adding build-ci yarn target","refs":[],"body":"","author_name":"Alvin Huang","author_email":"alvin@hashicorp.com"},{"hash":"0b052ccc99154d103be86a7168ae58b0bc910c75","date":"2019-01-03 12:56:54 -0500","message":"using build-ci target in circleci","refs":[],"body":"","author_name":"Alvin Huang","author_email":"alvin@hashicorp.com"},{"hash":"c4a837c7b5b2ee5adfcf13608f42c3a8352b75cd","date":"2019-01-03 13:30:39 -0500","message":"change env to test","refs":[],"body":"","author_name":"Alvin Huang","author_email":"alvin@hashicorp.com"},{"hash":"b92c34d568ccc7ee461b2afe82558f798057aaae","date":"2019-01-03 22:57:40 -0500","message":"refresh cache key and fix comments","refs":[],"body":"","author_name":"Alvin Huang","author_email":"alvin@hashicorp.com"},{"hash":"f623b9817ed34dad69b62a57b249a4f4ddeb7a3c","date":"2019-01-03 23:49:45 -0500","message":"add test-parallel yarn command","refs":[],"body":"","author_name":"Alvin Huang","author_email":"alvin@hashicorp.com"},{"hash":"5425a86058e4a82515673a153540548bfdd35d53","date":"2019-01-03 23:50:02 -0500","message":"add documentation on how to use ember-exam","refs":["origin/add_ui_tests"],"body":"","author_name":"Alvin Huang","author_email":"alvin@hashicorp.com"},{"hash":"fde5d75c6846566853ba45788514dc9fd6b07313","date":"2019-01-04 09:32:53 -0500","message":"Merge pull request #5186 from hashicorp/add_codeowners","refs":[],"body":"add codeowners for consul docs","author_name":"Alvin Huang","author_email":"huang.s.alvin@gmail.com"},{"hash":"5960974db19f0a3ff3866d459a97d15b7ab9818b","date":"2019-01-04 16:01:50 +0100","message":"[Fix] Services sometimes not being synced with acl_enforce_version_8 = false (#4771)","refs":[],"body":"Fixes: https://github.com/hashicorp/consul/issues/3676\r\n\r\nThis fixes a bug were registering an agent with a non-existent ACL token can prevent other \r\nservices registered with a good token from being synced to the server when using \r\n`acl_enforce_version_8 = false`.\r\n\r\n## Background\r\n\r\nWhen `acl_enforce_version_8` is off the agent does not check the ACL token validity before \r\nstoring the service in its state.\r\nWhen syncing a service registered with a missing ACL token we fall into the default error \r\nhandling case (https://github.com/hashicorp/consul/blob/master/agent/local/state.go#L1255)\r\nand stop the sync (https://github.com/hashicorp/consul/blob/master/agent/local/state.go#L1082)\r\nwithout setting its Synced property to true like in the permission denied case.\r\nThis means that the sync will always stop at the faulty service(s).\r\nThe order in which the services are synced is random since we iterate on a map. So eventually\r\nall services with good ACL tokens will be synced, this can however take some time and is influenced \r\nby the cluster size, the bigger the slower because retries are less frequent.\r\nHaving a service in this state also prevent all further sync of checks as they are done after\r\nthe services.\r\n\r\n## Changes \r\n\r\nThis change modify the sync process to continue even if there is an error. \r\nThis fixes the issue described above as well as making the sync more error tolerant: if the server repeatedly refuses\r\na service (the ACL token could have been deleted by the time the service is synced, the servers \r\nwere upgraded to a newer version that has more strict checks on the service definition...). \r\nThen all services and check that can be synced will, and those that don't will be marked as errors in \r\nthe logs instead of blocking the whole process.\r\n","author_name":"Aestek","author_email":"thib.gilles@gmail.com"},{"hash":"57b5a1de0c5430ae881e4bd941731ec729f27dc9","date":"2019-01-04 10:03:29 -0500","message":"Update CHANGELOG.md","refs":[],"body":"","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"9a976a40f3229cb431fe886f299bd14f952a5118","date":"2019-01-04 10:26:07 -0600","message":"Added the new monitoring guide (#5117)","refs":[],"body":"","author_name":"kaitlincarter-hc","author_email":"43049322+kaitlincarter-hc@users.noreply.github.com"},{"hash":"067346e4969143ea2af8d9c6db0211aed16a80d1","date":"2019-01-04 12:13:08 -0500","message":"Merge pull request #5187 from hashicorp/add_ui_tests","refs":[],"body":"Add ui tests","author_name":"Alvin Huang","author_email":"huang.s.alvin@gmail.com"},{"hash":"4f62a3b5285cef13f25d162f267b678e3b5c0d8e","date":"2019-01-07 15:39:23 +0100","message":"Implement /v1/agent/health/service/<service name> endpoint (#3551)","refs":[],"body":"This endpoint aggregates all checks related to <service id> on the agent\r\nand return an appropriate http code + the string describing the worst\r\ncheck.\r\n\r\nThis allows to cleanly expose service status to other component, hiding\r\ncomplexity of multiple checks.\r\nThis is especially useful to use consul to feed a load balancer which\r\nwould delegate health checking to consul agent.\r\n\r\nExposing this endpoint on the agent is necessary to avoid a hit on\r\nconsul servers and avoid decreasing resiliency (this endpoint will work\r\neven if there is no consul leader in the cluster).\r\n\r\n\r\n","author_name":"Grégoire Seux","author_email":"kamaradclimber@gmail.com"},{"hash":"7fd03b3ba46a5701ef1dc33230b39205f6669137","date":"2019-01-07 09:56:31 -0500","message":"Update CHANGELOG.md","refs":[],"body":"","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"3841e9e396685846d89f1f29459c5ae4b185038a","date":"2019-01-07 09:59:17 -0600","message":"website: fix stray sentinel references using the old syntax (#5191)","refs":[],"body":"[skip ci]","author_name":"R.B. Boyer","author_email":"public@richardboyer.net"},{"hash":"f76022fa63ed075ad84d75abc49753ee3e244cb1","date":"2019-01-07 09:48:44 -0800","message":"CA Provider Plugins (#4751)","refs":[],"body":"This adds the `agent/connect/ca/plugin` library for consuming/serving Connect CA providers as [go-plugin](https://github.com/hashicorp/go-plugin) plugins. This **does not** wire this up in any way to Consul itself, so this will not enable using these plugins yet. \r\n\r\n## Why?\r\n\r\nWe want to enable CA providers to be pluggable without modifying Consul so that any CA or PKI system can potentially back the Connect certificates. This CA system may also be used in the future for easier bootstrapping and internal cluster security.\r\n\r\n### go-plugin\r\n\r\nThe benefit of `go-plugin` is that for the plugin consumer, the fact that the interface implementation is communicating over multi-process RPC is invisible. Internals of Consul will continue to just use `ca.Provider` interface implementations as if they're local. For plugin _authors_, they simply have to implement the interface. The network/transport/process management issues are handled by go-plugin itself.\r\n\r\nThe CA provider plugins support both `net/rpc` and gRPC transports. This enables easy authoring in any language. go-plugin handles the actual protocol handshake and connection. This is just a feature of go-plugin. \r\n\r\n`go-plugin` is already in production use for years by Packer, Terraform, Nomad, Vault, and Sentinel. We've shown stability for both desktop and server-side software. It is very mature.\r\n\r\n## Implementation Details\r\n\r\n### `map[string]interface{}`\r\n\r\nThe `Configure` method passes a `map[string]interface{}`. This map contains only Go primitives and containers of primitives (no funcs, chans, etc.). For `net/rpc` we encode as-is using Gob. For gRPC we marshal to JSON and transmit as a `bytes` type. This is the same approach we take with Vault and other software.\r\n\r\nNote that this is just the transport protocol, the end software views it fully decoded.\r\n\r\n### `x509.Certificate` and `CertificateRequest`\r\n\r\nWe transmit the raw ASN.1  bytes and decode on the other side. Unit tests are verifying we get the same cert/csrs across the wire.\r\n\r\n### Testing\r\n\r\n`go-plugin` exposes test helpers that enable testing the full plugin RPC over real loopback network connections. We test all endpoints for success and error for both `net/rpc` and gRPC.\r\n\r\n### Vendoring\r\n\r\nThis PR doesn't introduce vendoring for two reasons:\r\n\r\n  1. @banks's `f-envoy` branch introduces a lot of these and I didn't want conflict.\r\n  2. The library isn't actually used yet so it doesn't introduce compile-time errors (it does introduce test errors).\r\n\r\n## Next Steps\r\n\r\nWith this in place, we need to figure out the proper way to actually hook these up to Consul, load them, etc. This discussion can happen elsewhere, since regardless of approach this plugin library implementation is the exact same.","author_name":"Mitchell Hashimoto","author_email":"xmitchx@gmail.com"},{"hash":"516ba47609610bb9510bff1df6dd9133d8eed8be","date":"2018-12-06 12:17:35 -0700","message":"website: fix carousel bugs","refs":[],"body":"","author_name":"RJ Spiker","author_email":"spiker.rj@gmail.com"},{"hash":"8709213d6ed13d0f5ccd3e2c4523ee0a5be5b9f8","date":"2019-01-07 19:53:03 +0100","message":"Prevent status flap when re-registering a check (#4904)","refs":[],"body":"Fixes point `#2` of: https://github.com/hashicorp/consul/issues/4903\r\n\r\nWhen registering a service each healthcheck status is saved and restored (https://github.com/hashicorp/consul/blob/master/agent/agent.go#L1914) to avoid unnecessary flaps in health state.\r\nThis change extends this feature to single check registration by moving this protection in `AddCheck()` so that both `PUT /v1/agent/service/register` and `PUT /v1/agent/check/register` behave in the same idempotent way.\r\n\r\n#### Steps to reproduce\r\n1. Register a check :\r\n```\r\ncurl -X PUT \\\r\n  http://127.0.0.1:8500/v1/agent/check/register \\\r\n  -H 'Content-Type: application/json' \\\r\n  -d '{\r\n  \"Name\": \"my_check\",\r\n  \"ServiceID\": \"srv\",\r\n  \"Interval\": \"10s\",\r\n  \"Args\": [\"true\"]\r\n}'\r\n```\r\n2. The check will initialize and change to `passing`\r\n3. Run the same request again\r\n4. The check status will quickly go from `critical` to `passing` (the delay for this transission is determined by https://github.com/hashicorp/consul/blob/master/agent/checks/check.go#L95)","author_name":"Aestek","author_email":"thib.gilles@gmail.com"},{"hash":"d4f7a830a85f9e04a5109579f825b798d985ac40","date":"2019-01-07 13:56:08 -0500","message":"Update CHANGELOG.md","refs":[],"body":"","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"b96391ecffd04fe02232c2f850170e527222ff7e","date":"2019-01-07 15:00:47 -0600","message":"update github.com/hashicorp/{serf,memberlist,go-sockaddr} (#5189)","refs":[],"body":"This activates large-cluster improvements in the gossip layer from\r\nhttps://github.com/hashicorp/memberlist/pull/167","author_name":"R.B. Boyer","author_email":"public@richardboyer.net"},{"hash":"0f22706af53fca4fb560b525e04f5b449ab248f3","date":"2019-01-07 15:05:06 -0600","message":"Update CHANGELOG.md","refs":[],"body":"","author_name":"R.B. Boyer","author_email":"rb@hashicorp.com"},{"hash":"b29bc906ee63e56e37e135aef192878a9ff4fe7a","date":"2019-01-07 21:30:47 +0000","message":"bugfix: use ServiceTags to generate cache key hash (#4987)","refs":[],"body":"* bugfix: use ServiceTags to generate cahce key hash\r\n\r\n* update unit test\r\n\r\n* update\r\n\r\n* remote print log\r\n\r\n* Update .gitignore\r\n\r\n* Completely deprecate ServiceTag field internally for clarity\r\n\r\n* Add explicit test for CacheInfo cases\r\n","author_name":"Paul Banks","author_email":"banks@banksco.de"},{"hash":"88d239818c9349126114b5ab7001f7ef24c606f5","date":"2019-01-07 21:32:20 +0000","message":"Update CHANGELOG.md","refs":[],"body":"","author_name":"Paul Banks","author_email":"banks@banksco.de"},{"hash":"ae7f88f995ba448889073259e777dec7f92ccb71","date":"2019-01-07 22:53:54 +0100","message":"Avoid to have infinite recursion in DNS lookups when resolving CNAMEs (#4918)","refs":[],"body":"* Avoid to have infinite recursion in DNS lookups when resolving CNAMEs\r\n\r\nThis will avoid killing Consul when a Service.Address is using CNAME\r\nto a Consul CNAME that creates an infinite recursion.\r\n\r\nThis will fix https://github.com/hashicorp/consul/issues/4907\r\n\r\n* Use maxRecursionLevel = 3 to allow several recursions","author_name":"Pierre Souchay","author_email":"pierresouchay@users.noreply.github.com"},{"hash":"62aa40872c289f66210756066443667fe2a2951e","date":"2019-01-07 16:55:14 -0500","message":"Update CHANGELOG.md","refs":[],"body":"","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"96b877f79e1c1e58be789b7b59b047ce93c318dd","date":"2019-01-07 18:47:02 -0800","message":"website: fixed ca provider references (#5185)","refs":[],"body":"Fixes https://github.com/hashicorp/consul/issues/5182.","author_name":"Jack Pearkes","author_email":"jackpearkes@gmail.com"},{"hash":"0589525ae953d990717d4f9d81fb3aeb63f01b7a","date":"2019-01-08 10:06:38 +0000","message":"agent: Don't leave old errors around in cache (#5094)","refs":[],"body":"* Fixes #4480. Don't leave old errors around in cache that can be hit in specific circumstances.\r\n\r\n* Move error reset to cover extreme edge case of nil Value, nil err Fetch\r\n","author_name":"Paul Banks","author_email":"banks@banksco.de"},{"hash":"233ef4634b9f88c4646618dda84a0611beb7c2df","date":"2019-01-08 10:09:03 +0000","message":"Update CHANGELOG.md","refs":[],"body":"","author_name":"Paul Banks","author_email":"banks@banksco.de"},{"hash":"bb7145f27df6430e0de6a2b82906581163e416e8","date":"2019-01-08 10:13:49 +0000","message":"agent: add default weights to service in local state to prevent AE churn (#5126)","refs":[],"body":"* Add default weights when adding a service with no weights to local state to prevent constant AE re-sync.\r\n\r\nThis fix was contributed by @42wim in https://github.com/hashicorp/consul/pull/5096 but was merged against the wrong base. This adds it to master and adds a test to cover the behaviour.\r\n\r\n* Fix tests that broke due to comparing internal state which now has default weights\r\n","author_name":"Paul Banks","author_email":"banks@banksco.de"},{"hash":"a13e4b209056d1cf1479e5599dba9387f458aabe","date":"2019-01-08 10:16:34 +0000","message":"Update CHANGELOG.md","refs":[],"body":"","author_name":"Paul Banks","author_email":"banks@banksco.de"},{"hash":"9f33353c14e6d5915124a60212d08ebb5ff38658","date":"2019-01-08 16:27:22 +0100","message":"agent/config: Fix typo in comment (#5202)","refs":[],"body":"","author_name":"Alejandro Guirao Rodríguez","author_email":"lekumberri@gmail.com"},{"hash":"0fc1c203cc24a1522146de470afaff85a6d82d2f","date":"2019-01-08 17:06:28 +0100","message":"snapshot: read meta.json correctly. (#5193)","refs":[],"body":"* snapshot: read meta.json correctly.\r\n\r\nFixes #4452.","author_name":"Hans Hasselberg","author_email":"me@hans.io"},{"hash":"067027230ba5f08dc725a6702d0fca1eb9e18070","date":"2019-01-08 17:09:22 +0100","message":"connect: add tls config for vault connect ca provider (#5125)","refs":[],"body":"* add tlsconfig for vault connect ca provider.\r\n* add options to the docs\r\n* add tests for new configuration\r\n","author_name":"Hans Hasselberg","author_email":"me@hans.io"},{"hash":"238d4302759f9b4ec2b580367aca1e5198450c90","date":"2019-01-09 00:43:14 +0800","message":"Fix data race (#5029)","refs":[],"body":"Fix #4357","author_name":"dawxy","author_email":"97687341@qq.com"},{"hash":"0e280b5a08bbdcf9a214ba2063b1eb850fba1824","date":"2019-01-08 11:44:36 -0500","message":"Update CHANGELOG.md","refs":["origin/bugfix/4463"],"body":"","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"6580890f6e7d0305e504aa449b9f530a7cf228a3","date":"2019-01-08 14:30:36 -0700","message":"Include information about multi-dc Connect","refs":["origin/deployment_guide_updates"],"body":"","author_name":"Erik R. Rygg","author_email":"errygg@gmail.com"},{"hash":"c07c5446a8c1f538af0feb31eeb2c1d53fb44dff","date":"2019-01-09 11:59:23 -0800","message":"txn: clean up some state store/acl code","refs":[],"body":"","author_name":"Kyle Havlovitz","author_email":"kylehav@gmail.com"},{"hash":"2dfc9ae989231fad6f25d5bb6aa6ad035010d381","date":"2019-01-09 15:07:20 -0600","message":"Re-worked the ACL guide into two docs and an updated guide. (#5093)","refs":[],"body":"* Re-worked the ACL guide into two docs and an updated guide.\r\n\r\nCo-Authored-By: kaitlincarter-hc <43049322+kaitlincarter-hc@users.noreply.github.com>\r\n\r\n* Updating syntax based on amayer5125's comments.\r\n\r\n* Missed one of amayer5125's comments\r\n\r\n* found a bad link in the acl system docs\r\n\r\n* fixing a link in the rules docs\r\n","author_name":"kaitlincarter-hc","author_email":"43049322+kaitlincarter-hc@users.noreply.github.com"},{"hash":"0638e09b6ee33dec18ed3d38b69d719e4cb2dfe7","date":"2019-01-10 12:46:11 +0000","message":"connect: agent leaf cert caching improvements (#5091)","refs":[],"body":"* Add State storage and LastResult argument into Cache so that cache.Types can safely store additional data that is eventually expired.\r\n\r\n* New Leaf cache type working and basic tests passing. TODO: more extensive testing for the Root change jitter across blocking requests, test concurrent fetches for different leaves interact nicely with rootsWatcher.\r\n\r\n* Add multi-client and delayed rotation tests.\r\n\r\n* Typos and cleanup error handling in roots watch\r\n\r\n* Add comment about how the FetchResult can be used and change ca leaf state to use a non-pointer state.\r\n\r\n* Plumb test override of root CA jitter through TestAgent so that tests are deterministic again!\r\n\r\n* Fix failing config test\r\n","author_name":"Paul Banks","author_email":"banks@banksco.de"},{"hash":"82487d8f685f4902bc08172ffeb550c092ffa4d0","date":"2019-01-10 12:47:59 +0000","message":"Update CHANGELOG.md","refs":[],"body":"","author_name":"Paul Banks","author_email":"banks@banksco.de"},{"hash":"315cfef08c8427190adc9c89e7a3206368d52857","date":"2019-01-10 12:50:31 +0000","message":"Update CHANGELOG.md","refs":[],"body":"","author_name":"Paul Banks","author_email":"banks@banksco.de"},{"hash":"1048f3d5e75a47f777edc27848e2330d63f2cd81","date":"2019-01-10 09:22:51 -0500","message":"acl: Prevent tokens from deleting themselves (#5210)","refs":[],"body":"Fixes #4897 \r\n\r\nAlso apparently token deletion could segfault in secondary DCs when attempting to delete non-existant tokens. For that reason both checks are wrapped within the non-nil check.","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"c043de5381fa5ae6190a8bd27e47a83c2e8fa0d6","date":"2019-01-10 15:27:26 +0100","message":"[Security] Allow blocking Write endpoints on Agent using Network Addresses (#4719)","refs":[],"body":"* Add -write-allowed-nets option\r\n\r\n* Add documentation for the new write_allowed_nets option\r\n","author_name":"Aestek","author_email":"thib.gilles@gmail.com"},{"hash":"8969b8d3e49c9464ec12fb858c95724a3018d5ef","date":"2019-01-10 09:29:51 -0500","message":"Update CHANGELOG.md","refs":[],"body":"","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"1618d7951802e991b56419b533fe99707c57fcd7","date":"2019-01-10 16:50:14 +0100","message":"Allow `\"disable_host_node_id\": false` to work on Linux as non-root. (#4926)","refs":[],"body":"Bump `shirou/gopsutil` to include https://github.com/shirou/gopsutil/pull/603\r\n\r\nThis will allow to have consistent node-id even when machine is reinstalled\r\nwhen using `\"disable_host_node_id\": false`\r\n\r\nIt will fix https://github.com/hashicorp/consul/issues/4914 and allow having\r\nthe same node-id even when reinstalling a node from scratch. However,\r\nit is only compatible with a single OS (installing to Windows will change\r\nthe node-id, but it seems acceptable).","author_name":"Pierre Souchay","author_email":"pierresouchay@users.noreply.github.com"},{"hash":"27a9f51b2495ed3194ea0ad77fac7cd334e5fcbb","date":"2019-01-10 10:51:16 -0500","message":"Update CHANGELOG.md","refs":[],"body":"","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"baa8946ea63cc87b7a8c2e8df4fdbda3278a98ad","date":"2019-01-10 11:23:37 -0500","message":"cache: Pass through wait query param to the cache.Get (#5203)","refs":[],"body":"This adds a MaxQueryTime field to the connect ca leaf cache request type and populates it via the wait query param. The cache will then do the right thing and timeout the operation as expected if no new leaf cert is available within that time.\r\n\r\nFixes #4462 \r\n\r\nThe reproduction scenario in the original issue now times out appropriately.","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"052d68b5fb3a6b759b5c7fdffc5405e49071094f","date":"2019-01-10 11:25:01 -0500","message":"Update CHANGELOG.md","refs":[],"body":"","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"27738c77c098c63e6e5b2bd00df79ad268a0b530","date":"2019-01-10 17:43:31 +0100","message":"Update CHANGELOG.md","refs":[],"body":"","author_name":"Hans Hasselberg","author_email":"me@hans.io"},{"hash":"f8112e7eaf88346723a614c6a95275297aba2013","date":"2019-01-10 17:44:40 +0100","message":"Update CHANGELOG.md","refs":[],"body":"","author_name":"Hans Hasselberg","author_email":"me@hans.io"},{"hash":"2e97a4858f0462ee8f800f8fb10e8988b4dc98cc","date":"2019-01-10 18:27:55 +0000","message":"website: add autowire in Community Tools list (#5118)","refs":[],"body":"* add autowire in Community Tools list\r\n\r\n* put list in the right alphabetic order\r\n","author_name":"Elghazal Ahmed","author_email":"geniousphp@gmail.com"},{"hash":"4db60f824339fa8e46abd5b3c2b357a27b70f823","date":"2019-01-10 14:17:20 -0600","message":"website: minor acl guide fixes (#5214)","refs":[],"body":"","author_name":"R.B. Boyer","author_email":"public@richardboyer.net"},{"hash":"4afbe792df501566aa5e35ffdc66cd3e862a71cd","date":"2019-01-11 15:26:14 +0100","message":"Improve blocking queries on services that do not exist (#4810)","refs":[],"body":"## Background\r\n\r\nWhen making a blocking query on a missing service (was never registered, or is not registered anymore) the query returns as soon as any service is updated.\r\nOn clusters with frequent updates (5~10 updates/s in our DCs) these queries virtually do not block, and clients with no protections againt this waste ressources on the agent and server side. Clients that do protect against this get updates later than they should because of the backoff time they implement between requests.\r\n\r\n## Implementation\r\n\r\nWhile reducing the number of unnecessary updates we still want :\r\n* Clients to be notified as soon as when the last instance of a service disapears.\r\n* Clients to be notified whenever there's there is an update for the service.\r\n* Clients to be notified as soon as the first instance of the requested service is added.\r\n\r\nTo reduce the number of unnecessary updates we need to block when a request to a missing service is made. However in the following case :\r\n\r\n1. Client `client1` makes a query for service `foo`, gets back a node and X-Consul-Index 42\r\n2. `foo` is unregistered \r\n3. `client1`  makes a query for `foo` with `index=42` -> `foo` does not exist, the query blocks and `client1` is not notified of the change on `foo` \r\n\r\nWe could store the last raft index when each service was last alive to know wether we should block on the incoming query or not, but that list could grow indefinetly. \r\nWe instead store the last raft index when a service was unregistered and use it when a query targets a service that does not exist. \r\nWhen a service `srv` is unregistered this \"missing service index\" is always greater than any X-Consul-Index held by the clients while `srv` was up, allowing us to immediatly notify them.\r\n\r\n1. Client `client1` makes a query for service `foo`, gets back a node and `X-Consul-Index: 42`\r\n2. `foo` is unregistered, we set the \"missing service index\" to 43 \r\n3. `client1` makes a blocking query for `foo` with `index=42` -> `foo` does not exist, we check against the \"missing service index\" and return immediatly with `X-Consul-Index: 43`\r\n4. `client1` makes a blocking query for `foo` with `index=43` -> we block\r\n5. Other changes happen in the cluster, but foo still doesn't exist and \"missing service index\" hasn't changed, the query is still blocked\r\n6. `foo` is registered again on index 62 -> `foo` exists and its index is greater than 43, we unblock the query\r\n","author_name":"Aestek","author_email":"thib.gilles@gmail.com"},{"hash":"834e168f94d073bdf37409667a177c5fdf5de55e","date":"2019-01-11 09:31:49 -0500","message":"Update CHANGELOG.md","refs":["origin/feature/4478"],"body":"","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"1ec5f2a27f091a32f640f5517faa70272e185574","date":"2019-01-11 16:04:57 -0500","message":"Store leaf cert indexes in raft and use for the ModifyIndex on the returned certs (#5211)","refs":[],"body":"* Store leaf cert indexes in raft and use for the ModifyIndex on the returned certs\r\n\r\nThis ensures that future certificate signings will have a strictly greater ModifyIndex than any previous certs signed.\r\n\r\n","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"6fe09aa23b1b930e688b46b7aa330cfd7489373a","date":"2019-01-11 16:06:17 -0500","message":"Update CHANGELOG.md","refs":[],"body":"","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"adcdc81f9331624c1d09ab32ec18adb11411c698","date":"2019-01-14 10:46:34 -0600","message":"Language change cluster -> datacenter (#5212)","refs":[],"body":"* Updating the language from cluster to datacenter in the backup guide to be consistent and more accurate.\r\n\r\n* missed some clusters\r\n","author_name":"kaitlincarter-hc","author_email":"43049322+kaitlincarter-hc@users.noreply.github.com"},{"hash":"1c70407bd1566cd2eee4b4111c1786299b41008c","date":"2019-01-07 17:46:44 -0800","message":"Add a security warning about the default Helm chart installation","refs":[],"body":"If a user installs the default Helm chart Consul on a Kubernetes\ncluster that is open to the internet, it is lacking some important\nsecurity configurations.\n","author_name":"Rebecca Zanzig","author_email":"rzazzl@hotmail.com"},{"hash":"6de477ef964e6a7a361a5002e1387400d95abee6","date":"2019-01-14 16:15:26 -0800","message":"Add documentation about the two additional Helm chart options","refs":[],"body":"Adds info about `k8stag` and `nodePortSyncType` options that were\nadded in consul-helm v0.5.0.\n\nAdditionally moves the k8sprefix to match the order in the Helm chart\nvalues file, while also clarifying that it only affects one sync\ndirection.\n","author_name":"Rebecca Zanzig","author_email":"rzazzl@hotmail.com"},{"hash":"98b3c13dbb8512916dfd6e47c833919d843bc4eb","date":"2019-01-14 16:28:31 -0800","message":"Merge pull request #5213 from hashicorp/docs/helm-security","refs":[],"body":"Add a security warning about the default Helm chart installation","author_name":"Rebecca Zanzig","author_email":"rebecca@hashicorp.com"},{"hash":"3c110d5c7885fc45fad1e443ab0ed25be56b0157","date":"2019-01-15 10:54:03 +0100","message":"Sorting entries in Changelog for upcoming release","refs":[],"body":"","author_name":"Hans Hasselberg","author_email":"me@hans.io"},{"hash":"59c010eb3b9249c7e303166d7189c6b4ff1e7d52","date":"2019-01-15 14:57:17 -0600","message":"Update links for learn migration (#5223)","refs":[],"body":"* Stared updaing links for the learn migration\r\n\r\n* Language change cluster -> datacenter (#5212)\r\n\r\n* Updating the language from cluster to datacenter in the backup guide to be consistent and more accurate.\r\n\r\n* missed some clusters\r\n\r\n* updated three broken links for the sidebar nav\r\n","author_name":"kaitlincarter-hc","author_email":"43049322+kaitlincarter-hc@users.noreply.github.com"},{"hash":"21380021af0ffe3f2e60df2d1a4c69163221c914","date":"2019-01-15 16:54:07 -0800","message":"txn: update existing txn api docs with new operations","refs":[],"body":"","author_name":"Kyle Havlovitz","author_email":"kylehav@gmail.com"},{"hash":"1e3bda174d4d4cae7a00617ffc4754473f1e5202","date":"2019-01-16 16:03:40 -0600","message":"Fix typo in k8s connect documentation (#5229)","refs":[],"body":"","author_name":"Chris Wang","author_email":"chris@wang.io"},{"hash":"388ff4caed723697901ff53954c34d75689029b9","date":"2019-01-16 14:18:15 -0800","message":"Merge pull request #5222 from hashicorp/docs/helm-0.5.0","refs":[],"body":"Add documentation about the two additional Helm chart options","author_name":"Rebecca Zanzig","author_email":"rebecca@hashicorp.com"},{"hash":"df99f4a3acf6c5b26726519b1291bf8bebf9a67f","date":"2019-01-16 14:31:50 -0800","message":"Indent code blocks further to fix list formatting","refs":[],"body":"","author_name":"Rebecca Zanzig","author_email":"rzazzl@hotmail.com"},{"hash":"ebba2158918f35432c5279290edb8302bec322f3","date":"2019-01-16 14:42:12 -0800","message":"Fix broken links","refs":[],"body":"","author_name":"Rebecca Zanzig","author_email":"rzazzl@hotmail.com"},{"hash":"fbb40d72c001d1b9d4b4e23186e91f7141808b34","date":"2019-01-16 15:00:42 -0800","message":"Merge pull request #5230 from hashicorp/docs/helm-formatting","refs":[],"body":"Docs/helm formatting","author_name":"Rebecca Zanzig","author_email":"rebecca@hashicorp.com"},{"hash":"d5e28bda567d60d081661b31cd76bb1133ab7afd","date":"2019-01-17 18:03:23 +0900","message":"ui: Fix typo in acl-migration guide link (#5135)","refs":[],"body":"","author_name":"Jihoon Chung","author_email":"jihoon@gmail.com"},{"hash":"66c139ceae295ebc16082e458b268bd88c1abeba","date":"2019-01-17 09:20:00 +0000","message":"UI: Text change and clarity Node Health > Health Checks (#5115)","refs":[],"body":"Text change Node Health > Health Checks\r\nAlso adds an info icon and tooltip to Health Checks column header\r\n","author_name":"John Cowen","author_email":"johncowen@users.noreply.github.com"},{"hash":"8c87238b9909b3c8e8de437932fb94ddead70ce0","date":"2019-01-17 19:39:41 -0700","message":"Merge pull request #5215 from hashicorp/deployment_guide_updates","refs":[],"body":"Include information about multi-dc Connect","author_name":"Erik R. Rygg","author_email":"erik@hashicorp.com"},{"hash":"7e6b3e6a0c273c4c3967376bdc964021e630cf32","date":"2019-01-18 12:44:04 -0500","message":"Implement prepared query upstreams watching for envoy (#5224)","refs":[],"body":"Fixes #4969 \r\n\r\nThis implements non-blocking request polling at the cache layer which is currently only used for prepared queries. Additionally this enables the proxycfg manager to poll prepared queries for use in envoy proxy upstreams.","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"884b2e00af8bdde14ca5d0f79cde77929e35664b","date":"2019-01-18 12:45:51 -0500","message":"Update CHANGELOG.md","refs":[],"body":"","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"2dea3e2bd7395c2ef92cd0563d398d62c8f99391","date":"2019-01-18 15:00:54 -0600","message":"Fix some test typos.","refs":[],"body":"","author_name":"R.B. Boyer","author_email":"rb@hashicorp.com"},{"hash":"ddc4a8d8480ba7f50a0bf0482bee9fc21b7f00ed","date":"2019-01-18 09:58:01 -0800","message":"oss: add the enterprise server stub for intention replication check","refs":[],"body":"","author_name":"Kyle Havlovitz","author_email":"kylehav@gmail.com"},{"hash":"3e45da141402f912c8d6c1cbfe4291c87ad4e8de","date":"2019-01-22 10:20:05 -0600","message":"Add acl.enable_key_list_policy to agent config docs. (#5227)","refs":[],"body":"* Adding key list parameter to agent config docs.\r\n\r\n* Fixed typo in master token section\r\n\r\n* Updated based on comments from Paul and Matt.\r\n","author_name":"kaitlincarter-hc","author_email":"43049322+kaitlincarter-hc@users.noreply.github.com"},{"hash":"d3eb781384d0b5a8abde110c75e47739b62ce634","date":"2019-01-11 09:43:18 -0600","message":"Check ACLs more often for xDS endpoints.","refs":[],"body":"For established xDS gRPC streams recheck ACLs for each DiscoveryRequest\nor DiscoveryResponse. If more than 5 minutes has elapsed since the last\nACL check, recheck even without an incoming DiscoveryRequest or\nDiscoveryResponse. ACL failures will terminate the stream.\n","author_name":"R.B. Boyer","author_email":"rb@hashicorp.com"},{"hash":"ef9f27cbc8f591704f9983afa3efac07a2b07902","date":"2019-01-22 17:19:36 +0000","message":"connect: tame thundering herd of CSRs on CA rotation (#5228)","refs":[],"body":"* Support rate limiting and concurrency limiting CSR requests on servers; handle CA rotations gracefully with jitter and backoff-on-rate-limit in client\r\n\r\n* Add CSR rate limiting docs\r\n\r\n* Fix config naming and add tests for new CA configs\r\n","author_name":"Paul Banks","author_email":"banks@banksco.de"},{"hash":"579a8b32ed4deeea8f33c4e9b95d8d9680071ff7","date":"2019-01-22 13:14:43 -0500","message":"Fix several ACL token/policy resolution issues. (#5246)","refs":[],"body":"* Fix 2 remote ACL policy resolution issues\r\n\r\n1 - Use the right method to fire async not found errors when the ACL.PolicyResolve RPC returns that error. This was previously accidentally firing a token result instead of a policy result which would have effectively done nothing (unless there happened to be a token with a secret id == the policy id being resolved.\r\n\r\n2. When concurrent policy resolution is being done we single flight the requests. The bug before was that for the policy resolution that was going to piggy back on anothers RPC results it wasn’t waiting long enough for the results to come back due to looping with the wrong variable.\r\n\r\n* Fix a handful of other edge case ACL scenarios\r\n\r\nThe main issue was that token specific issues (not able to access a particular policy or the token being deleted after initial fetching) were poisoning the policy cache.\r\n\r\nA second issue was that for concurrent token resolutions, the first resolution to get started would go fetch all the policies. If before the policies were retrieved a second resolution request came in, the new request would register watchers for those policies but then never block waiting for them to complete. This resulted in using the default policy when it shouldn't have.\r\n\r\n","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"922baf811c6b478f9efd8d695007c2d4d556cbdf","date":"2019-01-22 13:18:14 -0500","message":"Update CHANGELOG.md","refs":[],"body":"","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"a28ba4687dc6df2aa45dc0ba2fa856374793c284","date":"2019-01-22 11:15:09 -0800","message":"connect/ca: return a better error message if the CA isn't fully initialized when signing","refs":[],"body":"","author_name":"Kyle Havlovitz","author_email":"kylehav@gmail.com"},{"hash":"5bdf130767edd4f435753b803828647bb2e0faee","date":"2019-01-22 11:16:09 -0800","message":"Merge pull request #4869 from hashicorp/txn-checks","refs":[],"body":"Add node/service/check operations to transaction api","author_name":"Kyle Havlovitz","author_email":"kylehav@gmail.com"},{"hash":"46ef7dc1fb8e83923f9807062e30d45cdf144977","date":"2019-01-22 11:20:50 -0800","message":"Update CHANGELOG.md","refs":[],"body":"","author_name":"Kyle Havlovitz","author_email":"kylehav@gmail.com"},{"hash":"6b28434f8ab5b59bb3215b3fe2c8dc69e2d4b433","date":"2019-01-22 11:25:09 -0800","message":"Merge pull request #5249 from hashicorp/ca-fixes-oss","refs":[],"body":"Minor CA fixes","author_name":"Kyle Havlovitz","author_email":"kylehav@gmail.com"},{"hash":"88c044759f2c852ab3aa44708890fa12715aa363","date":"2019-01-22 11:29:13 -0800","message":"connect: Forward intention RPCs if this isn't the primary","refs":[],"body":"","author_name":"Kyle Havlovitz","author_email":"kylehav@gmail.com"},{"hash":"8851505892f49b82158ba7a8524f786ae156c421","date":"2019-01-22 11:32:55 -0800","message":"Merge pull request #5250 from hashicorp/forward-intention-rpcs","refs":[],"body":"connect: Forward intention RPCs if this isn't the primary","author_name":"Kyle Havlovitz","author_email":"kylehav@gmail.com"},{"hash":"2abc48c1eb590424bca94a12d9a25bedca630464","date":"2019-01-22 11:35:45 -0800","message":"Update CHANGELOG.md","refs":[],"body":"","author_name":"Kyle Havlovitz","author_email":"kylehav@gmail.com"},{"hash":"174099593a5afce96f59d66983c37ede757ae920","date":"2019-01-22 21:08:50 +0100","message":"agent: display messages from serf in cli (#5236)","refs":[],"body":"* display messages from serf in cli","author_name":"Hans Hasselberg","author_email":"me@hans.io"},{"hash":"88058879dcb6fa989b24caeefca78174623cd67e","date":"2019-01-22 21:17:39 +0100","message":"Update CHANGELOG.md","refs":[],"body":"","author_name":"Hans Hasselberg","author_email":"me@hans.io"},{"hash":"0da45027405e968d821145dbf2ce436d6d33a1d7","date":"2019-01-22 21:49:16 +0100","message":"website: update nokogiri (#5252)","refs":[],"body":"","author_name":"Hans Hasselberg","author_email":"me@hans.io"},{"hash":"8f0d622a547d440110692a71c4f43a524327e6bc","date":"2019-01-22 16:07:04 -0500","message":"Revendor serf to pull in keyring list truncation changes. (#5251)","refs":[],"body":"","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"c8386ec0cc18acaa2a0588ed9e55f9b15f78d253","date":"2019-01-23 13:46:59 +0000","message":"UI: [BUGFIX] Decode/encode urls (#5206)","refs":[],"body":"In https://github.com/hashicorp/consul/commit/858b05fc3127d3d20d9554e932353d767c7b5fdc#diff-46ef88aa04507fb9b039344277531584\r\nwe removed encoding values in pathnames as we thought they were\r\neventually being encoded by `ember`. It looks like this isn't the case.\r\n\r\nTurns out sometimes they are encoded sometimes they aren't. It's complicated.\r\nIf at all possible refer to the PR https://github.com/hashicorp/consul/pull/5206.\r\n\r\nIt's related to the difference between `dynamic` routes and `wildcard` routes.\r\n\r\nPartly related to this is a decision on whether we urlencode the slashes within service names or not. Whilst historically we haven't done this, we feel its a good time to change this behaviour, so we'll also be changing services to use dynamic routes instead of wildcard routes. So service links will then look like /ui/dc-1/services/application%2Fservice rather than /ui/dc-1/services/application/service\r\n\r\nHere, we define our routes in a declarative format (for the moment at least JSON) outside of Router.map, and loop through this within Router.map to set all our routes using the standard this.route method. We essentially configure our Router from the outside. As this configuration is now done declaratively outside of Router.map we can also make this data available to href-to and paramsFor, allowing us to detect wildcard routes and therefore apply urlencoding/decoding.\r\n\r\nWhere I mention 'conditionally' below, this is detection is what is used for the decision.\r\n\r\nWe conditionally add url encoding to the `{{href-to}}` helper/addon. The\r\nreasoning here is, if we are asking for a 'href/url' then whatever we\r\nreceive back should always be urlencoded. We've done this by reusing as much\r\ncode from the original `ember-href-to` addon as possible, after this\r\nchange every call to the `{{href-to}}` helper will be urlencoded.\r\n\r\nAs all links using `{{href-to}}` are now properly urlencoded. We also\r\nneed to decode them in the correct place 'on the other end', so..\r\n\r\nWe also override the default `Route.paramsFor` method to conditionally decode all\r\nparams before passing them to the `Route.model` hook.\r\n\r\nLastly (the revert), as we almost consistently use url params to\r\nconstruct API calls, we make sure we re-encode any slugs that have been\r\npassed in by the user/developer. The original API for the `createURL`\r\nfunction was to allow you to pass values that didn't need encoding,\r\nvalues that **did** need encoding, followed by query params (which again\r\nrequire url encoding)\r\n\r\nAll in all this should make the entire ember app url encode/decode safe.\r\n","author_name":"John Cowen","author_email":"johncowen@users.noreply.github.com"},{"hash":"a35fe7c5ba7bf537d2dfd540a7cee4e25ba6e980","date":"2019-01-23 13:51:36 +0000","message":"ui: Removes delete button form pages that show your current token (#5241)","refs":[],"body":"Tokens can no longer delete themselves see:\r\n\r\nhttps://github.com/hashicorp/consul/pull/5210\r\n\r\n...so we remove the button to allow you to do that from the UI","author_name":"John Cowen","author_email":"johncowen@users.noreply.github.com"},{"hash":"3a0b0b2b6545e8555607dfd36c91a1b138ac75d7","date":"2019-01-23 13:57:07 +0000","message":"Update CHANGELOG.md","refs":[],"body":"","author_name":"John Cowen","author_email":"johncowen@users.noreply.github.com"},{"hash":"f0e081bf88e91b88b1398b27bf75549c1b0cb4d1","date":"2019-01-23 15:12:41 +0100","message":"Fix repeating wording in sentence (#5256)","refs":[],"body":"Fix `to join to join` typo","author_name":"Diogenes S. Jesus","author_email":"splashx@users.noreply.github.com"},{"hash":"07ec7988a457a2493a0ccfd1699b46a8ea4ab263","date":"2019-01-23 14:33:38 +0000","message":"Update CHANGELOG.md","refs":[],"body":"","author_name":"Paul Banks","author_email":"banks@banksco.de"},{"hash":"2eca399d4cc7e8da8837367a9a570e30eee44258","date":"2019-01-23 07:09:01 -0800","message":"fix for arm32 (#5130)","refs":[],"body":"Signed-off-by: Saurabh Deoras <sdeoras@gmail.com>","author_name":"Saurabh Deoras","author_email":"sdeoras@gmail.com"},{"hash":"c5812c376b9e544fbb2bc0a2f1a97aeddd0baed4","date":"2019-01-23 10:13:40 -0500","message":"Update CHANGELOG.md","refs":[],"body":"","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"ec712b7ecf40fd07951071cc31da9e65d23ab2af","date":"2019-01-23 12:56:39 -0500","message":"Update to Go 1.11.4 and UI build container (#5257)","refs":[],"body":"* Update to Go 1.11.4\r\n\r\n* Update to Go 1.11.4 for travis\r\n\r\n* Update UI build to fix ember issues.\r\n","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"1f2d1d4f75a157d7bb3e3813420186fdfd15904e","date":"2019-01-23 13:14:28 -0500","message":"Fix typo that prevented using the default ca domain for tls cert creation (#5258)","refs":[],"body":"","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"d5a3ba6cda11598138a1aae2ae0e581169169073","date":"2019-01-23 15:48:38 -0500","message":"Disregard rules when set on a management token (#5261)","refs":[],"body":"* Disregard rules when set on a management token\r\n\r\n* Add unit test for legacy mgmt token with rules\r\n","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"9715e1a08e49edf715bc9e44337fb8f1f379d551","date":"2019-01-23 15:48:57 -0500","message":"Basic TLS Command Tests (#5259)","refs":[],"body":"* Add tls ca create tests\r\n\r\n* Add a basic tls cert create test\r\n","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"39d113e0d39de1611d750c70f2157778c49e0063","date":"2019-01-23 15:49:59 -0500","message":"Update CHANGELOG.md","refs":[],"body":"","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"65d2c9b51d02e6b14db3da3cb8424ef72e046780","date":"2019-01-23 20:53:20 +0000","message":"Release v1.4.1","refs":["tag: v1.4.1"],"body":"","author_name":"banks","author_email":"banks@banksco.de","tag":"v1.4.1"},{"hash":"0fd2902ce39832586c38d3dc258dc92c775a6220","date":"2019-01-23 14:15:57 -0800","message":"Update CHANGELOG.md","refs":[],"body":"","author_name":"Jack Pearkes","author_email":"jackpearkes@gmail.com"},{"hash":"1d83ebf65de6c985f2499baca7af3ab98f4a6377","date":"2019-01-23 22:16:20 +0000","message":"Bump website version","refs":[],"body":"","author_name":"banks","author_email":"banks@banksco.de"},{"hash":"27e2269153afd5e8ab6dc2c1903c7956c3dd7889","date":"2019-01-23 14:17:09 -0800","message":"Update CHANGELOG.md","refs":[],"body":"","author_name":"Jack Pearkes","author_email":"jackpearkes@gmail.com"},{"hash":"02dab68268ccf2d72f2792e3f5e6052dc456267f","date":"2019-01-23 22:19:27 +0000","message":"Merge branch 'master' of https://github.com/hashicorp/consul","refs":[],"body":"","author_name":"banks","author_email":"banks@banksco.de"},{"hash":"3e299c0192b5277b938d99ff0fadfba45f2835a9","date":"2019-01-23 22:22:05 +0000","message":"Putting source back into Dev Mode","refs":[],"body":"","author_name":"banks","author_email":"banks@banksco.de"},{"hash":"89af3bc8f5b1aaecee8ae04e43a1528e5c41624d","date":"2019-01-24 12:41:43 +0000","message":"Update services.html.md","refs":[],"body":"","author_name":"Paul Banks","author_email":"banks@banksco.de"},{"hash":"d4790b28275ccf3bccc6c286281aa4496098ea1a","date":"2019-01-24 16:45:54 +0100","message":"demo nomad problem","refs":[],"body":"","author_name":"Hans Hasselberg","author_email":"me@hans.io"},{"hash":"7f4410010156f2f360913e74acf032648a0da087","date":"2019-01-24 17:03:26 +0100","message":"fix marshalling","refs":[],"body":"","author_name":"Hans Hasselberg","author_email":"me@hans.io"},{"hash":"5db185a7e48ac7227f007ed5207e945dc9ed03e6","date":"2019-01-24 17:05:57 +0100","message":"do not export that type","refs":[],"body":"","author_name":"Hans Hasselberg","author_email":"me@hans.io"},{"hash":"aebb50d47d6910d94325670a53c6a22c87bd7bdc","date":"2019-01-24 17:12:08 +0100","message":"simpler fix","refs":[],"body":"","author_name":"Hans Hasselberg","author_email":"me@hans.io"},{"hash":"552e150536b0b531776474492ba97e3e9d2f876f","date":"2019-01-25 11:00:56 +0100","message":"correct name","refs":[],"body":"","author_name":"Hans Hasselberg","author_email":"me@hans.io"},{"hash":"e9a2eab3162d7c89278ad9db01c6036bc8e551ae","date":"2019-01-25 10:01:21 -0600","message":"speed up TestHTTPAPI_MethodNotAllowed_OSS from 11s -> 0.5s (#5268)","refs":[],"body":"","author_name":"R.B. Boyer","author_email":"public@richardboyer.net"},{"hash":"c39ffad10019676899d02673326bec65535dd765","date":"2019-01-25 08:30:38 -0800","message":"website: reference last command's last field instead of background PID (#5264)","refs":[],"body":"","author_name":"Matt Hoey","author_email":"matt.hoey@okta.com"},{"hash":"d51471c9b0b1b8b3fe4b356f12e01767f87db4de","date":"2019-01-25 09:40:31 -0800","message":"fix broken link (#5273)","refs":[],"body":"","author_name":"Jack Pearkes","author_email":"jackpearkes@gmail.com"},{"hash":"4639466618118f7d029a50af99d3d22d95a04e7e","date":"2019-01-25 11:45:08 -0800","message":"Corrects `defile` to `defined` (#5262)","refs":[],"body":"","author_name":"Geoffrey Grosenbach","author_email":"boss@topfunky.com"},{"hash":"607f0df62896cdb929e636fb46517333d9b44019","date":"2019-01-25 14:07:50 -0600","message":"ui: pin to using bundler v1 for now (#5274)","refs":[],"body":"","author_name":"R.B. Boyer","author_email":"public@richardboyer.net"},{"hash":"1e5c56f1aa5efebd2db9b7c84e232e7faba92b26","date":"2019-01-25 21:20:48 +0100","message":"Adding quorum note on leave command page (#5102)","refs":[],"body":"Reusing the same phrasing as  https://github.com/hashicorp/consul/pull/5095/ to provide info on the effects of the `consul leave` command on Consul quorum","author_name":"danielehc","author_email":"40759828+danielehc@users.noreply.github.com"},{"hash":"a2fdfb917ddc224913509e8caf6c6e8884e374e8","date":"2019-01-25 13:31:28 -0800","message":"Update CHANGELOG.md","refs":[],"body":"","author_name":"Jack Pearkes","author_email":"jackpearkes@gmail.com"},{"hash":"1a4978fb94f44653bd7a36b4b56b3a9052fe3eaa","date":"2019-01-24 17:28:52 -0800","message":"Re-add ReadableDuration types to health check definition","refs":[],"body":"This is to fix the backwards-incompatible change made in 1.4.1 by\nchanging these fields to time.Duration.\n","author_name":"Kyle Havlovitz","author_email":"kylehav@gmail.com"},{"hash":"80325189fc39621762499285adba8db3870c1d96","date":"2019-01-28 15:58:29 +0100","message":"Invalid syntax in Envoy configuration docs. (#5275)","refs":[],"body":"","author_name":"Gabriel Pérez S","author_email":"gabriel@guero.net"},{"hash":"1885cf78f63d24b52b4718cfdcdde91b0b104b89","date":"2019-01-28 08:47:26 -0800","message":"Fall back to using old fields when marshaling","refs":["origin/healthcheck-duration-fix"],"body":"Co-Authored-By: kyhavlov <kylehav@gmail.com>","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"acee937f698406561d1ba62a5c5b8d044d18e07f","date":"2019-01-28 17:50:37 +0000","message":"ui: Bump footer date (#5279)","refs":[],"body":"","author_name":"John Cowen","author_email":"johncowen@users.noreply.github.com"},{"hash":"928b7ec60d6fb45c253c41a078dc01bc7bb0e515","date":"2019-01-28 10:34:34 -0800","message":"Merge branch 'healthcheck-duration-fix'","refs":[],"body":"","author_name":"Kyle Havlovitz","author_email":"kylehav@gmail.com"},{"hash":"ae1fdaa4c2704aa418d6d19c356c4acb0e8f709a","date":"2019-01-28 14:51:49 -0500","message":"Build/auto bump website version (#5280)","refs":[],"body":"Also of note is that for enterprise builds we can set CONSUL_NO_WEBSITE_UPDATE to prevent updating the version twice.\r\n\r\nLastly we also do not update the website version for pre-releases like rc1.\r\n\r\nThis just streamlines a release build a bit.","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"1736e24fb33a7263f8e4204e40689a108937f92b","date":"2019-01-28 14:59:58 -0500","message":"Don't generate TXT records just to discard them (#5272)","refs":[],"body":"* Don't generate TXT records just to discard them\r\n\r\n* Add unit test for formatNodeRecord to ensure it prevents returning TXT records\r\n","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"bae359c292188cad1ee4ee258fac39797a5f2033","date":"2019-01-28 15:03:13 -0500","message":"Update CHANGELOG.md","refs":[],"body":"","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"7118f42950ebe44624f0e3c7034a45e3084efb84","date":"2019-01-28 13:19:38 -0800","message":"Fix failing TestAgent_PurgeCheckOnDuplicate after merge","refs":[],"body":"","author_name":"Kyle Havlovitz","author_email":"kylehav@gmail.com"},{"hash":"bc2b1511ddf50d1e9ca0e45cdd22bc099fdfaabd","date":"2019-01-28 16:22:47 -0500","message":"Fix typo in Changelog","refs":[],"body":"","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"ec9fe738192776265cac8c1fbe30d6e1eaddd9b7","date":"2019-01-28 13:43:02 -0800","message":"Merge pull request #5282 from hashicorp/agent-test-fix","refs":[],"body":"Fix failing TestAgent_PurgeCheckOnDuplicate after merge","author_name":"Kyle Havlovitz","author_email":"kylehav@gmail.com"},{"hash":"c97c712e96e0e53308054d5e1180289fe02dce38","date":"2019-01-28 21:46:00 +0000","message":"Release v1.4.2","refs":["tag: v1.4.2"],"body":"","author_name":"mkeeler","author_email":"mjkeeler7@gmail.com","tag":"v1.4.2"},{"hash":"abf32ef5e8e45154667a69da161d7de71288a39e","date":"2019-01-28 16:23:29 -0600","message":"Fixing broken link. (#5283)","refs":[],"body":"","author_name":"kaitlincarter-hc","author_email":"43049322+kaitlincarter-hc@users.noreply.github.com"},{"hash":"04e50baed7dfdd31c8af54770432ca9a0487e451","date":"2019-01-28 22:25:12 +0000","message":"Putting source back into Dev Mode","refs":[],"body":"","author_name":"mkeeler","author_email":"mjkeeler7@gmail.com"},{"hash":"19e86d28e39757cc54e2dac729d4b1d82fe96b5c","date":"2019-01-28 22:25:26 +0000","message":"Merge branch 'master' of https://github.com/hashicorp/consul","refs":[],"body":"","author_name":"mkeeler","author_email":"mjkeeler7@gmail.com"},{"hash":"39d5f2c08e94ceefd5c5469d656f8b48b93c9a90","date":"2019-01-29 01:25:56 +0300","message":"Fix missed letter in the documentation (#5281)","refs":[],"body":"","author_name":"Ilya Pavlov","author_email":"elipavlov@users.noreply.github.com"},{"hash":"7302285321adb43f068ac8e11a6d4bfbe7d88024","date":"2019-01-28 22:26:18 +0000","message":"Merge branch 'master' of https://github.com/hashicorp/consul","refs":[],"body":"","author_name":"mkeeler","author_email":"mjkeeler7@gmail.com"},{"hash":"f11980b5d03b0b45a0f344d5a8c982c530bcb9c7","date":"2019-01-28 11:18:30 -0500","message":"add nomad int test","refs":["origin/nomad_int_tests"],"body":"","author_name":"Alvin Huang","author_email":"alvin@hashicorp.com"},{"hash":"6982a3959854ff12cbde568befab9b2a43c310cd","date":"2019-01-29 10:12:08 -0800","message":"Remove the misleading default separator for listing keys.","refs":["origin/docs-kv-separator"],"body":"The default separator for key listing is an empty string - the docs incorrectly made it seem as if this was `/`.","author_name":"Kyle Havlovitz","author_email":"kylehav@gmail.com"},{"hash":"386df104df3973c4e4ee2807ea5d453cceb66c3e","date":"2019-01-29 11:29:16 -0800","message":"Switch smart quotes to straight quotes","refs":[],"body":"The ACL guide had a couple instances of smart quotes which get rendered\nas the incorrect character on the website.\n","author_name":"Rebecca Zanzig","author_email":"rzazzl@hotmail.com"},{"hash":"8e0ebc0f62eb72261acde5e596b8b6023cb2856b","date":"2019-01-29 14:24:26 -0600","message":"build: fix 'make ui' scripts so that it can handle versions like \"v1.4.0-rc1-55-g2c8675565-rc1 (2c8675565)\" (#4920)","refs":[],"body":"","author_name":"R.B. Boyer","author_email":"public@richardboyer.net"},{"hash":"14aefea0d4e5cfa2aa1a1e4d0b1e927839026f28","date":"2019-01-29 14:51:41 -0600","message":"Created a new index page that links to all the ACL guides. I also removed the sidebar nav drop down to be more consistent with the other guides. (#5260)","refs":[],"body":"","author_name":"kaitlincarter-hc","author_email":"43049322+kaitlincarter-hc@users.noreply.github.com"},{"hash":"db8a87130987b4bf5b2c88432f070f4a56dbc9a7","date":"2019-01-29 14:52:26 -0600","message":"Merge pull request #5237 from hashicorp/term-grpc-stream-on-token-failure","refs":[],"body":"Check ACLs more often for xDS endpoints.","author_name":"R.B. Boyer","author_email":"public@richardboyer.net"},{"hash":"fded7f2655c8a7ea988d35f9f5b86c486f11344a","date":"2019-01-29 15:55:58 -0600","message":"update changelog","refs":[],"body":"","author_name":"R.B. Boyer","author_email":"rb@hashicorp.com"},{"hash":"ce747c63f06d5f8439d592e5d806c19f0e54625e","date":"2019-01-29 15:11:00 -0800","message":"Merge pull request #5292 from hashicorp/docs/acl-quotes","refs":[],"body":"Switch smart quotes to straight quotes","author_name":"Rebecca Zanzig","author_email":"rebecca@hashicorp.com"},{"hash":"ae71d6ce96eacef79a50fb602d5b1539010faf15","date":"2019-01-30 10:56:04 +0000","message":"ui: Custom version of ember-block-slots compatible with ember 3 (#5245)","refs":[],"body":"The original version of ember-block-slots doesn't support ember 3 and it\r\nseems like development has stalled on the original version.\r\n\r\nThis adds a modified version as an in-repo-addon that is compatible with\r\nember 3.","author_name":"John Cowen","author_email":"johncowen@users.noreply.github.com"},{"hash":"3d86d9582e1c4990eea0ff08c4ce5a1aa2989f97","date":"2019-01-30 10:47:21 -0800","message":"Update changelog with a missing note for 1.2.3","refs":[],"body":"","author_name":"Kyle Havlovitz","author_email":"kylehav@gmail.com"},{"hash":"82e741f36fb1e968400b2420fba7b12c936d1323","date":"2019-01-30 17:47:32 -0500","message":"Fix some docs formatting around DNS SOA RR configuration (#5297)","refs":[],"body":"","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"a3b830f68f439f39a093cf956c882d8ec423323e","date":"2019-01-29 15:37:13 -0800","message":"Update k8s ACL documentation","refs":[],"body":"Clarifies that an ACL token only needs to be provided when ACLs are\nenabled within the Consul cluster.\n","author_name":"Rebecca Zanzig","author_email":"rzazzl@hotmail.com"},{"hash":"51658743180561ec10dcb5aa371f153f8caf5b5c","date":"2019-02-01 09:16:36 -0600","message":"incorrect examples for 'consul acl policy' commands (#5303)","refs":[],"body":"","author_name":"R.B. Boyer","author_email":"public@richardboyer.net"},{"hash":"e1e4249e904232e1a3e2f7f22515ec89c67cb02c","date":"2019-02-01 09:21:54 -0600","message":"testutil: redirect some test agent logs to testing.T.Logf (#5304)","refs":[],"body":"When tests fail, only the logs for the failing run are dumped to the\r\nconsole which helps in diagnosis. This is easily added to other test\r\nscenarios as they come up.","author_name":"R.B. Boyer","author_email":"public@richardboyer.net"},{"hash":"ede4cd23ae63307e1e0ba2b5915a4e95c9834388","date":"2019-02-01 11:44:11 -0500","message":"Merge pull request #5284 from hashicorp/nomad_int_tests","refs":[],"body":"add nomad int test","author_name":"Alvin Huang","author_email":"huang.s.alvin@gmail.com"},{"hash":"6e83f68637a719fbbbac69a5ddfcf21eda09ad79","date":"2019-02-01 10:48:52 -0800","message":"Remove consul-docs automatic PR review (#5306)","refs":[],"body":"We no longer want this single codeowner rule, though we are keeping this group.","author_name":"Jack Pearkes","author_email":"jackpearkes@gmail.com"},{"hash":"c60efabed2f29953db478340c2e0447653ad819e","date":"2019-02-01 14:32:37 -0800","message":"Update website/source/docs/platform/k8s/service-sync.html.md","refs":[],"body":"Co-Authored-By: adilyse <rebecca@hashicorp.com>","author_name":"kaitlincarter-hc","author_email":"43049322+kaitlincarter-hc@users.noreply.github.com"},{"hash":"9bdd921917e38c331246a65709ae6e310cd29d6d","date":"2019-02-01 14:33:06 -0800","message":"Apply suggestions from code review","refs":[],"body":"Co-Authored-By: adilyse <rebecca@hashicorp.com>","author_name":"kaitlincarter-hc","author_email":"43049322+kaitlincarter-hc@users.noreply.github.com"},{"hash":"acfd87c673db383f9b95f75860a9d1b913ec51d5","date":"2019-02-04 09:36:51 -0500","message":"Improve Connect with Prepared Queries (#5291)","refs":[],"body":"Given a query like:\r\n\r\n```\r\n{\r\n   \"Name\": \"tagged-connect-query\",\r\n   \"Service\": {\r\n      \"Service\": \"foo\",\r\n      \"Tags\": [\"tag\"],\r\n      \"Connect\": true\r\n   }\r\n}\r\n```\r\n\r\nAnd a Consul configuration like:\r\n\r\n```\r\n{\r\n   \"services\": [\r\n      \"name\": \"foo\",\r\n      \"port\": 8080,\r\n      \"connect\": { \"sidecar_service\": {} },\r\n      \"tags\": [\"tag\"]\r\n   ]\r\n}\r\n```\r\n\r\nIf you executed the query it would always turn up with 0 results. This was because the sidecar service was being created without any tags. You could instead make your config look like:\r\n\r\n```\r\n{\r\n   \"services\": [\r\n      \"name\": \"foo\",\r\n      \"port\": 8080,\r\n      \"connect\": { \"sidecar_service\": {\r\n         \"tags\": [\"tag\"]\r\n      } },\r\n      \"tags\": [\"tag\"]\r\n   ]\r\n}\r\n```\r\n\r\nHowever that is a bit redundant for most cases. This PR ensures that the tags and service meta of the parent service get copied to the sidecar service. If there are any tags or service meta set in the sidecar service definition then this copying does not take place. After the changes, the query will now return the expected results.\r\n\r\nA second change was made to prepared queries in this PR which is to allow filtering on ServiceMeta just like we allow for filtering on NodeMeta.","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"577b57b3ea0f079b190101733b1b36f353899f26","date":"2019-02-04 09:39:47 -0500","message":"Update CHANGELOG.md","refs":[],"body":"","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"de50bc3295c9d38c0fce0ec4688a4aa3c7848fcf","date":"2019-02-04 15:16:15 -0600","message":"cli: fix typo in help text for 'consul acl role read' (#5311)","refs":[],"body":"","author_name":"R.B. Boyer","author_email":"public@richardboyer.net"},{"hash":"bfcfcc06d0745619b7f8f26f88a1beb0eed0b7ee","date":"2019-02-05 16:20:14 +0100","message":"Revendor memberlist to Fix #3217","refs":[],"body":"Upgrade leads to protocol version (2) is incompatible: [1, 0] (#5313)\r\n\r\nThis is fixed in https://github.com/hashicorp/memberlist/pull/178, bump\r\nmemberlist to fix possible split brain in Consul.","author_name":"Pierre Souchay","author_email":"pierresouchay@users.noreply.github.com"},{"hash":"011f3e775e855c2f6d008a00d02b1d32546f0115","date":"2019-02-05 10:22:59 -0500","message":"Update CHANGELOG.md","refs":[],"body":"","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"fb0fc6e4596a250255e96bab8764aee47d48cadb","date":"2019-02-07 13:05:12 -0500","message":"Remove invalid option -name from ACL token read documentation (#5324)","refs":[],"body":"It appears that the `read` command for ACL policies was used to template the `read` command for ACL tokens, and an invalid option was not dropped from the docs.  ","author_name":"Nick Gunia","author_email":"ngunia@users.noreply.github.com"},{"hash":"29e4c17b077f46776410c8e88477c8f090ab0e2b","date":"2019-02-07 10:43:54 -0800","message":"connect/ca: fix a potential panic in the Consul provider","refs":[],"body":"","author_name":"Kyle Havlovitz","author_email":"kylehav@gmail.com"},{"hash":"5a98953c43e1b84ae2284f25b7e694506e08cb6f","date":"2019-02-07 13:08:04 -0800","message":"Apply suggestions from code review","refs":[],"body":"Co-Authored-By: adilyse <rebecca@hashicorp.com>","author_name":"kaitlincarter-hc","author_email":"43049322+kaitlincarter-hc@users.noreply.github.com"},{"hash":"1ef6bf3902624ba63cfb2e491cb287991a2bf499","date":"2019-02-07 13:26:17 -0800","message":"Add additional clarification to the ACL token wording","refs":[],"body":"","author_name":"Rebecca Zanzig","author_email":"rzazzl@hotmail.com"},{"hash":"fc1d9e5d78749edc55249e5e7c1a8f7a24add99d","date":"2019-02-07 13:46:44 -0800","message":"Merge pull request #5302 from hashicorp/docs/k8s-acl","refs":[],"body":"Update k8s ACL documentation","author_name":"Rebecca Zanzig","author_email":"rebecca@hashicorp.com"},{"hash":"d7e4151fcb60d6bd22381ad3ee6979fc034cf33b","date":"2019-02-08 15:39:29 -0500","message":"website: Update UI Policy recommendations from Guide (#5321)","refs":[],"body":"The guide currently uses node, service, and service for the UI Policy.\r\nThis will cause a practically useless UI. This patch uses the _prefix\r\nvariants instead which will have the intended behavior.","author_name":"adawalli","author_email":"adam.wallis@gmail.com"},{"hash":"7073ba4ed2130e7ba71726d8101606282c3c27ac","date":"2019-02-11 11:12:24 -0500","message":"Move autopilot initialization to prevent race (#5322)","refs":[],"body":"`establishLeadership` invoked during leadership monitoring may use autopilot to do promotions etc. There was a race with doing that and having autopilot initialized and this fixes it.","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"a4d1659ac2b2040cc549a7ee99ba6c5af110ee80","date":"2019-02-11 11:13:29 -0500","message":"Update CHANGELOG.md","refs":[],"body":"","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"41742f9504ddb612069a7759692a9e1fd2a96ac0","date":"2019-02-12 15:13:43 -0200","message":"Documentation - New plugin for frontend applications based in webpack (#5310)","refs":[],"body":"* Add new plugin for front-end applications based in webpack\r\n\r\n* Fix doc suggestion\r\n\r\nCo-Authored-By: marlonmleite <marlonmleite@gmail.com>\r\n","author_name":"Marlon Maxwel","author_email":"marlonmleite@gmail.com"},{"hash":"324ba5df176ccd08b33d909825da3b0542e8ede7","date":"2019-02-12 16:09:26 -0600","message":"update TestStateStore_ACLBootstrap to not rely upon request mutation (#5335)","refs":[],"body":"","author_name":"R.B. Boyer","author_email":"public@richardboyer.net"},{"hash":"8acadd364a90b084a2800820f6bcba8279a1d165","date":"2019-02-12 23:47:19 +0000","message":"Add note about equals signs","refs":[],"body":"","author_name":"petems","author_email":"p.morsou+GIT@gmail.com"},{"hash":"371cac266dbb5d51ceb7534dc248bbc2e5a69fc0","date":"2019-02-13 00:53:51 +0000","message":"Update specific perms for Azure","refs":[],"body":"* `listAll` is not valid","author_name":"petems","author_email":"p.morsou+GIT@gmail.com"},{"hash":"dad2b24b82fa27d3d6c02aaa5845451f059f897a","date":"2019-02-13 00:54:27 +0000","message":"Adds note about secret value","refs":[],"body":"* For future traveler, this literally ate up an entire day of debugging, so hopefully it helped you! :dancer: ","author_name":"petems","author_email":"p.morsou+GIT@gmail.com"},{"hash":"5020f97911849d13d36c3a35b2f3be54f3fa39ab","date":"2019-02-13 00:54:51 +0000","message":"Adds newline for bullets","refs":[],"body":"* Formatting was previously broken","author_name":"petems","author_email":"p.morsou+GIT@gmail.com"},{"hash":"ae814af631e8a047a1dfa2ed9f16434f7c1852c4","date":"2019-02-13 01:14:12 +0000","message":"Merge pull request #5338 from petems/fix_cloud_auto_join_docs","refs":[],"body":"Update Azurerm Cloud Auto-Join docs","author_name":"Peter Souter","author_email":"petems@users.noreply.github.com"},{"hash":"f2ed3a3777c47450ca6ae994cabaa1f359e06ea1","date":"2019-02-13 09:16:30 -0600","message":"clarify the ACL.PolicyDelete endpoint (#5337)","refs":[],"body":"There was an errant early-return in PolicyDelete() that bypassed the\r\nrest of the function.  This was ok because the only caller of this\r\nfunction ignores the results.\r\n\r\nThis removes the early-return making it structurally behave like\r\nTokenDelete() and for both PolicyDelete and TokenDelete clarify the lone\r\ncallers to indicate that the return values are ignored.\r\n\r\nWe may wish to avoid the entire return value as well, but this patch\r\ndoesn't go that far.","author_name":"R.B. Boyer","author_email":"public@richardboyer.net"},{"hash":"de0f585583963edfadbd4d3dacbf7ca98aa6c000","date":"2019-02-13 11:49:54 -0600","message":"agent: only enable TLS on gRPC if the HTTPS API port is enabled (#5287)","refs":[],"body":"Currently the gRPC server assumes that if you have configured TLS\r\ncerts on the agent (for RPC) that you want gRPC to be encrypted.\r\nIf gRPC is bound to localhost this can be overkill. For the API we\r\nlet the user choose to offer HTTP or HTTPS API endpoints\r\nindependently of the TLS cert configuration for a similar reason.\r\n\r\nThis setting will let someone encrypt RPC traffic with TLS but avoid\r\nencrypting local gRPC traffic if that is what they want to do by only\r\nenabling TLS on gRPC if the HTTPS API port is enabled.\r\n","author_name":"R.B. Boyer","author_email":"public@richardboyer.net"},{"hash":"a7de668260c01fe9cdd96a877821c5390fe49b7a","date":"2019-02-13 11:51:38 -0600","message":"update changelog","refs":[],"body":"","author_name":"R.B. Boyer","author_email":"rb@hashicorp.com"},{"hash":"2c983902be18192765de0106cf4669d128295a3b","date":"2019-02-01 10:00:38 -0600","message":"reduce the local scope of variable","refs":[],"body":"","author_name":"R.B. Boyer","author_email":"rb@hashicorp.com"},{"hash":"b24b3a56d0c0b494a4ebdc18f36dc175c4a941af","date":"2019-02-13 18:53:21 +0000","message":"Docs EA update RA and DG (#5336)","refs":[],"body":"* Confirm RA against Consul 1.3\r\n\r\nChange product_version frontmatter to ea_version and increase to 1.3\r\n\r\n* Confirm DG against Consul 1.3\r\n\r\nChange product_version frontmatter to ea_version and increase to 1.3\r\n","author_name":"Dan Brown","author_email":"roooms@gmail.com"},{"hash":"88bb53d00184034c6517f31bd083ec9d2c0f1e8d","date":"2019-02-01 12:19:13 -0600","message":"ensure that we plumb our configured logger into all parts of the raft library","refs":[],"body":"","author_name":"R.B. Boyer","author_email":"rb@hashicorp.com"},{"hash":"adbe8ed3709c85cf6a4a0996f6dad848a825ac7c","date":"2019-02-13 11:57:29 -0600","message":"correct some typos","refs":[],"body":"","author_name":"R.B. Boyer","author_email":"rb@hashicorp.com"},{"hash":"82c17d94e14896458625436107768afb0b5cd540","date":"2019-02-01 12:25:04 -0600","message":"testutil: Set the environment variable NOLOGBUFFER=1 to have test agent logs go straight to stdout","refs":[],"body":"This is a followup to the testing feature added in #5304.\n\nWhile it is very nice to have test agent logs to through testing.T.Logf\nso that only logs from failed tests are emitted, if a test is hanging or\ntaking a long time those logs are delayed. In that case setting\nNOLOGBUFFER=1 will temporarily redirect them to stdout so you can see\nimmediate feedback about hangs when running the tests in verbose mode.\n\nOne current example of a test where this can be relevant is:\n\n    $ go test ./agent/consul -run 'TestCatalog_ListServices_Stale' -v\n","author_name":"R.B. Boyer","author_email":"rb@hashicorp.com"},{"hash":"397e9cd459be92819fe1ab23bb1d0ee760573051","date":"2019-02-13 13:26:20 -0600","message":"Merge pull request #5343 from hashicorp/fixes-grab-bag","refs":[],"body":"various small fixes","author_name":"R.B. Boyer","author_email":"public@richardboyer.net"},{"hash":"46de2c5504121e7562632e26fd928ac946ee10f7","date":"2019-02-13 14:05:09 -0600","message":"travis: enable branch builds for f-acl-ux and stop doing them for f-envoy","refs":[],"body":"","author_name":"R.B. Boyer","author_email":"rb@hashicorp.com"},{"hash":"766d77101778338909398e540e5c3d4ae104dc05","date":"2019-02-14 10:59:14 -0500","message":"Pass a testing.T into NewTestAgent and TestAgent.Start (#5342)","refs":[],"body":"This way we can avoid unnecessary panics which cause other tests not to run.\r\n\r\nThis doesn't remove all the possibilities for panics causing other tests not to run, it just fixes the TestAgent","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"7598b32d1d24870224050782c983bc68dfb2ebdc","date":"2019-02-14 10:25:17 -0600","message":"[Docs] New KV documentation  (#5315)","refs":[],"body":"* Adding new KV doc\r\n\r\n* fixing the metadata\r\n\r\n* Update website/source/docs/agent/kv.html.md\r\n\r\nCo-Authored-By: kaitlincarter-hc <43049322+kaitlincarter-hc@users.noreply.github.com>\r\n\r\n* Update website/source/docs/agent/kv.html.md\r\n\r\nCo-Authored-By: kaitlincarter-hc <43049322+kaitlincarter-hc@users.noreply.github.com>\r\n\r\n* Update website/source/docs/agent/kv.html.md\r\n\r\nCo-Authored-By: kaitlincarter-hc <43049322+kaitlincarter-hc@users.noreply.github.com>\r\n\r\n* Update website/source/docs/agent/kv.html.md\r\n","author_name":"kaitlincarter-hc","author_email":"43049322+kaitlincarter-hc@users.noreply.github.com"},{"hash":"ef8258cd4e6a10c76d0079057870e83af1ff62f4","date":"2019-02-13 10:43:09 -0600","message":"test: switch test file from assert -> require for consistency","refs":[],"body":"Also in acl_endpoint_test.go:\n\n* convert logical blocks in some token tests to subtests\n* remove use of require.New\n\nThis removes a lot of noise in a later PR.\n","author_name":"R.B. Boyer","author_email":"rb@hashicorp.com"},{"hash":"c8a1acd5085b325f63d528ed2e9b9ac89603c2fa","date":"2019-02-14 14:48:16 -0600","message":"Merge pull request #5349 from hashicorp/acl-endpoint-test-consistency","refs":[],"body":"test: switch test file from assert -> require for consistency","author_name":"R.B. Boyer","author_email":"public@richardboyer.net"},{"hash":"2aa516fd648e9d7d16260bfb9fb29981f5e96a8a","date":"2019-02-15 23:01:48 +0100","message":"Fix logfile open filemode (#5354)","refs":[],"body":"Fixes #5346 ","author_name":"Simone Di Maulo","author_email":"toretto460@gmail.com"},{"hash":"b3c744701442445a639263a3676155905845df7e","date":"2019-02-15 17:02:32 -0500","message":"Update CHANGELOG.md","refs":[],"body":"","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"b2af8862c738d7a86f599891dc1c171089d622d4","date":"2019-02-19 03:45:36 -0800","message":"Deferred updating response meta with consul headers (#5355)","refs":[],"body":"","author_name":"Kainoa Seto","author_email":"kainoa.seto@gmail.com"},{"hash":"aa338f7d8615ea27fcc7f3ab62d652a4004fbb44","date":"2019-02-19 11:46:38 +0000","message":"Update CHANGELOG.md","refs":[],"body":"","author_name":"Paul Banks","author_email":"banks@banksco.de"},{"hash":"99fe9dabce3fb811a0281cf281b9cd184f69e844","date":"2019-02-19 13:45:33 +0000","message":"Envoy config cluster (#5308)","refs":[],"body":"* Start adding tests for cluster override\r\n\r\n* Refactor tests for clusters\r\n\r\n* Passing tests for custom upstream cluster override\r\n\r\n* Added capability to customise local app cluster\r\n\r\n* Rename config for local cluster override\r\n","author_name":"Nicholas Jackson","author_email":"jackson.nic@gmail.com"},{"hash":"07e53082068b7a2455692ca52fa3cd8664315bda","date":"2019-02-19 13:46:58 +0000","message":"Update CHANGELOG.md","refs":[],"body":"","author_name":"Paul Banks","author_email":"banks@banksco.de"},{"hash":"a093af320cf97e1e0578058ea0fe4790036a07b7","date":"2019-02-19 10:45:23 -0600","message":"[docs] ACL reset procedure (#5334)","refs":[],"body":"* Adding reset instructions.\r\n\r\n* Added link to the boostrapping guide for the reset procedure.\r\n\r\n* Update website/source/docs/guides/acl.html.md\r\n\r\nCo-Authored-By: kaitlincarter-hc <43049322+kaitlincarter-hc@users.noreply.github.com>\r\n\r\n* Update website/source/docs/guides/acl.html.md\r\n\r\nCo-Authored-By: kaitlincarter-hc <43049322+kaitlincarter-hc@users.noreply.github.com>\r\n\r\n* Update website/source/docs/guides/acl.html.md\r\n\r\nCo-Authored-By: kaitlincarter-hc <43049322+kaitlincarter-hc@users.noreply.github.com>\r\n","author_name":"kaitlincarter-hc","author_email":"43049322+kaitlincarter-hc@users.noreply.github.com"},{"hash":"b569f222f973bc1b347a9efeaa4d293052f8346b","date":"2019-02-20 10:23:38 -0600","message":"update agent/agent_endpoint_test.go to use V2 tokens with attached policies","refs":[],"body":"","author_name":"R.B. Boyer","author_email":"rb@hashicorp.com"},{"hash":"193c0b727b31887d9a4ccc1aa6ea68fe52e910e7","date":"2019-02-20 18:27:28 -0600","message":"[Docs] Helm Chart (#5350)","refs":[],"body":"* Updating the Helm chart to include ACL parameter and examples.\r\n\r\n* Updates based on feedback.\r\n\r\n* Update website/source/docs/platform/k8s/helm.html.md\r\n\r\nCo-Authored-By: kaitlincarter-hc <43049322+kaitlincarter-hc@users.noreply.github.com>\r\n","author_name":"kaitlincarter-hc","author_email":"43049322+kaitlincarter-hc@users.noreply.github.com"},{"hash":"df19c8a889645c40a7faa342a87f6763524d933a","date":"2019-02-21 10:35:28 -0600","message":"Merge pull request #5361 from hashicorp/update-some-tests-to-new-tokens","refs":[],"body":"update agent/agent_endpoint_test.go to use V2 tokens with attached policies","author_name":"R.B. Boyer","author_email":"public@richardboyer.net"},{"hash":"1598c787aecf6bbcd00ce817fc94b4ad0e05176f","date":"2019-02-21 10:35:45 -0600","message":"Merge pull request #5344 from hashicorp/test-no-log-buffer","refs":[],"body":"testutil: Set the environment variable NOLOGBUFFER=1 to have test agent logs go straight to stdout","author_name":"R.B. Boyer","author_email":"public@richardboyer.net"},{"hash":"00aa50cfa2ba3ad80fcad8483b217d259c834ea3","date":"2019-02-20 10:42:38 -0600","message":"website: fix errant mention of 'snapshot save' on docs for 'snapshot restore'","refs":[],"body":"","author_name":"R.B. Boyer","author_email":"rb@hashicorp.com"},{"hash":"360e3acc7c18dd14586fb00c4c57b0597e97a620","date":"2019-02-21 21:33:45 +0000","message":"Add common blocking implementation details to docs (#5358)","refs":[],"body":"* Add common blocking implementation details to docs\r\n\r\nThese come up over and over again with blocking query loops in our own code and third-party's. #5333 is possibly a case (unconfirmed) where \"badly behaved\" blocking clients cause issues, however since we've never explicitly documented these things it's not reasonable for third-party clients to have guessed that they are needed!\r\n\r\nThis hopefully gives us something to point to for the future.\r\n\r\nIt's a little wordy - happy to consider breaking some of the blocking stuff out of this page if we think it's appropriate but just wanted to quickly plaster over this gap in our docs for now.\r\n\r\n* Update index.html.md\r\n\r\n* Apply suggestions from code review\r\n\r\nCo-Authored-By: banks <banks@banksco.de>\r\n\r\n* Update index.html.md\r\n\r\n* Update index.html.md\r\n\r\n* Clearified monotonically\r\n\r\n* Fixing formating\r\n","author_name":"Paul Banks","author_email":"banks@banksco.de"},{"hash":"c2a30c5fdd6229ce98d6271b58f12582d7dc9dfe","date":"2019-02-21 15:49:22 -0600","message":"fix incorrect body of TestACLEndpoint_PolicyBatchRead","refs":[],"body":"Lifted from PR #5307 as it was an unrelated drive-by fix on that PR anyway.\n\ns/token/policy/\n","author_name":"R.B. Boyer","author_email":"rb@hashicorp.com"},{"hash":"6c9b516a29b340bbda6bedb57b18402a9029b0b2","date":"2019-02-21 18:47:19 -0500","message":"skip TestCheckTCPPassing on CircleCI","refs":[],"body":"","author_name":"Alvin Huang","author_email":"alvin@hashicorp.com"},{"hash":"c23eb91262677fa2f807340a3b184ea771180947","date":"2019-02-15 13:10:02 -0500","message":"fix TestAgent_CheckCriticalTime and better error output","refs":[],"body":"","author_name":"Alvin Huang","author_email":"alvin@hashicorp.com"},{"hash":"fe7b841e4a2f9df4e095873868dc9ee62858510e","date":"2019-02-21 20:03:05 -0500","message":"add serf check to TestAPI_SemaphoreConflict","refs":[],"body":"","author_name":"Alvin Huang","author_email":"alvin@hashicorp.com"},{"hash":"5f2e709c3f2498a0ec261bf7d33741bc2ff7761d","date":"2019-02-21 20:14:26 -0500","message":"remove serf check","refs":[],"body":"","author_name":"Alvin Huang","author_email":"alvin@hashicorp.com"},{"hash":"c2a19e50902ee835827a5a1cf6f609aefa1d2c29","date":"2019-02-21 21:47:19 -0500","message":"add wait to TestAgent_RPCPing","refs":[],"body":"","author_name":"Alvin Huang","author_email":"alvin@hashicorp.com"},{"hash":"a5bd6d7c0099e129b7bc5be765beca6691326740","date":"2019-02-21 22:11:31 -0500","message":"add serf check to TestAPI_AgentServices_ManagedConnectProxyDeprecatedUpstreams","refs":[],"body":"","author_name":"Alvin Huang","author_email":"alvin@hashicorp.com"},{"hash":"31af6be26ad20508ec59223a6d6e863493e4a47d","date":"2019-02-21 17:39:54 -0500","message":"add serf check to TestLockCommand","refs":[],"body":"","author_name":"Alvin Huang","author_email":"alvin@hashicorp.com"},{"hash":"f98512f1a3c18bb80ba93346ca81ee9b41f560f2","date":"2019-02-22 10:19:19 -0500","message":"add serf check to TestAPI_Snapshot","refs":[],"body":"","author_name":"Alvin Huang","author_email":"alvin@hashicorp.com"},{"hash":"d93c82e9665ef225863a5f6457bba282567aca44","date":"2019-02-22 10:20:08 -0500","message":"add serf check to TestAPI_SemaphoreConflict","refs":[],"body":"","author_name":"Alvin Huang","author_email":"alvin@hashicorp.com"},{"hash":"7252679232266bafc59fcbc21fbb5e0c6793f912","date":"2019-02-22 10:37:09 -0500","message":"add serf check to TestAPI_ClientPutGetDelete, TestAPI_ClientWatchGet","refs":[],"body":"","author_name":"Alvin Huang","author_email":"alvin@hashicorp.com"},{"hash":"a2eb3c204d55698609045fdd3a45acc17423fb89","date":"2019-02-22 10:38:39 -0500","message":"add serf check to TestAPI_HealthChecks_NodeMetaFilter, TestAPI_HealthConnect","refs":[],"body":"","author_name":"Alvin Huang","author_email":"alvin@hashicorp.com"},{"hash":"7b4fb32545946db662fca4449136e7ed48ba76c6","date":"2019-02-22 13:32:30 -0500","message":"add serf check to TestAPI_CoordinateUpdate","refs":[],"body":"","author_name":"Alvin Huang","author_email":"alvin@hashicorp.com"},{"hash":"9780892ebe2bb2a6997af13a25604cd9c5a46288","date":"2019-02-22 13:38:21 -0500","message":"add serf check to TestAPI_ConnectCARoots_empty, TestAPI_ConnectCAConfig_get_set","refs":[],"body":"","author_name":"Alvin Huang","author_email":"alvin@hashicorp.com"},{"hash":"8124f5889ca32771ee387efd5fe3c7a292c09b5e","date":"2019-02-22 13:39:08 -0500","message":"add serf check to TestAPI_CatalogNodes","refs":[],"body":"","author_name":"Alvin Huang","author_email":"alvin@hashicorp.com"},{"hash":"aed9d123fabccadeefb086e7a33aacc559e0cc71","date":"2019-02-22 13:41:28 -0500","message":"add serf check to various api/agent tests","refs":[],"body":"","author_name":"Alvin Huang","author_email":"alvin@hashicorp.com"},{"hash":"e999e404da9fb22af27e4c08ad50fe10035321e9","date":"2019-02-22 13:42:09 -0500","message":"add serf check to TestAPI_ACLToken_List","refs":[],"body":"","author_name":"Alvin Huang","author_email":"alvin@hashicorp.com"},{"hash":"dc200daf21a0c016524adb1f2ee50dd1ad9fee55","date":"2019-02-20 12:36:14 -0500","message":"add wait to TestSnapshot","refs":[],"body":"","author_name":"Alvin Huang","author_email":"alvin@hashicorp.com"},{"hash":"d10b5a396b659c495c1cd7893f37d4c82541a7ea","date":"2019-02-15 12:24:38 -0500","message":"add wait to TestOperator_AutopilotCASConfiguration","refs":[],"body":"","author_name":"Alvin Huang","author_email":"alvin@hashicorp.com"},{"hash":"a7180f715a4b1d9ae92f375b9c7868927bd83219","date":"2019-02-22 15:24:19 -0500","message":"add serf check to testDNSServiceLookupResponseLimits, checkDNSService","refs":[],"body":"","author_name":"Alvin Huang","author_email":"alvin@hashicorp.com"},{"hash":"136df63e2cecca3789fcb00683a72cffbc88c9b3","date":"2019-02-21 16:27:17 -0500","message":"add retry to TestResetSessionTimerLocked","refs":[],"body":"","author_name":"Alvin Huang","author_email":"alvin@hashicorp.com"},{"hash":"77eecf10466e284030492a8ac2faf23c78df9911","date":"2019-02-22 15:40:59 -0500","message":"add wait to TestClient_JoinLAN","refs":["origin/fix-tests"],"body":"","author_name":"Alvin Huang","author_email":"alvin@hashicorp.com"},{"hash":"f1cdfbe40e8ce7b8c2271b8d0bb78586f9ea17ad","date":"2019-02-25 20:06:01 +0100","message":"Allow DNS interface to use agent cache (#5300)","refs":[],"body":"Adds two new configuration parameters \"dns_config.use_cache\" and\r\n\"dns_config.cache_max_age\" controlling how DNS requests use the agent\r\ncache when querying servers.","author_name":"Aestek","author_email":"thib.gilles@gmail.com"},{"hash":"6645d714d70046d04684c12d7177fa22897ed184","date":"2019-02-25 14:07:14 -0500","message":"Update CHANGELOG.md","refs":[],"body":"","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"cce1c14fac4fe2a14c7d027d91e16bc682fe65b6","date":"2019-02-25 11:52:00 -0800","message":"website: update bootstrap-saas depenency (#5387)","refs":[],"body":"https://blog.getbootstrap.com/2019/02/13/bootstrap-4-3-1-and-3-4-1/","author_name":"Jack Pearkes","author_email":"jackpearkes@gmail.com"},{"hash":"786b3b10956e71603d9ac68498702e54ba35fdd5","date":"2019-02-26 16:52:07 +0100","message":"Centralise tls configuration part 1 (#5366)","refs":[],"body":"In order to be able to reload the TLS configuration, we need one way to generate the different configurations.\r\n\r\nThis PR introduces a `tlsutil.Configurator` which holds a `tlsutil.Config`. Afterwards it is responsible for rendering every `tls.Config`. In this particular PR I moved `IncomingHTTPSConfig`, `IncomingTLSConfig`, and `OutgoingTLSWrapper` into `tlsutil.Configurator`.\r\n\r\nThis PR is a pure refactoring - not a single feature added. And not a single test added. I only slightly modified existing tests as necessary.","author_name":"Hans Hasselberg","author_email":"me@hans.io"},{"hash":"f3610df40b1effcabb242413155bb82e78ef7bc6","date":"2019-02-26 18:00:23 +0100","message":"Add more details on SkipNodeUpdate option (#5345)","refs":[],"body":"* Add more details on SkipNodeUpdate option\r\n\r\n* Updating the language for the entire parameter.\r\n","author_name":"danielehc","author_email":"40759828+danielehc@users.noreply.github.com"},{"hash":"80e7d63fc2c008d8d2495deecf476e62e98b156d","date":"2019-02-27 10:14:59 +0100","message":"Centralise tls configuration part 2 (#5374)","refs":[],"body":"This PR is based on #5366 and continues to centralise the tls configuration in order to be reloadable eventually!\r\n\r\nThis PR is another refactoring. No tests are changed, beyond calling other functions or cosmetic stuff. I added a bunch of tests, even though they might be redundant.","author_name":"Hans Hasselberg","author_email":"me@hans.io"},{"hash":"f07e928afc5e217bf5856d9e7283f5130e7031b3","date":"2019-02-27 09:43:44 -0800","message":"Merge pull request #5325 from hashicorp/consul-ca-panic","refs":[],"body":"connect/ca: fix a potential panic in the Consul provider","author_name":"Kyle Havlovitz","author_email":"kylehav@gmail.com"},{"hash":"118adbb123a7ca38f587f7bcba43fbc954498b2b","date":"2019-02-27 14:28:31 -0500","message":"ACL Token Persistence and Reloading (#5328)","refs":[],"body":"This PR adds two features which will be useful for operators when ACLs are in use.\r\n\r\n1. Tokens set in configuration files are now reloadable.\r\n2. If `acl.enable_token_persistence` is set to `true` in the configuration, tokens set via the `v1/agent/token` endpoint are now persisted to disk and loaded when the agent starts (or during configuration reload)\r\n\r\nNote that token persistence is opt-in so our users who do not want tokens on the local disk will see no change.\r\n\r\nSome other secondary changes:\r\n\r\n* Refactored a bunch of places where the replication token is retrieved from the token store. This token isn't just for replicating ACLs and now it is named accordingly.\r\n* Allowed better paths in the `v1/agent/token/` API. Instead of paths like: `v1/agent/token/acl_replication_token` the path can now be just `v1/agent/token/replication`. The old paths remain to be valid. \r\n* Added a couple new API functions to set tokens via the new paths. Deprecated the old ones and pointed to the new names. The names are also generally better and don't imply that what you are setting is for ACLs but rather are setting ACL tokens. There is a minor semantic difference there especially for the replication token as again, its no longer used only for ACL token/policy replication. The new functions will detect 404s and fallback to using the older token paths when talking to pre-1.4.3 agents.\r\n* Docs updated to reflect the API additions and to show using the new endpoints.\r\n* Updated the ACL CLI set-agent-tokens command to use the non-deprecated APIs.\r\n\r\n\r\n","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"4833c5dee528559548b69ed4e54e27ce35f3fbe0","date":"2019-02-27 14:29:41 -0500","message":"Update CHANGELOG.md","refs":[],"body":"","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"e64c5c58997371f77819c27c455a14f888fbeefb","date":"2019-03-01 15:51:37 +0100","message":"typo (#5407)","refs":[],"body":"","author_name":"Hans Hasselberg","author_email":"me@hans.io"},{"hash":"c7067645ddc186281897e080822c88727111dcf6","date":"2019-03-01 10:25:37 -0600","message":"fix a few leap-year related clock math inaccuracies and failing tests","refs":[],"body":"","author_name":"R.B. Boyer","author_email":"rb@hashicorp.com"},{"hash":"695518623986baa9e6a585633e29c82170a61c7d","date":"2019-03-01 13:28:35 -0600","message":"fix ignored errors in state store internals as reported by errcheck","refs":[],"body":"","author_name":"R.B. Boyer","author_email":"rb@hashicorp.com"},{"hash":"409c901f8ef0fa0da2186ad94a6bba5289d5cfdf","date":"2019-03-01 12:24:32 -0600","message":"test: fix concurrent map access when setting up test vault","refs":[],"body":"","author_name":"R.B. Boyer","author_email":"rb@hashicorp.com"},{"hash":"200c0fb3e9fe4f69ce8d25586250523e58b6b7d7","date":"2019-03-04 09:19:35 -0500","message":"Call RemoveServer for reap events (#5317)","refs":[],"body":"This ensures that servers are removed from RPC routing when they are reaped.\r\n","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"767b8c22eab69b4416eee520941a0bdc5fbc26d8","date":"2019-03-04 09:20:58 -0500","message":"Update CHANGELOG.md","refs":[],"body":"","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"02f991843fb1b90255f26feacc9699c3d65ac1ad","date":"2019-03-04 15:22:01 +0100","message":"Fix race condition in DNS when using cache  (#5398)","refs":[],"body":"* Fix race condition in DNS when using cache\r\n\r\nThe healty node filtering was modifying the result from the cache, which\r\ncaused a crash when multiple queries were made to the same service\r\nsimultaneously.\r\nWe now copy the node slice before filtering to ensure we do not modify\r\nthe data stored in the cache.\r\n\r\n* Fix wording in dns cache config doc\r\n\r\ns/dns_max_age/cache_max_age/\r\n","author_name":"Aestek","author_email":"thib.gilles@gmail.com"},{"hash":"6e6910ea11260a4c6630b96e331c089cfb75a813","date":"2019-03-04 09:28:46 -0500","message":"Dont modify memdb owned token data for get/list requests of tokens (#5412)","refs":[],"body":"Previously we were fixing up the token links directly on the *ACLToken returned by memdb. This invalidated some assumptions that a snapshot is immutable as well as potentially being able to cause a crash.\r\n\r\nThe fix here is to give the policy link fixing function copy on write semantics. When no fixes are necessary we can return the memdb object directly, otherwise we copy it and create a new list of links.\r\n\r\nEventually we might find a better way to keep those policy links in sync but for now this fixes the issue.","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"219e9f8297d7980739341076511f9d2b9b44a5d5","date":"2019-03-04 09:29:54 -0500","message":"Update CHANGELOG.md","refs":[],"body":"","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"2aac4d5168cc761ca58f2500e65ec1874cb9f168","date":"2019-03-04 15:34:05 +0100","message":"Register and deregisters services and their checks atomically in the local state (#5012)","refs":[],"body":"Prevent race between register and deregister requests by saving them\r\ntogether in the local state on registration.\r\nAlso adds more cleaning in case of failure when registering services\r\n/ checks.","author_name":"Aestek","author_email":"thib.gilles@gmail.com"},{"hash":"7a418f70cf88aa915a1c956c299de689fbefa728","date":"2019-03-04 09:35:13 -0500","message":"Update CHANGELOG.md","refs":[],"body":"","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"d35824b1faaa6557b182dbbdcf94dcc9a41aaa44","date":"2019-03-04 15:42:04 +0100","message":"default to tls 1.2 as promised. (#5340)","refs":[],"body":"","author_name":"Hans Hasselberg","author_email":"me@hans.io"},{"hash":"59cca0b975e1b7bff5f931b7ce32fd4595c88a06","date":"2019-03-04 09:43:51 -0500","message":"Update CHANGELOG.md","refs":[],"body":"","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"9e91906664ca31e20239c81bb425af0ef234fe87","date":"2019-03-04 09:45:24 -0500","message":"Update to registering services via Catalog API","refs":[],"body":"","author_name":"Chip Vaughn","author_email":"chip@hashicorp.com"},{"hash":"ae8f273a9259d8cb88039e56e6716303a51cd4c5","date":"2019-03-04 09:46:37 -0500","message":"Update to registering services via Catalog API","refs":[],"body":"","author_name":"Chip Vaughn","author_email":"chip@hashicorp.com"},{"hash":"90040f8bffb311e6cd8599273e95b607175e311f","date":"2019-03-04 14:52:45 +0000","message":"Fixes for CVE-2019-8336","refs":[],"body":"Fix error in detecting raft replication errors.\n\nDetect redacted token secrets and prevent attempting to insert.\n\nAdd a Redacted field to the TokenBatchRead and TokenRead RPC endpoints\n\nThis will indicate whether token secrets have been redacted.\n\nEnsure any token with a redacted secret in secondary datacenters is removed.\n\nTest that redacted tokens cannot be replicated.\n","author_name":"Matt Keeler","author_email":"mkeeler@hashicorp.com"},{"hash":"67f4633134bc11c331f3e86e5bf4e719a26b42f9","date":"2019-03-04 19:18:25 +0000","message":"Update Changelog","refs":[],"body":"","author_name":"Matt Keeler","author_email":"mkeeler@hashicorp.com"},{"hash":"567e41ff6b096a478333c804d5c18264050bc3f8","date":"2019-03-04 19:21:20 +0000","message":"Release v1.4.3","refs":["tag: v1.4.3"],"body":"","author_name":"Matt Keeler","author_email":"mkeeler@hashicorp.com","tag":"v1.4.3"},{"hash":"aa6a3924894b02cb53880b2b181656b461e629a9","date":"2019-03-05 13:58:03 +0100","message":"[docs] Add IntelliJ Consul to the list of community tools (#5379)","refs":[],"body":"","author_name":"novotnyr","author_email":"robert.novotny@upjs.sk"},{"hash":"9e7d0ff2d4540bf57dc9ffd504a0dec2b47784fd","date":"2019-03-05 19:05:53 +0000","message":"Merge branch 'master' of https://github.com/hashicorp/consul","refs":[],"body":"","author_name":"Matt Keeler","author_email":"mkeeler@hashicorp.com"},{"hash":"a4e2fe67eb16d8ee8367f5d8088734ea11c93de6","date":"2019-03-05 19:26:42 +0000","message":"Putting source back into Dev Mode","refs":[],"body":"","author_name":"Matt Keeler","author_email":"mkeeler@hashicorp.com"},{"hash":"feaece034b2e2b580046e2b2a341845e5224866b","date":"2019-03-05 20:55:04 +0100","message":"website: fix gemfile.lock (#5429)","refs":[],"body":"","author_name":"Hans Hasselberg","author_email":"me@hans.io"},{"hash":"a99f7aaa2528b19d07818f270b01cde85c00e15b","date":"2019-03-05 14:19:11 -0600","message":"website: fix broken links","refs":[],"body":"","author_name":"R.B. Boyer","author_email":"rb@hashicorp.com"},{"hash":"5bea49ecb0aaaa8cd479139687038975f59bb64a","date":"2019-03-04 14:50:03 -0600","message":"tests: avoid leaking child processes from agent/proxyprocess package","refs":[],"body":"","author_name":"R.B. Boyer","author_email":"rb@hashicorp.com"},{"hash":"2ffbea41c82c027f092361cbb5e4b9472255e973","date":"2019-03-05 10:16:31 -0600","message":"improve flaky LANReap tests by expliciting configuring the tombstone timeout","refs":[],"body":"In TestServer_LANReap autopilot is running, so the alternate flow\nthrough the serf reaping function is possible. In that situation the\nReconnectTimeout is not relevant so for parity also override the\nTombstoneTimeout value as well.\n\nFor additional parity update the TestServer_WANReap and\nTestClient_LANReap versions of this test in the same way even though\nautopilot is irrelevant here .\n","author_name":"R.B. Boyer","author_email":"rb@hashicorp.com"},{"hash":"eb0895c5fb04547ecba7da9c5a7cd7982a7a7a77","date":"2019-03-05 21:35:43 +0100","message":"tlsutil: don't use `server_name` config for RPC connections (#5394)","refs":[],"body":"* server name only for outgoing https for checks\r\n","author_name":"Hans Hasselberg","author_email":"me@hans.io"},{"hash":"ad25767416b3dea7d5a189efdce061f6fb1b580f","date":"2019-03-06 09:23:37 -0500","message":"Update to registering services via Catalog API","refs":[],"body":"","author_name":"Chip Vaughn","author_email":"chip@hashicorp.com"},{"hash":"ea38ad18f1c52c0adf94c87ff5b4a067d776cc59","date":"2019-03-06 09:41:12 -0500","message":"Update to registering services via Catalog API","refs":[],"body":"","author_name":"Chip Vaughn","author_email":"chip@hashicorp.com"},{"hash":"f658748a79a4862980046532571425921a6afd69","date":"2019-03-06 11:00:37 -0500","message":"Merge pull request #5420 from hashicorp/f-catalog-changes","refs":[],"body":"Catalog API Doc Changes","author_name":"Chip Vaughn","author_email":"chip.vaughn88@gmail.com"},{"hash":"9b1bc8d96ddba4ae202c94aee320c4f1aa5c6f91","date":"2019-03-06 10:46:07 -0600","message":"[Docs] Production Guide for ACLs (#5385)","refs":[],"body":"* New guide for ACLs\r\n\r\n* Fixing some formatting issues.\r\n\r\n* Update website/source/docs/guides/production-acls.html.md\r\n\r\nCo-Authored-By: kaitlincarter-hc <43049322+kaitlincarter-hc@users.noreply.github.com>\r\n\r\n* Update website/source/docs/guides/production-acls.html.md\r\n\r\nCo-Authored-By: kaitlincarter-hc <43049322+kaitlincarter-hc@users.noreply.github.com>\r\n\r\n* Update website/source/docs/guides/production-acls.html.md\r\n\r\nCo-Authored-By: kaitlincarter-hc <43049322+kaitlincarter-hc@users.noreply.github.com>\r\n\r\n* Resolving PR comments.\r\n\r\n* Closing the rest of the PR comments\r\n\r\n* Updates for persistence.\r\n\r\n* Updating commands.\r\n\r\n* Update website/source/docs/guides/production-acls.html.md\r\n\r\nCo-Authored-By: kaitlincarter-hc <43049322+kaitlincarter-hc@users.noreply.github.com>\r\n\r\n* Update website/source/docs/guides/production-acls.html.md\r\n\r\nCo-Authored-By: kaitlincarter-hc <43049322+kaitlincarter-hc@users.noreply.github.com>\r\n","author_name":"kaitlincarter-hc","author_email":"43049322+kaitlincarter-hc@users.noreply.github.com"},{"hash":"f4a3b9d518399a8aa3160e4093f02d4acd2f3a7e","date":"2019-03-06 11:13:28 -0600","message":"fix typos reported by golangci-lint:misspell (#5434)","refs":[],"body":"","author_name":"R.B. Boyer","author_email":"public@richardboyer.net"},{"hash":"8cb8108b1bc46fce1498125d69a21a8cc1c5a580","date":"2019-03-06 14:47:33 -0500","message":"fix typos","refs":[],"body":"","author_name":"Alvin Huang","author_email":"alvin@hashicorp.com"},{"hash":"77727d23aeb5e09b43a2d1ecd0610882307f422b","date":"2019-03-06 15:00:17 -0500","message":"Merge pull request #5436 from hashicorp/fix-typo","refs":[],"body":"fix typos","author_name":"Alvin Huang","author_email":"huang.s.alvin@gmail.com"},{"hash":"c07b7cc154b6e246a007e60e6ca9dfe0b1e5a0aa","date":"2019-03-05 15:04:12 -0800","message":"Add examples for the `extraConfig` options in the Helm chart","refs":[],"body":"","author_name":"Rebecca Zanzig","author_email":"rzazzl@hotmail.com"},{"hash":"f1864b128e81587c2d53c8628a6ca593954f84ec","date":"2019-03-06 14:25:25 -0800","message":"Merge pull request #5431 from hashicorp/docs/helm-extraConfig","refs":[],"body":"[docs] Add examples for the `extraConfig` options in the Helm chart","author_name":"Rebecca Zanzig","author_email":"rebecca@hashicorp.com"},{"hash":"80194732c5319846591f412fbfc6351f63f2f77b","date":"2019-03-07 12:10:40 -0800","message":"[docs] fix link to prepared query rules (#5435)","refs":[],"body":"* [docs] fix link to prepared query rules\r\n\r\n* Update website/source/api/query.html.md\r\n\r\nCo-Authored-By: judithpatudith <judith@hashicorp.com>\r\n","author_name":"Judith Malnick","author_email":"judith@hashicorp.com"},{"hash":"3dbd73ee2339d25e338ad96a5bc0eb372dc5e3c9","date":"2019-03-07 16:52:50 -0800","message":"Move aclSyncToken docs under `syncCatalog`","refs":[],"body":"Additionally updates the anchors to follow the established convention.\n","author_name":"Rebecca Zanzig","author_email":"rzazzl@hotmail.com"},{"hash":"1e4523f55ee9ae0fa5b3767e73d2419bc1c240ec","date":"2019-03-07 22:42:54 -0800","message":"Add logic to allow changing a failed node's ID","refs":[],"body":"","author_name":"Kyle Havlovitz","author_email":"kylehav@gmail.com"},{"hash":"7d62c8fbeca5700c69515b35f2212fe30b006b05","date":"2019-03-08 09:06:43 -0800","message":"Merge pull request #5443 from hashicorp/docs/acl-to-sync","refs":[],"body":"Move aclSyncToken docs under `syncCatalog`","author_name":"Rebecca Zanzig","author_email":"rebecca@hashicorp.com"},{"hash":"6c7245ce84f47a4af68a64cba93e9ede6d7ec964","date":"2019-03-07 17:06:18 -0800","message":"Add docs about new Helm `priorityClassName` options","refs":[],"body":"","author_name":"Rebecca Zanzig","author_email":"rzazzl@hotmail.com"},{"hash":"25c9f0e4aa47d1048b31d7c99999099c771a00eb","date":"2019-03-08 10:07:49 -0800","message":"Merge pull request #5444 from hashicorp/docs/helm-priorityClassName","refs":[],"body":"Add docs about new Helm `priorityClassName` options","author_name":"Rebecca Zanzig","author_email":"rebecca@hashicorp.com"},{"hash":"3ac9e57efe8378b28cb9dbddb7d414e27d04ddbb","date":"2019-03-07 17:20:56 -0800","message":"Add docs for new Helm `annotations` options","refs":[],"body":"","author_name":"Rebecca Zanzig","author_email":"rzazzl@hotmail.com"},{"hash":"f4c7b84500c49e4088e597e54e1e54020ab45611","date":"2019-03-08 13:10:35 -0600","message":"[doc] New Ports Documentation  (#5442)","refs":[],"body":"* Adding a ports table.\r\n\r\n* Updating layout based on feedback.\r\n","author_name":"kaitlincarter-hc","author_email":"43049322+kaitlincarter-hc@users.noreply.github.com"},{"hash":"4699423a18e51331c39aba8c89220094a4a250dc","date":"2019-03-08 13:12:16 -0600","message":"[Docs] ACL Bootstrap Guide (#5399)","refs":[],"body":"* Adding updates for consul reload of token config.\r\n\r\n* Update website/source/docs/guides/acl.html.md\r\n","author_name":"kaitlincarter-hc","author_email":"43049322+kaitlincarter-hc@users.noreply.github.com"},{"hash":"8d98032ed9eb1b22fd6e1feb600fb70722744156","date":"2019-03-08 12:11:30 -0800","message":"Merge pull request #5445 from hashicorp/docs/helm-annotations","refs":[],"body":"Add docs for new Helm `annotations` options","author_name":"Rebecca Zanzig","author_email":"rebecca@hashicorp.com"},{"hash":"329d8b7cfb3c1e2e5fae70fe80228b2f8f02703e","date":"2019-03-08 15:33:03 -0500","message":"refactor circleci config to 2.0","refs":["origin/circleci2.0-config"],"body":"","author_name":"Alvin Huang","author_email":"alvin@hashicorp.com"},{"hash":"9c08893ae431702d0253c92fac6a8eddc3e41d53","date":"2019-03-08 16:10:57 -0500","message":"Merge pull request #5453 from hashicorp/circleci2.0-config","refs":[],"body":"refactor circleci config to 2.0","author_name":"Alvin Huang","author_email":"huang.s.alvin@gmail.com"},{"hash":"a505e6e9daf163d5fdcc6c756a374773875afb65","date":"2019-03-02 17:41:12 +0000","message":"Update go-discover vendor","refs":[],"body":"* Adds note about use of ENV variables for auto-join on Azure","author_name":"petems","author_email":"p.morsou+GIT@gmail.com"},{"hash":"23bc8636c12e5462c6f655b057809d408108cd2a","date":"2019-03-11 18:42:15 +0900","message":"website: delete duplication of \"are\" (#5464)","refs":[],"body":"","author_name":"Masato Yamazaki","author_email":"mas9612@gmail.com"},{"hash":"4bea29f15ac2a3165328a6fc08ba2d45c6e5ee8f","date":"2019-03-11 15:48:19 +0100","message":"[catalog] Update the node's services indexes on update (#5458)","refs":[],"body":"Node updates were not updating the service indexes, which are used for\r\nservice related queries. This caused the X-Consul-Index to stay the same\r\nafter a node update as seen from a service query even though the node\r\ndata is returned in heath queries. If that happened in between queries\r\nthe client would miss this change.\r\nWe now update the indexes of the services on the node when it is\r\nupdated.\r\n\r\nFixes: #5450","author_name":"Aestek","author_email":"thib.gilles@gmail.com"},{"hash":"ec7d700bf44dd974744dbd4e189193a67c10cd7a","date":"2019-03-11 14:49:49 +0000","message":"Update CHANGELOG.md","refs":[],"body":"","author_name":"Paul Banks","author_email":"banks@banksco.de"},{"hash":"e293045751ecc2b8979bc7bc06fcad7617f0ee29","date":"2019-03-11 16:25:19 +0100","message":"Typo fix (segement > segment) (#5469)","refs":[],"body":"","author_name":"Lowe Schmidt","author_email":"github@loweschmidt.se"},{"hash":"21fcfcad7f202acec2ff0451411c97dd7660f908","date":"2019-03-11 16:39:39 -0400","message":"Merge pull request #5451 from hashicorp/update_go_discover_for_azure","refs":[],"body":"Update go-discover vendor","author_name":"Alvin Huang","author_email":"huang.s.alvin@gmail.com"},{"hash":"2e175be41b417959d33da2f2a63853dcfceb6eeb","date":"2019-03-12 10:23:43 -0500","message":"acl: correctly extend the cache for acl identities during resolution (#5475)","refs":[],"body":"","author_name":"R.B. Boyer","author_email":"public@richardboyer.net"},{"hash":"cd1aa9b426ddc7c9f73ac8fb2868d9c32d215d4e","date":"2019-03-12 11:26:40 -0400","message":"Remove misleading encrypt param documentation (#5452)","refs":[],"body":"According to https://www.consul.io/docs/agent/options.html#_encrypt, the `encrypt` param specifies the 16-byte key to use, not the path to a config file containing the key.","author_name":"Reid Beels","author_email":"mail@reidbeels.com"},{"hash":"7e11dd82aa8dae505b7307adcb68c9d3194b3b40","date":"2019-03-13 10:29:06 +0100","message":"agent: enable reloading of tls config (#5419)","refs":[],"body":"This PR introduces reloading tls configuration. Consul will now be able to reload the TLS configuration which previously required a restart. It is not yet possible to turn TLS ON or OFF with these changes. Only when TLS is already turned on, the configuration can be reloaded. Most importantly the certificates and CAs.","author_name":"Hans Hasselberg","author_email":"me@hans.io"},{"hash":"a7528db56007a2ed74fa277246dabeb46d732c7f","date":"2019-03-13 13:18:55 +0000","message":"Update CHANGELOG.md","refs":[],"body":"","author_name":"Paul Banks","author_email":"banks@banksco.de"},{"hash":"1333bfe324f26200c987338e6c9f77d18ffa4224","date":"2019-03-13 10:12:52 -0500","message":"[docs] Bootstrapping Guide -> Install docs (#5473)","refs":[],"body":"* moved the bootstrapping guide to the docs.\r\n\r\n* More edits for consistency.\r\n\r\n* Added arch link\r\n","author_name":"kaitlincarter-hc","author_email":"43049322+kaitlincarter-hc@users.noreply.github.com"},{"hash":"d5d586af96300e55fc5a601fd8dcec5ab25b29f3","date":"2019-03-13 11:25:54 -0400","message":"update bootstrap redirect","refs":[],"body":"","author_name":"Alvin Huang","author_email":"alvin@hashicorp.com"},{"hash":"cb1967259e34446b85182ef511134ae0420f90ac","date":"2019-03-13 11:53:45 -0400","message":"Merge pull request #5483 from hashicorp/add-bootstrap-redir","refs":[],"body":"update bootstrap redirect","author_name":"Alvin Huang","author_email":"huang.s.alvin@gmail.com"},{"hash":"51acd28d3b25d7a420246f628b56b1a9456f4b96","date":"2019-03-13 12:47:25 -0500","message":"[docs] Move Sentinel documentation (#5478)","refs":[],"body":"* Moving sentinel doc\r\n\r\n* updating links, fixing headings.\r\n\r\n* Update website/source/docs/agent/acl-rules.html.md\r\n","author_name":"kaitlincarter-hc","author_email":"43049322+kaitlincarter-hc@users.noreply.github.com"},{"hash":"31ae343dbabde157a2d358f50a50e2f02a6f99ac","date":"2019-03-13 14:11:24 -0400","message":"add sentinel redir (#5484)","refs":[],"body":"","author_name":"Alvin Huang","author_email":"huang.s.alvin@gmail.com"},{"hash":"34e9eab0d603269eb86db7aaa3fd8db0c39b2fe4","date":"2019-03-13 14:25:09 -0700","message":"Add docs for using Helm `--set` to create extraConfig variables (#5474)","refs":[],"body":"* Add docs for using Helm `--set` to create extraConfig variables\r\n\r\nBased on info provided for `consul-helm` issue 74.\r\n\r\n* fixing formatting\r\n","author_name":"Rebecca Zanzig","author_email":"rebecca@hashicorp.com"},{"hash":"aec25fde59c98ba56f8f42747d1e8c03601a6d24","date":"2019-03-13 16:56:00 -0500","message":"[docs] Deploying Consul with Kubernetes (#5471)","refs":[],"body":"* Adding new K8s guide.\r\n\r\n* Update website/source/docs/guides/kuberenetes-deployment.html.md\r\n\r\nCo-Authored-By: kaitlincarter-hc <43049322+kaitlincarter-hc@users.noreply.github.com>\r\n\r\n* Update website/source/docs/guides/kuberenetes-deployment.html.md\r\n\r\nCo-Authored-By: kaitlincarter-hc <43049322+kaitlincarter-hc@users.noreply.github.com>\r\n\r\n* updating based on feedback.\r\n\r\n* Couple updates based on feedback.\r\n\r\n* Update website/source/docs/guides/kuberenetes-deployment.html.md\r\n\r\n* updating value file.\r\n","author_name":"kaitlincarter-hc","author_email":"43049322+kaitlincarter-hc@users.noreply.github.com"},{"hash":"6932b06f970f18a2fb2beaa0c495645c6b0d8dd0","date":"2019-03-13 15:39:01 -0700","message":"Add a test for changing a failed node's ID","refs":[],"body":"","author_name":"Kyle Havlovitz","author_email":"kylehav@gmail.com"},{"hash":"dd7688db315fcc3b50069d2db70a152c40a44fa3","date":"2019-03-13 15:55:54 -0700","message":"Update memberlist for the node renaming change","refs":[],"body":"","author_name":"Kyle Havlovitz","author_email":"kylehav@gmail.com"},{"hash":"8ae6547934e1b04f825ebdc06a5bb4078be75b6a","date":"2019-03-13 16:23:05 -0700","message":"Update state store test for changing node ID","refs":[],"body":"","author_name":"Kyle Havlovitz","author_email":"kylehav@gmail.com"},{"hash":"cd96af4fc08bfb0b0548b65583fca9ec31831d0a","date":"2019-03-14 09:35:34 -0500","message":"acl: reduce complexity of token resolution process with alternative singleflighting (#5480)","refs":[],"body":"acl: reduce complexity of token resolution process with alternative singleflighting\r\n\r\nSwitches acl resolution to use golang.org/x/sync/singleflight. For the\r\nidentity/legacy lookups this is a drop-in replacement with the same\r\noverall approach to request coalescing.\r\n\r\nFor policies this is technically a change in behavior, but when\r\nconsidered holistically is approximately performance neutral (with the\r\nbenefit of less code).\r\n\r\nThere are two goals with this blob of code (speaking specifically of\r\npolicy resolution here):\r\n\r\n  1) Minimize cross-DC requests.\r\n  2) Minimize client-to-server LAN requests.\r\n\r\nThe previous iteration of this code was optimizing for the case of many\r\npossibly different tokens being resolved concurrently that have a\r\nsignificant overlap in linked policies such that deduplication would be\r\nworth the complexity. While this is laudable there are some things to\r\nconsider that can help to adjust expectations:\r\n\r\n  1) For v1.4+ policies are always replicated, and once a single policy\r\n  shows up in a secondary DC the replicated data is considered\r\n  authoritative for requests made in that DC. This means that our\r\n  earlier concerns about minimizing cross-DC requests are irrelevant\r\n  because there will be no cross-DC policy reads that occur.\r\n\r\n  2) For Server nodes the in-memory ACL policy cache is capped at zero,\r\n  meaning it has no caching. Only Client nodes run with a cache. This\r\n  means that instead of having an entire DC's worth of tokens (what a\r\n  Server might see) that can have policy resolutions coalesced these\r\n  nodes will only ever be seeing node-local token resolutions. In a\r\n  reasonable worst-case scenario where a scheduler like Kubernetes has\r\n  \"filled\" a node with Connect services, even that will only schedule\r\n  ~100 connect services per node. If every service has a unique token\r\n  there will only be 100 tokens to coalesce and even then those requests\r\n  have to occur concurrently AND be hitting an empty consul cache.\r\n\r\nInstead of seeing a great coalescing opportunity for cutting down on\r\nredundant Policy resolutions, in practice it's far more likely given\r\nnode densities that you'd see requests for the same token concurrently\r\nthan you would for two tokens sharing a policy concurrently (to a degree\r\nthat would warrant the overhead of the current variation of\r\nsingleflighting.\r\n\r\nGiven that, this patch switches the Policy resolution process to only\r\nsingleflight by requesting token (but keeps the cache as by-policy).","author_name":"R.B. Boyer","author_email":"public@richardboyer.net"},{"hash":"21f149de8bb8e4c8c7889bf5bd90a899e6922a05","date":"2019-03-14 16:02:49 +0100","message":"Fix checks removal when removing service (#5457)","refs":[],"body":"Fix my recently discovered issue described here: #5456 ","author_name":"Valentin Fritz","author_email":"contact@vfrz.fr"},{"hash":"33d0922db3f7168bccde0446a4690a8406caf84d","date":"2019-03-14 11:10:32 -0400","message":"Update CHANGELOG.md","refs":["origin/f-acl-ux"],"body":"","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"585978ab94c479d5a46425af2a760bc03d572948","date":"2019-03-15 10:35:33 -0400","message":"Docs Proofing (#5424)","refs":[],"body":"* Docs: Remove default_policy From Code Example\r\n\r\nIt is not needed according to:\r\nhttps://www.consul.io/docs/agent/acl-system.html#configuring-acls\r\n\r\n* Docs: Cleanup Commands And Their Output On ACL Guide Page\r\n\r\nRemove extra spaces and newlines\r\nEnsure rules match input rules\r\n\r\n* Docs: Remove Incomplete \"Added In Version\" Statement\r\n\r\nVersion added is specified on parent option\r\n\r\n* Docs: Fix Broken Links\r\n\r\n* Docs: Minor Sentence Tweaks\r\n","author_name":"Alex Mayer","author_email":"amayer5125@gmail.com"},{"hash":"88d438341051dd8e6d3025c6092670afd9a3530a","date":"2019-03-15 21:14:46 +0100","message":"Ensure we remove Connect proxy before deregistering the service itself (#5482)","refs":[],"body":"This will fix https://github.com/hashicorp/consul/issues/5351","author_name":"Pierre Souchay","author_email":"pierresouchay@users.noreply.github.com"},{"hash":"6458fdd87693e6975ed0b8934eed07a9309e2452","date":"2019-03-15 20:16:13 +0000","message":"Update CHANGELOG.md","refs":[],"body":"","author_name":"Paul Banks","author_email":"banks@banksco.de"},{"hash":"0b5a078b957ccb5249a9ec7de3d447a46c8a7b7a","date":"2019-03-15 20:18:48 +0000","message":"Optimize health watching to single chan/goroutine. (#5449)","refs":[],"body":"Refs #4984.\r\n\r\nWatching chans for every node we touch in a health query is wasteful. In #4984 it shows that if there are more than 682 service instances we always fallback to watching all services which kills performance.\r\n\r\nWe already have a record in MemDB that is reliably update whenever the service health result should change thanks to per-service watch indexes.\r\n\r\nSo in general, provided there is at least one service instances and we actually have a service index for it (we always do now) we only ever need to watch a single channel.\r\n\r\nThis saves us from ever falling back to the general index and causing the performance cliff in #4984, but it also means fewer goroutines and work done for every blocking health query.\r\n\r\nIt also saves some allocations made during the query because we no longer have to populate a WatchSet with 3 chans per service instance which saves the internal map allocation.\r\n\r\nThis passes all state store tests except the one that explicitly checked for the fallback behaviour we've now optimized away and in general seems safe.","author_name":"Paul Banks","author_email":"banks@banksco.de"},{"hash":"6ef970a191d37ba7a1dd168d64862262cc5cdf77","date":"2019-03-15 20:20:39 +0000","message":"Update CHANGELOG.md","refs":[],"body":"","author_name":"Paul Banks","author_email":"banks@banksco.de"},{"hash":"e7134a0dab5d29f96121aa8ed096ab3fe4f35913","date":"2019-03-18 17:06:16 +0100","message":"agent: only use TestAgent when appropriate (#5502)","refs":[],"body":"","author_name":"Hans Hasselberg","author_email":"me@hans.io"},{"hash":"34c70d2475148da54208148b21c028ebad44ff95","date":"2019-03-18 11:24:49 -0600","message":"Add log_file attribute to agent configuration documentation (#5492)","refs":[],"body":"","author_name":"Steve Burns","author_email":"3621985+loslocostacos@users.noreply.github.com"},{"hash":"c5bd1a79da1ca1c4a542308b17057968336b55b1","date":"2019-03-18 14:21:40 -0400","message":"[docs] Added section on using Helm chart to deploy Enterprise binaries (#5454)","refs":[],"body":"* Added section on using Helm chart to deploy Enterprise binaries\r\n\r\n* Update website/source/docs/platform/k8s/helm.html.md\r\n\r\nSwitch to active voice.\r\n\r\nCo-Authored-By: tradel <todd@radel.us>\r\n\r\n* Update website/source/docs/platform/k8s/helm.html.md\r\n\r\nCo-Authored-By: tradel <todd@radel.us>\r\n\r\n* Update website/source/docs/platform/k8s/helm.html.md\r\n\r\n* Update website/source/docs/platform/k8s/helm.html.md\r\n\r\nCo-Authored-By: tradel <todd@radel.us>\r\n","author_name":"Todd Radel","author_email":"todd@radel.us"},{"hash":"69ac5d0b0426a7b763932cc278487239d70a4164","date":"2019-03-18 18:48:56 +0000","message":"[Docs] Connect Sidecar Proxies: Fixes 'must may' typo and adds formatting to follow other docs (#5397)","refs":[],"body":"* Fixes 'must may' typo and adds formatting to follow other docs\r\n\r\n* Reverts local_service_port docs to state its optional\r\n","author_name":"John Cowen","author_email":"johncowen@users.noreply.github.com"},{"hash":"49511f979efb451f388012437373bbc7f980639b","date":"2019-03-18 14:52:17 -0500","message":"Updating the intro.","refs":[],"body":"","author_name":"kaitlincarter-hc","author_email":"kait@hashicorp.com"},{"hash":"aa4e26d10251c337a181294f3e036fa8336c1295","date":"2019-03-18 16:15:36 -0700","message":"Condense some test logic and add a comment about renaming","refs":["origin/change-node-id"],"body":"","author_name":"Kyle Havlovitz","author_email":"kylehav@gmail.com"},{"hash":"e37c402c9ee45ebbee4ab21795314ad9607f3e24","date":"2019-03-19 15:40:12 +0100","message":"[Docs] Added a note to GCE auto-join credentials option (#5391)","refs":[],"body":"* Added a note to GCE auto-join credentials option\r\n\r\nSimply added a note to remind users that putting a json file in the config-dir will make consul parse it as a config file.\r\nHope to help someone else avoid wasting a day because of these errors:\r\n==> Error parsing /etc/consul.d/credentials.json: 10 error(s) occurred: * invalid config key private_key\r\n\r\n* Updated according to style guidelines\r\n\r\nCo-Authored-By: delamart <erik@delamarter.ch>\r\n","author_name":"Erik DeLamarter","author_email":"erik@delamarter.ch"},{"hash":"b2a70cb80e8c81e11667572c9cdc50ecc37278e1","date":"2019-03-19 17:09:15 +0100","message":"Update CHANGELOG.md","refs":[],"body":"","author_name":"Hans Hasselberg","author_email":"me@hans.io"},{"hash":"9d07add047075d9060d80b79bec9e9053247c672","date":"2019-03-19 10:06:46 -0700","message":"Add config types and state store table","refs":[],"body":"","author_name":"Kyle Havlovitz","author_email":"kylehav@gmail.com"},{"hash":"8f9b93448f390c2571aaae9aa501b62e6f502255","date":"2019-03-19 14:31:11 -0700","message":"Adding an example of extraVolumes with the Helm chart","refs":[],"body":"","author_name":"tryan225","author_email":"tryan225@icloud.com"},{"hash":"02b2cb1d151946d79fabb50daefdfa57ae6638f0","date":"2019-03-19 16:35:19 -0500","message":"agent: ensure the TLS hostname verification knows about the currently configured domain (#5513)","refs":[],"body":"","author_name":"R.B. Boyer","author_email":"public@richardboyer.net"},{"hash":"17aa6a5a342176dde47ae47423eb1f43e879795d","date":"2019-03-19 15:56:17 -0700","message":"Fill out state store/FSM functions and add tests","refs":[],"body":"","author_name":"Kyle Havlovitz","author_email":"kylehav@gmail.com"},{"hash":"29b79d652a039e816533bcca577524cd5dd3b574","date":"2019-03-20 10:53:32 +0000","message":"Update CHANGELOG.md","refs":[],"body":"","author_name":"Hans Hasselberg","author_email":"hans@hashicorp.com"},{"hash":"32c2c90b12b5f2690264556c6e393325bbf6d884","date":"2019-03-20 13:15:35 +0000","message":"Update CHANGELOG.md","refs":[],"body":"","author_name":"Hans Hasselberg","author_email":"hans@hashicorp.com"},{"hash":"ea5210a30e154f4da9a4c8e729b45b8ce7b9b92c","date":"2019-03-20 16:00:54 +0000","message":"Release v1.4.4","refs":["tag: v1.4.4"],"body":"","author_name":"Hans Hasselberg","author_email":"hans@hashicorp.com","tag":"v1.4.4"},{"hash":"5675026e23e454873e5583d859d4b0fe5442a4d6","date":"2019-03-20 15:19:17 -0400","message":"add optional parallel flag to gox","refs":[],"body":"","author_name":"Alvin Huang","author_email":"alvin@hashicorp.com"},{"hash":"d92577c16b2e0d5df3d18779508dbde87c38e35a","date":"2019-03-20 16:13:13 -0700","message":"Fix fsm serialization and add snapshot/restore","refs":["origin/service-config"],"body":"","author_name":"Kyle Havlovitz","author_email":"kylehav@gmail.com"},{"hash":"3f230aeb485a5cf05dffaa686639b3b2bc8a1386","date":"2019-03-20 19:20:05 -0500","message":"New k8s reference arch guide.","refs":[],"body":"","author_name":"kaitlincarter","author_email":"kait@hashicorp.com"},{"hash":"fb521c60940f41ff948fb77835f7504e5af6720c","date":"2019-03-20 10:08:30 -0700","message":"Add dns configuration info for CoreDNS users","refs":[],"body":"","author_name":"Rebecca Zanzig","author_email":"rzazzl@hotmail.com"},{"hash":"53a38b75e7165e7102e26d50e01ab4a8c353f7ca","date":"2019-03-20 23:47:41 -0700","message":"Merge pull request #5523 from hashicorp/docs/coredns","refs":[],"body":"Add dns configuration info for CoreDNS users","author_name":"Rebecca Zanzig","author_email":"rebecca@hashicorp.com"},{"hash":"197031bb682b6b505ec312c29ff2dcaa55a233f5","date":"2019-03-21 09:35:49 -0500","message":"Updating network segments guide (#5529)","refs":[],"body":"","author_name":"kaitlincarter-hc","author_email":"43049322+kaitlincarter-hc@users.noreply.github.com"},{"hash":"0f52a3ec800fc7a9dd0314debefec611f868f098","date":"2019-03-21 09:50:25 -0500","message":"Update website/source/docs/guides/kubernetes-reference.html.md","refs":[],"body":"Co-Authored-By: kaitlincarter-hc <43049322+kaitlincarter-hc@users.noreply.github.com>","author_name":"Judith Malnick","author_email":"judith@hashicorp.com"},{"hash":"96857df8d8cf0f408e1b066aaa345cffbf9876e4","date":"2019-03-21 09:51:37 -0500","message":"Update website/source/docs/guides/kubernetes-reference.html.md","refs":[],"body":"Co-Authored-By: kaitlincarter-hc <43049322+kaitlincarter-hc@users.noreply.github.com>","author_name":"Judith Malnick","author_email":"judith@hashicorp.com"},{"hash":"0df516aa527a5e122f427b9eb90ef3613f2a7ffa","date":"2019-03-21 15:13:03 +0000","message":"Merge branch 'master' of github.com:hashicorp/consul","refs":[],"body":"","author_name":"Hans Hasselberg","author_email":"hans@hashicorp.com"},{"hash":"5ff0c19709e6a23b74eeb32025fd7b780c056a80","date":"2019-03-21 16:34:48 +0100","message":"Putting source back into Dev Mode","refs":[],"body":"","author_name":"Hans Hasselberg","author_email":"me@hans.io"},{"hash":"77bd53269df042e6be891d8212c020599a55e72e","date":"2019-03-21 12:00:39 -0400","message":"[docs] New doc on integration with Ambassador Proxy (#5497)","refs":[],"body":"* New doc on integration with Ambassador Proxy\r\n\r\n* Remove reference to \"step 1\"\r\n\r\n* Added link to docs for `consul intention check`\r\n\r\n* Update website/source/docs/platform/k8s/ambassador.html.md\r\n\r\nCo-Authored-By: tradel <todd@radel.us>\r\n\r\n* Update website/source/docs/platform/k8s/ambassador.html.md\r\n\r\nCo-Authored-By: tradel <todd@radel.us>\r\n\r\n* Update website/source/docs/platform/k8s/ambassador.html.md\r\n\r\nCo-Authored-By: tradel <todd@radel.us>\r\n\r\n* Added links to install guide and Connect guide\r\n","author_name":"Todd Radel","author_email":"todd@radel.us"},{"hash":"d2e68a900ad572f663e4423b2ac4d7172a4ae422","date":"2019-03-21 16:01:56 +0000","message":"Connect: Make Connect health queries unblock correctly (#5508)","refs":[],"body":"* Make Connect health queryies unblock correctly in all cases and use optimal number of watch chans. Fixes #5506.\r\n\r\n* Node check test cases and clearer bug test doc\r\n\r\n* Comment update\r\n","author_name":"Paul Banks","author_email":"banks@banksco.de"},{"hash":"462a73fa28de1d68ec1abb7f1064659113088288","date":"2019-03-21 12:51:04 -0500","message":"docs: update 'sc' usage in windows-guide.html.md (#5501)","refs":[],"body":"- the space after `=` is significant in sc parameters (binPath= \"<path> <args>, start= auto)\r\n- given the text \"the service automatically starts up during/after boot\", added `start= auto` to\r\n  the example,  otherwise the service will be set to Manual start mode.","author_name":"Jud White","author_email":"github@judsonwhite.com"},{"hash":"f8bcfcfa466c6cf11c92d6fa77e894f1f6935a82","date":"2019-03-21 15:04:40 -0500","message":"api: fix panic in 'consul acl set-agent-token' (#5533)","refs":[],"body":"api: fix panic in 'consul acl set-agent-token'\r\n\r\nFixes #5531\r\n","author_name":"R.B. Boyer","author_email":"public@richardboyer.net"},{"hash":"e199c37ee4a2b44afe539c58542a25459eb30fdf","date":"2019-03-22 09:25:37 -0700","message":"Add some basic normalize/validation logic for config entries","refs":[],"body":"","author_name":"Kyle Havlovitz","author_email":"kylehav@gmail.com"},{"hash":"6a78e2ae55819046b29722bbbfb9e2b4a23c55b0","date":"2019-03-22 09:40:38 -0700","message":"[docs] improve telegraf guide with objectives, summary, formatting (#5527)","refs":[],"body":"","author_name":"Judith Malnick","author_email":"judith@hashicorp.com"},{"hash":"ee9346f4c30f6647fda68ea6b0545aca07939335","date":"2019-03-20 15:24:17 -0400","message":"adding distro builds to circleci","refs":[],"body":"","author_name":"Alvin Huang","author_email":"alvin@hashicorp.com"},{"hash":"89fa5ec3ba3ce253896b51cb5067ccf6d7e8391e","date":"2019-03-22 19:37:14 +0000","message":"Connect: Fix Envoy getting stuck during load (#5499)","refs":[],"body":"* Connect: Fix Envoy getting stuck during load\r\n\r\nAlso in this PR:\r\n - Enabled outlier detection on upstreams which will mark instances unhealthy after 5 failures (using Envoy's defaults)\r\n - Enable weighted load balancing where DNS weights are configured\r\n\r\n* Fix empty load assignments in the right place\r\n\r\n* Fix import names from review\r\n\r\n* Move millisecond parse to a helper function\r\n","author_name":"Paul Banks","author_email":"banks@banksco.de"},{"hash":"fdee4bc417838eb606679070fe9789c7a16a7bd8","date":"2019-03-22 17:49:28 -0400","message":"Merge pull request #5525 from hashicorp/add-xc-builds","refs":[],"body":"Add xc builds","author_name":"Alvin Huang","author_email":"huang.s.alvin@gmail.com"},{"hash":"dc3c13183679e1369ad9491f24f612e6270ff5a2","date":"2019-03-22 19:20:48 -0400","message":"fix broken link","refs":[],"body":"","author_name":"Alvin Huang","author_email":"alvin@hashicorp.com"},{"hash":"39139f30909a9efe74d75cdb31c22636e02fac0b","date":"2019-03-22 19:24:36 -0400","message":"Merge pull request #5544 from hashicorp/fix-broken-link","refs":[],"body":"fix broken link","author_name":"Alvin Huang","author_email":"huang.s.alvin@gmail.com"},{"hash":"3e79219c490bc9583497fbab29103d6d6e7dc80a","date":"2019-03-25 09:22:27 -0500","message":"Fixing smart quotes (#5522)","refs":[],"body":"","author_name":"kaitlincarter-hc","author_email":"43049322+kaitlincarter-hc@users.noreply.github.com"},{"hash":"24633c8334f0cd986942ce2055a50bde114f22cf","date":"2019-03-25 09:24:28 -0500","message":"Updated for migration. (#5512)","refs":[],"body":"","author_name":"kaitlincarter-hc","author_email":"43049322+kaitlincarter-hc@users.noreply.github.com"},{"hash":"8fadc2d31412144d02278c9d71d9feac59f5308f","date":"2019-03-25 09:27:52 -0500","message":"Update website/source/docs/guides/connect-envoy.md","refs":[],"body":"Co-Authored-By: kaitlincarter-hc <43049322+kaitlincarter-hc@users.noreply.github.com>","author_name":"Judith Malnick","author_email":"judith@hashicorp.com"},{"hash":"3454491c606aa13ac5e34e77125e81a612e04de8","date":"2019-03-25 09:28:03 -0500","message":"Update website/source/docs/guides/connect-envoy.md","refs":["origin/docs/connect-envoy"],"body":"Co-Authored-By: kaitlincarter-hc <43049322+kaitlincarter-hc@users.noreply.github.com>","author_name":"Judith Malnick","author_email":"judith@hashicorp.com"},{"hash":"89cd3a3a3eba1c49dd0d892bc8173c644899cee9","date":"2019-03-25 12:12:07 -0500","message":"[Docs] Launching K8s getting started path on Learn (#5511)","refs":[],"body":"* Moving Minikube guide.\r\n\r\n* Update website/source/layouts/docs.erb\r\n\r\nCo-Authored-By: kaitlincarter-hc <43049322+kaitlincarter-hc@users.noreply.github.com>\r\n\r\n* Update website/source/docs/guides/index.html.md\r\n\r\nCo-Authored-By: kaitlincarter-hc <43049322+kaitlincarter-hc@users.noreply.github.com>\r\n","author_name":"kaitlincarter-hc","author_email":"43049322+kaitlincarter-hc@users.noreply.github.com"},{"hash":"6e550d6dc73a9a9d1c1f5649c3cffea6c9d564f0","date":"2019-03-25 15:22:51 -0400","message":"add redirects for ACL docs","refs":[],"body":"","author_name":"Alvin Huang","author_email":"alvin@hashicorp.com"},{"hash":"114b42b448704d8d7391769a99fb62d411307f4a","date":"2019-03-25 16:20:40 -0500","message":"[docs] ACL Side Navigation Added (#5526)","refs":[],"body":"* Adding new ACL menu item with guides and documentation.\r\n\r\n* removing sidebar stuff from under agent, some documenting\r\n","author_name":"kaitlincarter-hc","author_email":"43049322+kaitlincarter-hc@users.noreply.github.com"},{"hash":"e0a4d872af7fecdde9a85d72bb8884d98017d634","date":"2019-03-25 18:46:10 -0400","message":"missed a broken link (#5545)","refs":[],"body":"","author_name":"Alvin Huang","author_email":"huang.s.alvin@gmail.com"},{"hash":"74c31c540f9ca88ccaf2c8fba861a17e3338b613","date":"2019-03-25 18:46:27 -0400","message":"add redirects for ACL docs (#5550)","refs":[],"body":"","author_name":"Alvin Huang","author_email":"huang.s.alvin@gmail.com"},{"hash":"3f5e20452e01a5374e897701337f5c862183837f","date":"2019-03-25 16:58:41 -0700","message":"http: use the correct check duration fields when converting txn ops","refs":[],"body":"","author_name":"Kyle Havlovitz","author_email":"kylehav@gmail.com"},{"hash":"716a20d8a68b01a4842b323a2ac72948f08cc3f6","date":"2019-03-26 10:44:02 -0700","message":"Re-add logic to handle the undocumented duration fields","refs":[],"body":"","author_name":"Kyle Havlovitz","author_email":"kylehav@gmail.com"},{"hash":"c7166ba58be48d836aae0d38152f2cab7b8edff7","date":"2019-03-26 13:44:20 -0500","message":"[docs] Semaphore (#5524)","refs":[],"body":"* Updating and adding headings.\r\n\r\n* Update website/source/docs/guides/semaphore.html.md\r\n\r\nCo-Authored-By: kaitlincarter-hc <43049322+kaitlincarter-hc@users.noreply.github.com>\r\n\r\n* Update website/source/docs/guides/semaphore.html.md\r\n\r\nCo-Authored-By: kaitlincarter-hc <43049322+kaitlincarter-hc@users.noreply.github.com>\r\n","author_name":"kaitlincarter-hc","author_email":"43049322+kaitlincarter-hc@users.noreply.github.com"},{"hash":"f66f46cb1e480c4e230062383f3cd36e28bec42a","date":"2019-03-26 14:24:12 -0500","message":"[docs] Advanced Federation (#5538)","refs":[],"body":"* renaming guide and changing format.\r\n\r\n* Adding headers, updating output.\r\n\r\n* Update website/source/docs/guides/advanced-federation.html.md\r\n\r\nCo-Authored-By: kaitlincarter-hc <43049322+kaitlincarter-hc@users.noreply.github.com>\r\n\r\n* Update website/source/docs/guides/advanced-federation.html.md\r\n\r\nCo-Authored-By: kaitlincarter-hc <43049322+kaitlincarter-hc@users.noreply.github.com>\r\n\r\n* Update website/source/docs/guides/advanced-federation.html.md\r\n\r\nCo-Authored-By: kaitlincarter-hc <43049322+kaitlincarter-hc@users.noreply.github.com>\r\n\r\n* Update website/source/docs/guides/advanced-federation.html.md\r\n\r\nCo-Authored-By: kaitlincarter-hc <43049322+kaitlincarter-hc@users.noreply.github.com>\r\n\r\n* Update website/source/docs/guides/advanced-federation.html.md\r\n\r\nCo-Authored-By: kaitlincarter-hc <43049322+kaitlincarter-hc@users.noreply.github.com>\r\n\r\n* Update website/source/docs/guides/advanced-federation.html.md\r\n\r\n* Update website/source/docs/guides/advanced-federation.html.md\r\n","author_name":"kaitlincarter-hc","author_email":"43049322+kaitlincarter-hc@users.noreply.github.com"},{"hash":"47c390025b77450cde9ad4cbc47d63b55caeda79","date":"2019-03-26 17:04:58 -0400","message":"Convert to Go Modules (#5517)","refs":[],"body":"* First conversion\r\n\r\n* Use serf 0.8.2 tag and associated updated deps\r\n\r\n* * Move freeport and testutil into internal/\r\n\r\n* Make internal/ its own module\r\n\r\n* Update imports\r\n\r\n* Add replace statements so API and normal Consul code are\r\nself-referencing for ease of development\r\n\r\n* Adapt to newer goe/values\r\n\r\n* Bump to new cleanhttp\r\n\r\n* Fix ban nonprintable chars test\r\n\r\n* Update lock bad args test\r\n\r\nThe error message when the duration cannot be parsed changed in Go 1.12\r\n(ae0c435877d3aacb9af5e706c40f9dddde5d3e67). This updates that test.\r\n\r\n* Update another test as well\r\n\r\n* Bump travis\r\n\r\n* Bump circleci\r\n\r\n* Bump go-discover and godo to get rid of launchpad dep\r\n\r\n* Bump dockerfile go version\r\n\r\n* fix tar command\r\n\r\n* Bump go-cleanhttp\r\n","author_name":"Jeff Mitchell","author_email":"jeffrey.mitchell@gmail.com"},{"hash":"bb9af0dc37cbf75c2012ee024beeede4d7d1e5c7","date":"2019-03-26 17:14:53 -0400","message":"Bump cleanhttp to be the same version as the other modules (#5563)","refs":["tag: internal/v0.1.0"],"body":"","author_name":"Jeff Mitchell","author_email":"jeffrey.mitchell@gmail.com","tag":"internal/v0.1.0"},{"hash":"6327d3fd6f1d50d008c2ed46cbfa6916047e7c08","date":"2019-03-26 17:30:23 -0400","message":"Update internal dep (#5564)","refs":["tag: api/v1.0.0"],"body":"","author_name":"Jeff Mitchell","author_email":"jeffrey.mitchell@gmail.com","tag":"api/v1.0.0"},{"hash":"3d95636dd7ff354490523d6d5cae218e15a77393","date":"2019-03-26 17:40:53 -0400","message":"Update api/internal tags (#5565)","refs":[],"body":"","author_name":"Jeff Mitchell","author_email":"jeffrey.mitchell@gmail.com"},{"hash":"28c84845bf082f07724217cd198d5f119009417f","date":"2019-03-26 17:50:42 -0400","message":"Update vendoring from go mod. (#5566)","refs":[],"body":"","author_name":"Jeff Mitchell","author_email":"jeffrey.mitchell@gmail.com"},{"hash":"16eb3cf687b88779d2558416ebece730bb2db607","date":"2019-03-26 15:04:26 -0700","message":"[docs] Connect with Envoy Guide (#5505)","refs":[],"body":"* Updating the intro.\r\n\r\n* Update website/source/docs/guides/connect-envoy.md\r\n\r\nCo-Authored-By: kaitlincarter-hc <43049322+kaitlincarter-hc@users.noreply.github.com>\r\n\r\n* Update website/source/docs/guides/connect-envoy.md\r\n\r\nCo-Authored-By: kaitlincarter-hc <43049322+kaitlincarter-hc@users.noreply.github.com>\r\n","author_name":"Judith Malnick","author_email":"judith@hashicorp.com"},{"hash":"4243c3ae42cf46697fab572084b3ba702217447b","date":"2019-03-27 08:54:56 -0400","message":"Move internal/ to sdk/ (#5568)","refs":["tag: sdk/v0.1.0"],"body":"* Move internal/ to sdk/\r\n\r\n* Add a readme to the SDK folder\r\n","author_name":"Jeff Mitchell","author_email":"jeffrey.mitchell@gmail.com","tag":"sdk/v0.1.0"},{"hash":"f1fe406aa8789bbc8fc40d79e90717a93eb45f17","date":"2019-03-27 08:58:50 -0400","message":"Update SDK version (#5572)","refs":["tag: api/v1.0.1"],"body":"","author_name":"Jeff Mitchell","author_email":"jeffrey.mitchell@gmail.com","tag":"api/v1.0.1"},{"hash":"6754664bd7bc226c5bb6f1f2304e1324d08528bc","date":"2019-03-27 09:01:06 -0400","message":"Update api ver to 1.0.1 (#5573)","refs":[],"body":"","author_name":"Jeff Mitchell","author_email":"jeffrey.mitchell@gmail.com"},{"hash":"db7817c42a8d8e5439dcff2700e709d935db560a","date":"2019-03-27 09:03:07 -0400","message":"Bump vendor to take in new sdk/api versions (#5574)","refs":[],"body":"","author_name":"Jeff Mitchell","author_email":"jeffrey.mitchell@gmail.com"},{"hash":"0d1b496a5255e7387d8e9358033c85be66305a3d","date":"2019-03-27 15:24:44 -0500","message":"acl: memdb filter of tokens-by-policy was inverted (#5575)","refs":[],"body":"The inversion wasn't noticed because the parallel execution of TokenList\r\ntests was operating incorrectly due to variable shadowing.","author_name":"R.B. Boyer","author_email":"public@richardboyer.net"},{"hash":"f6df5c9b3b4c192c88b39417b34be254c040fc51","date":"2019-03-27 16:52:38 -0700","message":"Clean up service config state store methods","refs":[],"body":"","author_name":"Kyle Havlovitz","author_email":"kylehav@gmail.com"},{"hash":"d16be2e2692acfdfe7aa518334c3ae09f969eebe","date":"2019-03-27 23:56:35 -0700","message":"Encode config entry FSM messages in a generic type","refs":[],"body":"","author_name":"Kyle Havlovitz","author_email":"kylehav@gmail.com"},{"hash":"ac45b1748215eee71ed3c7d311757d0db62fa8ca","date":"2019-03-29 16:29:27 +0100","message":"fix remaining CI failures after Go 1.12.1 Upgrade (#5576)","refs":[],"body":"","author_name":"Hans Hasselberg","author_email":"me@hans.io"},{"hash":"27446a19e2dd7ae1d36490f4a5e48ddc154ce92a","date":"2019-04-01 09:55:48 -0500","message":"remove remaining references to govendor and vendorfmt (#5587)","refs":[],"body":"","author_name":"R.B. Boyer","author_email":"public@richardboyer.net"},{"hash":"d8c19a9701e466b6995f3dbe150253b4d6a8736a","date":"2019-04-01 11:41:33 -0500","message":"allow 'make dev-docker' to cache resolved modules (#5588)","refs":[],"body":"","author_name":"R.B. Boyer","author_email":"public@richardboyer.net"},{"hash":"e035db0e8dda110a0e5b03ef860d695d721db804","date":"2019-04-01 09:53:02 -0700","message":"Merge pull request #5515 from tryan225/docs/helm-extra-volumes-example","refs":[],"body":"[docs] Adding an example of extraVolumes with the Helm chart","author_name":"Rebecca Zanzig","author_email":"rebecca@hashicorp.com"},{"hash":"ac722f0fe1b561371ccadfd51b71af68a162f956","date":"2019-04-01 12:31:23 -0700","message":"Revert \"[docs] Connect with Envoy Guide\" (#5589)","refs":[],"body":"","author_name":"Judith Malnick","author_email":"judith@hashicorp.com"},{"hash":"ee6a8e54f2797c9792ac536c1d3d91a5de3258aa","date":"2019-04-01 16:01:00 -0400","message":"Fix broken links (#5552)","refs":[],"body":"* fix network segments broken urls\r\n\r\n* fix iptables broken link\r\n\r\n* fix acl broken link\r\n\r\n* fix acl-rules broken link\r\n\r\n* fix acl migrate broken link\r\n\r\n* fix clone token link\r\n","author_name":"Alvin Huang","author_email":"huang.s.alvin@gmail.com"},{"hash":"1f67b0aee95e460f47b52ce6601171ac004e1670","date":"2019-04-01 13:34:48 -0700","message":"[docs] reimplement changes from PR #5505 (#5591)","refs":[],"body":"","author_name":"Judith Malnick","author_email":"judith@hashicorp.com"},{"hash":"c2da314eeb7ba30cc7f5fafb28c8c869d4eae8a1","date":"2019-04-02 10:59:36 -0700","message":"Merge pull request #5553 from hashicorp/txn-check-serialization","refs":[],"body":"Use the correct check duration fields when converting transaction ops","author_name":"Kyle Havlovitz","author_email":"kylehav@gmail.com"},{"hash":"a2fa9a0019020e29d34feeed7e3aac0df49a1215","date":"2019-04-02 15:42:12 -0700","message":"Cleaned up some error handling/comments around config entries","refs":[],"body":"","author_name":"Kyle Havlovitz","author_email":"kylehav@gmail.com"},{"hash":"5f569fb2acfd238d974664f1c050608ab0b18fed","date":"2019-04-02 16:34:58 -0700","message":"Merge pull request #5539 from hashicorp/service-config","refs":[],"body":"Service config state model","author_name":"Kyle Havlovitz","author_email":"kylehav@gmail.com"},{"hash":"c1ba15d3afcc6cebfe0bd5f092b0ce970a6acd6e","date":"2019-04-03 11:36:59 -0400","message":"EA has validated that this content works with Consul 1.4 (#5542)","refs":[],"body":"","author_name":"Nathan Valentine","author_email":"nrvale0@users.noreply.github.com"},{"hash":"4d57b4adf841a2b5dd29c67f0f4bf768534a9127","date":"2019-04-03 11:37:09 -0400","message":"EA has validated this content as working with Consul 1.4 (#5541)","refs":[],"body":"","author_name":"Nathan Valentine","author_email":"nrvale0@users.noreply.github.com"},{"hash":"2d870b92973af4e965fca866d04e6ecbed1d726b","date":"2019-04-03 10:45:54 -0500","message":"[docs] Basic Federation (#5537)","refs":[],"body":"* Adding headers and example output.\r\n\r\n* Update website/source/docs/guides/datacenters.html.md\r\n\r\nCo-Authored-By: kaitlincarter-hc <43049322+kaitlincarter-hc@users.noreply.github.com>\r\n\r\n* Update website/source/docs/guides/datacenters.html.md\r\n\r\nCo-Authored-By: kaitlincarter-hc <43049322+kaitlincarter-hc@users.noreply.github.com>\r\n\r\n* Update website/source/docs/guides/datacenters.html.md\r\n\r\nCo-Authored-By: kaitlincarter-hc <43049322+kaitlincarter-hc@users.noreply.github.com>\r\n\r\n* Update website/source/docs/guides/datacenters.html.md\r\n\r\nCo-Authored-By: kaitlincarter-hc <43049322+kaitlincarter-hc@users.noreply.github.com>\r\n\r\n* Update website/source/docs/guides/datacenters.html.md\r\n\r\n* Update website/source/docs/guides/datacenters.html.md\r\n","author_name":"kaitlincarter-hc","author_email":"43049322+kaitlincarter-hc@users.noreply.github.com"},{"hash":"348fd0f9bae390ea1663b2c11ff3576368d6c2d3","date":"2019-04-03 10:54:20 -0500","message":"Update website/source/docs/guides/kubernetes-reference.html.md","refs":[],"body":"Co-Authored-By: kaitlincarter-hc <43049322+kaitlincarter-hc@users.noreply.github.com>","author_name":"Paul Banks","author_email":"banks@banksco.de"},{"hash":"e7c295e552180db4bbed4327a1527c061e499f93","date":"2019-04-03 08:54:21 -0700","message":"Minor Session / Lock Related Documentation Fixes (#5037)","refs":[],"body":"* website: specify value of acquire/release params for kv\r\n\r\n* website: clarify leader election usage in TTL docs\r\n\r\n* website: document minimal value of lockdelay\r\n\r\nI believe it uses the default when parsing 0 as it\r\nviews that as an empty parameter in this case.\r\n","author_name":"Jack Pearkes","author_email":"jackpearkes@gmail.com"},{"hash":"b05a52f66f90ad1c197d6fbcbfd11212b66535c9","date":"2019-04-03 10:55:00 -0500","message":"Update website/source/docs/guides/kubernetes-reference.html.md","refs":[],"body":"Co-Authored-By: kaitlincarter-hc <43049322+kaitlincarter-hc@users.noreply.github.com>","author_name":"Paul Banks","author_email":"banks@banksco.de"},{"hash":"ee03aedab8465593db2906c1034d59f8056f3c1c","date":"2019-04-03 10:56:25 -0500","message":"Update website/source/docs/guides/kubernetes-reference.html.md","refs":[],"body":"","author_name":"kaitlincarter-hc","author_email":"43049322+kaitlincarter-hc@users.noreply.github.com"},{"hash":"3cb70ca541de02f54f5228d01f8d7920a20e8bce","date":"2019-04-03 10:56:51 -0500","message":"Update website/source/docs/guides/kubernetes-reference.html.md","refs":[],"body":"","author_name":"kaitlincarter-hc","author_email":"43049322+kaitlincarter-hc@users.noreply.github.com"},{"hash":"ecc88507511908ea1289d5e218892d00f4bea41d","date":"2019-04-03 10:58:55 -0500","message":"Update website/source/docs/guides/kubernetes-reference.html.md","refs":[],"body":"","author_name":"kaitlincarter-hc","author_email":"43049322+kaitlincarter-hc@users.noreply.github.com"},{"hash":"4d5ca8bf39528f8cbdde1aaa91b2805e220f6113","date":"2019-04-03 10:59:12 -0500","message":"Update website/source/docs/guides/kubernetes-reference.html.md","refs":[],"body":"Co-Authored-By: kaitlincarter-hc <43049322+kaitlincarter-hc@users.noreply.github.com>","author_name":"Paul Banks","author_email":"banks@banksco.de"},{"hash":"c3b8693c17270395428f263900d4bece4c2f60a3","date":"2019-04-03 13:27:42 -0500","message":"Update website/source/docs/guides/kubernetes-reference.html.md","refs":[],"body":"Co-Authored-By: kaitlincarter-hc <43049322+kaitlincarter-hc@users.noreply.github.com>","author_name":"Rebecca Zanzig","author_email":"rebecca@hashicorp.com"},{"hash":"9ac4933f3e264823ed83c00e2ab8c4af261e2b7b","date":"2019-04-03 13:30:46 -0500","message":"Update website/source/docs/guides/kubernetes-reference.html.md","refs":[],"body":"Co-Authored-By: kaitlincarter-hc <43049322+kaitlincarter-hc@users.noreply.github.com>","author_name":"Rebecca Zanzig","author_email":"rebecca@hashicorp.com"},{"hash":"90b7d51006bfe6a74215e25850bb31d3bb3722fd","date":"2019-04-03 13:31:51 -0500","message":"Update website/source/docs/guides/kubernetes-reference.html.md","refs":[],"body":"","author_name":"kaitlincarter-hc","author_email":"43049322+kaitlincarter-hc@users.noreply.github.com"},{"hash":"98e9bda52add308a7549a22e7d95f58591780576","date":"2019-04-03 13:33:01 -0500","message":"Update website/source/docs/guides/kubernetes-reference.html.md","refs":[],"body":"Co-Authored-By: kaitlincarter-hc <43049322+kaitlincarter-hc@users.noreply.github.com>","author_name":"Paul Banks","author_email":"banks@banksco.de"},{"hash":"a7b7c4d11f0a91e1307071dd5bc03cdfe2148be8","date":"2019-04-03 13:36:24 -0500","message":"Update website/source/docs/guides/kubernetes-reference.html.md","refs":[],"body":"Co-Authored-By: kaitlincarter-hc <43049322+kaitlincarter-hc@users.noreply.github.com>","author_name":"Paul Banks","author_email":"banks@banksco.de"},{"hash":"fe8c04b51daf2ada14cd5a45162566d92d2478bd","date":"2019-04-03 13:41:09 -0500","message":"Update website/source/docs/guides/kubernetes-reference.html.md","refs":[],"body":"","author_name":"kaitlincarter-hc","author_email":"43049322+kaitlincarter-hc@users.noreply.github.com"},{"hash":"8ae34474474a4709a31270520a787b32f0b2029d","date":"2019-04-03 20:07:00 +0100","message":"Pull go-discover to fix Sirupsen/logrus (#5598)","refs":[],"body":"* Pull go-discover to fix Sirupsen/logrus\r\n\r\n* Actually rename Sirupsen -> sirupsen in vendor (despite macOS)\r\n\r\n* Actually _actually_ rename Sirupsen -> sirupsen in vendor (despite macOS)\r\n","author_name":"Paul Banks","author_email":"banks@banksco.de"},{"hash":"edd7d8948412bc6e3caedda1d6cc5a5061067cbe","date":"2019-04-03 14:39:36 -0500","message":"Update website/source/docs/guides/kubernetes-reference.html.md","refs":[],"body":"","author_name":"kaitlincarter-hc","author_email":"43049322+kaitlincarter-hc@users.noreply.github.com"},{"hash":"22202683e74233f2712912e91367959c4c01ad07","date":"2019-04-03 14:47:11 -0500","message":"Update website/source/docs/guides/kubernetes-reference.html.md","refs":[],"body":"","author_name":"kaitlincarter-hc","author_email":"43049322+kaitlincarter-hc@users.noreply.github.com"},{"hash":"f079c5ea5787ab897206e7ac34a3c2369cd80d03","date":"2019-04-03 14:48:19 -0500","message":"Update website/source/docs/guides/kubernetes-reference.html.md","refs":[],"body":"Co-Authored-By: kaitlincarter-hc <43049322+kaitlincarter-hc@users.noreply.github.com>","author_name":"Paul Banks","author_email":"banks@banksco.de"},{"hash":"23ec040205f351dd475fbf5e6d959eded6cf0dcd","date":"2019-04-03 15:08:11 -0500","message":"Update website/source/docs/guides/kubernetes-reference.html.md","refs":[],"body":"","author_name":"kaitlincarter-hc","author_email":"43049322+kaitlincarter-hc@users.noreply.github.com"},{"hash":"9d6e5076164e9c819af250db8fdfcf235e5ed4b6","date":"2019-04-03 17:20:58 -0400","message":"rename refs to areas guide to advanced-federation (#5603)","refs":[],"body":"","author_name":"Alvin Huang","author_email":"huang.s.alvin@gmail.com"},{"hash":"1b9802a14b7d08f70d50073b85c4d8cb96e0621b","date":"2019-04-03 16:36:02 -0500","message":"Updates based on feedback","refs":[],"body":"","author_name":"kaitlincarter","author_email":"kait@hashicorp.com"},{"hash":"b0bdfeaa69ddc02730f21f39d7a8c4bab283d31b","date":"2019-04-03 16:53:04 -0500","message":"updated the graphic","refs":["origin/docs/k8s-reference-arch"],"body":"","author_name":"kaitlincarter","author_email":"kait@hashicorp.com"},{"hash":"cb0b9665dffe358750cb3cf812bc810428b599df","date":"2019-04-03 17:29:21 -0500","message":"[docs] New k8s reference arch guide. (#5528)","refs":[],"body":"* New k8s reference arch guide.\r\n\r\n* Update website/source/docs/guides/kubernetes-reference.html.md\r\n\r\nCo-Authored-By: kaitlincarter-hc <43049322+kaitlincarter-hc@users.noreply.github.com>\r\n\r\n* Update website/source/docs/guides/kubernetes-reference.html.md\r\n\r\nCo-Authored-By: kaitlincarter-hc <43049322+kaitlincarter-hc@users.noreply.github.com>\r\n\r\n* Update website/source/docs/guides/kubernetes-reference.html.md\r\n\r\nCo-Authored-By: kaitlincarter-hc <43049322+kaitlincarter-hc@users.noreply.github.com>\r\n\r\n* Update website/source/docs/guides/kubernetes-reference.html.md\r\n\r\nCo-Authored-By: kaitlincarter-hc <43049322+kaitlincarter-hc@users.noreply.github.com>\r\n\r\n* Update website/source/docs/guides/kubernetes-reference.html.md\r\n\r\n* Update website/source/docs/guides/kubernetes-reference.html.md\r\n\r\n* Update website/source/docs/guides/kubernetes-reference.html.md\r\n\r\n* Update website/source/docs/guides/kubernetes-reference.html.md\r\n\r\nCo-Authored-By: kaitlincarter-hc <43049322+kaitlincarter-hc@users.noreply.github.com>\r\n\r\n* Update website/source/docs/guides/kubernetes-reference.html.md\r\n\r\nCo-Authored-By: kaitlincarter-hc <43049322+kaitlincarter-hc@users.noreply.github.com>\r\n\r\n* Update website/source/docs/guides/kubernetes-reference.html.md\r\n\r\nCo-Authored-By: kaitlincarter-hc <43049322+kaitlincarter-hc@users.noreply.github.com>\r\n\r\n* Update website/source/docs/guides/kubernetes-reference.html.md\r\n\r\n* Update website/source/docs/guides/kubernetes-reference.html.md\r\n\r\nCo-Authored-By: kaitlincarter-hc <43049322+kaitlincarter-hc@users.noreply.github.com>\r\n\r\n* Update website/source/docs/guides/kubernetes-reference.html.md\r\n\r\nCo-Authored-By: kaitlincarter-hc <43049322+kaitlincarter-hc@users.noreply.github.com>\r\n\r\n* Update website/source/docs/guides/kubernetes-reference.html.md\r\n\r\n* Update website/source/docs/guides/kubernetes-reference.html.md\r\n\r\n* Update website/source/docs/guides/kubernetes-reference.html.md\r\n\r\n* Update website/source/docs/guides/kubernetes-reference.html.md\r\n\r\nCo-Authored-By: kaitlincarter-hc <43049322+kaitlincarter-hc@users.noreply.github.com>\r\n\r\n* Update website/source/docs/guides/kubernetes-reference.html.md\r\n","author_name":"kaitlincarter-hc","author_email":"43049322+kaitlincarter-hc@users.noreply.github.com"},{"hash":"fe938e6e287d2975164983ecc1467fc16672aaf2","date":"2019-04-04 14:32:02 +0200","message":"tls: allow to add ip addresses as Subject Alternative Names when creating certificates (#5602)","refs":[],"body":"","author_name":"tristan-weil","author_email":"49060873+tristan-weil@users.noreply.github.com"},{"hash":"eca219b64cf8c8d3b30d2c2a7aa8ade0e326a792","date":"2019-04-04 09:52:35 -0500","message":"[docs] Connect in Production (#5503)","refs":[],"body":"* Updating guide to prepare for Learn migration.\r\n\r\n* Update website/source/docs/guides/connect-production.md\r\n\r\nCo-Authored-By: kaitlincarter-hc <43049322+kaitlincarter-hc@users.noreply.github.com>\r\n\r\n* Update website/source/docs/guides/connect-production.md\r\n\r\nCo-Authored-By: kaitlincarter-hc <43049322+kaitlincarter-hc@users.noreply.github.com>\r\n\r\n* Update website/source/docs/guides/connect-production.md\r\n\r\nCo-Authored-By: kaitlincarter-hc <43049322+kaitlincarter-hc@users.noreply.github.com>\r\n\r\n* Update website/source/docs/guides/connect-production.md\r\n\r\nCo-Authored-By: kaitlincarter-hc <43049322+kaitlincarter-hc@users.noreply.github.com>\r\n","author_name":"kaitlincarter-hc","author_email":"43049322+kaitlincarter-hc@users.noreply.github.com"},{"hash":"17a6307f65193cdea6e6588ed9a8bb8322af8abc","date":"2019-04-04 13:56:43 -0400","message":"fix broken acl link (#5592)","refs":[],"body":"* fix broken acl link\r\n\r\n* Update website/source/docs/acl/acl-migrate-tokens.html.md\r\n\r\nCo-Authored-By: alvin-huang <alvin@hashicorp.com>\r\n","author_name":"Alvin Huang","author_email":"huang.s.alvin@gmail.com"},{"hash":"4eb58439aff688d8f4051d194ec70258b76a1142","date":"2019-04-02 12:24:48 -0400","message":"add s3 upload to dev bucket","refs":[],"body":"","author_name":"Alvin Huang","author_email":"alvin@hashicorp.com"},{"hash":"4d958951eeaf28338028fef6db11e250a91c3c3c","date":"2019-04-04 16:03:07 -0400","message":"remove envvar for s3 path from config file and error check s3 cp","refs":["origin/test-s3"],"body":"","author_name":"Alvin Huang","author_email":"alvin@hashicorp.com"},{"hash":"7694261b2ce0109c8e5c5b5e9714af1eecff71e9","date":"2019-04-04 17:05:18 -0400","message":"Merge pull request #5596 from hashicorp/test-s3","refs":[],"body":"add s3 upload to dev bucket","author_name":"Alvin Huang","author_email":"huang.s.alvin@gmail.com"},{"hash":"f45e495e3862b735bf4dfd8ddce2371ea19616aa","date":"2019-04-04 17:09:32 -0400","message":"Merge pull request #5376 from hashicorp/fix-tests","refs":[],"body":"Fix tests in prep for CircleCI Migration","author_name":"Alvin Huang","author_email":"huang.s.alvin@gmail.com"},{"hash":"71364e94ea05eff80a4daac507bf826e86227ea9","date":"2019-04-04 18:53:30 -0400","message":"add link checking script","refs":[],"body":"","author_name":"Alvin Huang","author_email":"alvin@hashicorp.com"},{"hash":"3e54ae4d19080b9b798bbfdab83eba61753f3fcb","date":"2019-04-04 18:53:44 -0400","message":"add netlify redirects","refs":[],"body":"","author_name":"Alvin Huang","author_email":"alvin@hashicorp.com"},{"hash":"a05363161d52a17862bf20c979b4739e78900a44","date":"2019-04-04 18:54:47 -0400","message":"add link checking to CI and split website build/deploy","refs":[],"body":"","author_name":"Alvin Huang","author_email":"alvin@hashicorp.com"},{"hash":"152aa0cee1ae1222d0dc271c39f2e2024ba565fa","date":"2019-04-04 16:31:43 -0700","message":"terraform: remove modules in repo (#5085)","refs":[],"body":"* terraform: remove modules in repo\r\n\r\nThese are not currently being maintained and tested, and were\r\ncreated prior to the existence of the Terraform Module Registry,\r\nwhich is the more appropriate way to share and distribute modules.\r\n\r\nIn an effort to limit confusion of the purpose of these modules and\r\nnot encourage usage of something we aren't confident about, this\r\nremoves them from this repository.\r\n\r\nYou can still access these modules if you depend on them by pinning to\r\na specific ref in Git.\r\n\r\nIt is recommended you pin against a recent major version where\r\nthese modules existed:\r\n\r\n```\r\nmodule \"consul-aws\" {\r\n  source = \"git::https://github.com/hashicorp/consul.git//terraform/aws?ref=v1.4.0\"\r\n}\r\n```\r\n\r\nMore detail about module sources can be found on this page:\r\n\r\nhttps://www.terraform.io/docs/modules/sources.html\r\n\r\n* terraform: add a readme for anyone who can't find the modules\r\n","author_name":"Jack Pearkes","author_email":"jackpearkes@gmail.com"},{"hash":"fc7a1e017525c14508e366593d9ace7b350104f7","date":"2019-04-04 16:58:57 -0700","message":"[docs] security warning about Helm chart (#5561)","refs":[],"body":"* [docs] security warning about Helm chart\r\n\r\nCorrect security warning about helm chart to caution about default Consul install.\r\n\r\n* clarify that k8s or consul should be secure\r\n","author_name":"Judith Malnick","author_email":"judith@hashicorp.com"},{"hash":"172652a7cba9134116fff0828e833ada58b8dbde","date":"2019-04-05 10:38:27 -0400","message":"link check only on non-forks","refs":["origin/deploy-previews"],"body":"","author_name":"Alvin Huang","author_email":"alvin@hashicorp.com"},{"hash":"53cbaefd5d466987851a110810fa79f3ce2e772a","date":"2019-04-05 12:25:44 -0500","message":"Updated Ports Documentation","refs":[],"body":"","author_name":"Sarah Christoff","author_email":"sarah.christoff13@gmail.com"},{"hash":"e14d1fab29dfcfc2dbd3e48eec7aeb67c4a93214","date":"2019-04-05 13:44:22 -0400","message":"Merge pull request #5607 from hashicorp/deploy-previews","refs":[],"body":"Add Documentation Previews and Checks","author_name":"Alvin Huang","author_email":"huang.s.alvin@gmail.com"},{"hash":"54efa30f70dad70da45a1c9f3d9a5fe09040f80c","date":"2019-04-05 21:27:31 +0200","message":"Update CHANGELOG.md","refs":[],"body":"","author_name":"Hans Hasselberg","author_email":"me@hans.io"},{"hash":"1ca4cca043d7847b2b3088bcc787f99ab3a96354","date":"2019-04-05 15:54:03 -0500","message":"Merge pull request #5609 from hashicorp/update_ports","refs":[],"body":"Update Ports Documentation","author_name":"Sarah Christoff","author_email":"sarah.christoff13@gmail.com"},{"hash":"f2ed4826805015d35ad786027d31c4245184dd67","date":"2019-04-06 23:38:08 -0700","message":"Add RPC endpoints for config entry operations","refs":[],"body":"","author_name":"Kyle Havlovitz","author_email":"kylehav@gmail.com"},{"hash":"a1dfd2d41600c70558d68333a098d925ad7c6dd6","date":"2019-04-08 13:45:57 -0500","message":"update changelog","refs":[],"body":"","author_name":"R.B. Boyer","author_email":"rb@hashicorp.com"},{"hash":"3ce60db0ca4704557e52469ee82ea0b49674fd57","date":"2019-04-08 14:56:24 -0500","message":"make changelog use proper syntax","refs":[],"body":"","author_name":"R.B. Boyer","author_email":"rb@hashicorp.com"},{"hash":"8e07c63c54c24a51ba39a78f8361d864ca3b8e98","date":"2019-04-09 16:05:52 -0400","message":"removing gocov packages (#5534)","refs":[],"body":"* removing gocov packages\r\n\r\n* revise cov make target\r\n","author_name":"Alvin Huang","author_email":"huang.s.alvin@gmail.com"},{"hash":"a03392c906ee2c50c3af2e275d15d05b81889299","date":"2019-04-09 16:09:22 -0600","message":"Add additional raft metrics (#5628)","refs":[],"body":"* Add documentation for new raft metrics\r\n* Revendor raft from master\r\n","author_name":"Freddy","author_email":"freddygv@users.noreply.github.com"},{"hash":"11362e77bebff2e2f66eb23822034d3d0d016bae","date":"2019-04-10 12:54:03 +0100","message":"build: use only version tags in version output now api is tagged too (#5622)","refs":[],"body":"* build: use only version tags in version output now api is tagged too\r\n\r\nFixes #5621\r\n\r\nSince we now have api package tags, our build tooling was picking up api tag when working out version to bake into builds.\r\n\r\nThis fixes it by restricting to only tags that start with `v`.\r\n\r\nBefore:\r\n\r\n```\r\n$ make version\r\nVersion:                    1.4.4\r\nVersion + release:          1.4.4-dev\r\nVersion + git:              api/v1.0.1-90-g3ce60db0c\r\nVersion + release + git:    api/v1.0.1-90-g3ce60db0c-dev (3ce60db0c)\r\n```\r\n\r\nAfter:\r\n\r\n```\r\n$ make version\r\nVersion:                    1.4.4\r\nVersion + release:          1.4.4-dev\r\nVersion + git:              v1.4.4-126-g3ce60db0c\r\nVersion + release + git:    v1.4.4-126-g3ce60db0c-dev (3ce60db0c)\r\n```\r\n\r\n* Update GNUmakefile\r\n","author_name":"Paul Banks","author_email":"banks@banksco.de"},{"hash":"ed6fd1ec4143ac2fa22a5fbcc04d366ce0b96d0b","date":"2019-04-10 12:56:55 -0400","message":"checkout code outside GOPATH","refs":[],"body":"","author_name":"Alvin Huang","author_email":"alvin@hashicorp.com"},{"hash":"ffa123b73e4c0262e0a8a15d1f62c4ed7d9a88de","date":"2019-04-10 13:09:02 -0400","message":"download tools without library","refs":[],"body":"","author_name":"Alvin Huang","author_email":"alvin@hashicorp.com"},{"hash":"15b8ea65bbf7481a9f6d56b04b6666120130b623","date":"2019-04-10 13:19:58 -0400","message":"Merge pull request #5639 from hashicorp/checkout-outside-gopath","refs":[],"body":"CircleCI: Checkout code outside GOPATH","author_name":"Alvin Huang","author_email":"huang.s.alvin@gmail.com"},{"hash":"690e9dd2c040f6aa67ac4b14806bfcc638ec1976","date":"2019-04-10 14:27:28 -0700","message":"Move the ACL logic into the ConfigEntry interface","refs":[],"body":"","author_name":"Kyle Havlovitz","author_email":"kylehav@gmail.com"},{"hash":"31a234b443267415c53def930d5d696b13d41f72","date":"2019-04-11 16:35:09 +0100","message":"Update CHANGELOG.md","refs":[],"body":"","author_name":"Paul Banks","author_email":"banks@banksco.de"},{"hash":"9fc9af69b40f9704fc3d888c5d0a93caa90a67b1","date":"2019-04-11 18:04:28 +0200","message":"Enforce log level filter for log files","refs":[],"body":"","author_name":"Jude DSouza","author_email":"jude.dsouza@magine.com"},{"hash":"9ef28293e87b44cddd59a09377ba80c8a3ba2e9c","date":"2019-04-11 10:15:46 -0600","message":"Update CHANGELOG.md","refs":[],"body":"","author_name":"Freddy","author_email":"freddygv@users.noreply.github.com"},{"hash":"b2c12550d777084b908ecf978b4fd51e8348a672","date":"2019-04-12 09:02:27 -0600","message":"Remove old UI, option to use it, and its build processes","refs":[],"body":"","author_name":"Freddy","author_email":"freddygv@users.noreply.github.com"},{"hash":"c6be3b525b5630feb9e5c43640bc5c209c93fe5d","date":"2019-04-12 15:17:13 -0400","message":"Build System Fixes for Go Modules (#5655)","refs":[],"body":"* Docker based builds can now use the module cache\r\n\r\n* Simplify building the consul-dev docker image.\r\n\r\n* Make sure to pull the latest consul image.\r\n\r\n* Allow selecting base image version for the dev image\r\n","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"f88d1ccc366063595a18080c7c83b49507fd0f1c","date":"2019-04-15 14:34:36 -0400","message":"Handle rules translation when coming from the JSON compat HCL (#5662)","refs":[],"body":"We were not handling some object keys when they were strings instead of identifiers. Now both are handled.\r\n\r\nFixes #5493 ","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"5e8b20e34477764fe35ccefef7858c210a6f02e7","date":"2019-04-15 14:35:47 -0400","message":"Update CHANGELOG.md","refs":[],"body":"","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"0015326cead26aad1ae6c05cb71d85c7b81f2b93","date":"2019-04-15 14:56:53 -0400","message":"Share Fastly and Netlify redirects (#5619)","refs":[],"body":"* consolidate netlify and fastly redirects\r\n\r\n* remove validation check to support full url redirects\r\n","author_name":"Alvin Huang","author_email":"huang.s.alvin@gmail.com"},{"hash":"ffc5c335508e28ee4319eee17f6c2b03c043f4ee","date":"2019-04-15 15:29:19 -0400","message":"interpolate properly (#5665)","refs":[],"body":"","author_name":"Alvin Huang","author_email":"huang.s.alvin@gmail.com"},{"hash":"afa1cc98d14a208d20a10dc2b35cee7b57690dd3","date":"2019-04-16 12:00:15 -0400","message":"Implement data filtering of some endpoints (#5579)","refs":[],"body":"Fixes: #4222 \r\n\r\n# Data Filtering\r\n\r\nThis PR will implement filtering for the following endpoints:\r\n\r\n## Supported HTTP Endpoints\r\n\r\n- `/agent/checks`\r\n- `/agent/services`\r\n- `/catalog/nodes`\r\n- `/catalog/service/:service`\r\n- `/catalog/connect/:service`\r\n- `/catalog/node/:node`\r\n- `/health/node/:node`\r\n- `/health/checks/:service`\r\n- `/health/service/:service`\r\n- `/health/connect/:service`\r\n- `/health/state/:state`\r\n- `/internal/ui/nodes`\r\n- `/internal/ui/services`\r\n\r\nMore can be added going forward and any endpoint which is used to list some data is a good candidate.\r\n\r\n## Usage\r\n\r\nWhen using the HTTP API a `filter` query parameter can be used to pass a filter expression to Consul. Filter Expressions take the general form of:\r\n\r\n```\r\n<selector> == <value>\r\n<selector> != <value>\r\n<value> in <selector>\r\n<value> not in <selector>\r\n<selector> contains <value>\r\n<selector> not contains <value>\r\n<selector> is empty\r\n<selector> is not empty\r\nnot <other expression>\r\n<expression 1> and <expression 2>\r\n<expression 1> or <expression 2>\r\n```\r\n\r\nNormal boolean logic and precedence is supported. All of the actual filtering and evaluation logic is coming from the [go-bexpr](https://github.com/hashicorp/go-bexpr) library\r\n\r\n## Other changes\r\n\r\nAdding the `Internal.ServiceDump` RPC endpoint. This will allow the UI to filter services better.","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"a320a2311012e72776c337439e32bfb21b785909","date":"2019-04-16 12:02:03 -0400","message":"Update CHANGELOG.md","refs":[],"body":"","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"eebc7889591b71ff231a254268a42a5c7061ebb7","date":"2019-04-16 10:29:34 -0600","message":"Filter non-passing nodes without modifying cache","refs":[],"body":"","author_name":"Freddy","author_email":"freddygv@users.noreply.github.com"},{"hash":"23755fcf4603a7440e519f6894bea05de1a58165","date":"2019-04-16 12:40:03 -0400","message":"Fix some broken links (#5670)","refs":[],"body":"","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"8c182826dcb3a41dea18bdb8cb4d8fad76600d87","date":"2019-04-16 20:38:20 +0200","message":"Update CHANGELOG.md","refs":[],"body":"","author_name":"Hans Hasselberg","author_email":"me@hans.io"},{"hash":"8b7e2a3e324adb069703f80e57e74a96154ae831","date":"2019-04-16 16:14:10 -0500","message":"[docs] Windows Guide (#5626)","refs":[],"body":"* Updating the windows guide for the migration.\r\n\r\n* adding config dir option\r\n","author_name":"kaitlincarter-hc","author_email":"43049322+kaitlincarter-hc@users.noreply.github.com"},{"hash":"d909766403980df348d787d9119f2ebb4628f6c1","date":"2019-04-16 15:03:03 -0700","message":"Remove redundant word.","refs":[],"body":"","author_name":"Judith Malnick","author_email":"judith@hashicorp.com"},{"hash":"e81f6aeed02d0929caa5026f461162aafeb6ef64","date":"2019-04-17 12:21:24 -0400","message":"Update Consul-Dev.dockerfile (#5678)","refs":[],"body":"This was putting the new binary on the wrong path so this wasn't updating the docker image in any effectual way.","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"b42764888773ea5764b328647162072d59d19341","date":"2019-04-17 18:06:22 +0100","message":"Update CHANGELOG.md","refs":[],"body":"","author_name":"Paul Banks","author_email":"banks@banksco.de"},{"hash":"7dcc727b4dcd27437c3cbc08a0d9f38b280fc787","date":"2019-04-17 13:17:12 -0500","message":"[docs] Server Performance (#5627)","refs":[],"body":"* Moving server performance guide to docs.\r\n\r\n* fixing broken links\r\n\r\n* updating broken link\r\n\r\n* fixing broken links\r\n","author_name":"kaitlincarter-hc","author_email":"43049322+kaitlincarter-hc@users.noreply.github.com"},{"hash":"59c0174de52890d6e487ce991297d58c6f6c3413","date":"2019-04-17 13:27:57 -0500","message":"[docs] Geo Failover (#5641)","refs":[],"body":"* Updated the headers, code snippets, and some language.\r\n\r\n* Update website/source/docs/guides/geo-failover.html.md\r\n\r\n* Changed banking-app to payments\r\n\r\n* Update website/source/docs/guides/geo-failover.html.md\r\n\r\nCo-Authored-By: kaitlincarter-hc <43049322+kaitlincarter-hc@users.noreply.github.com>\r\n","author_name":"kaitlincarter-hc","author_email":"43049322+kaitlincarter-hc@users.noreply.github.com"},{"hash":"6269d1f1305ee7dfe1950f0d4c6b9883c1b0f6a5","date":"2019-04-17 15:52:23 -0500","message":"tests: actually have TestSessionTTLRenew sleep during execution (#5669)","refs":[],"body":"Due to an unintended order of operations issue with integer division\r\nTestSessionTTLRenew was sleeping for 0s every time.\r\n\r\nAlso add explicit failures for when the various session renewal returns\r\nnil unexpectedly.\r\n","author_name":"R.B. Boyer","author_email":"public@richardboyer.net"},{"hash":"5c3d3dd8949d4eba0cbf2fffecc3c71fc2b538a4","date":"2019-04-17 16:12:30 -0500","message":"Updating network connectivity section based on feedback from Pavani. (#5612)","refs":[],"body":"","author_name":"kaitlincarter-hc","author_email":"43049322+kaitlincarter-hc@users.noreply.github.com"},{"hash":"66a49e60ea86dabc8303e5a1c0b53a9406c647c4","date":"2019-04-17 16:16:15 -0500","message":"[docs] Leader Election Guide Updates (#5654)","refs":[],"body":"* Updating the Leader Election guide.\r\n\r\n* Update website/source/docs/guides/leader-election.html.md\r\n\r\n* updating key name\r\n\r\n* Update website/source/docs/guides/leader-election.html.md\r\n\r\nCo-Authored-By: kaitlincarter-hc <43049322+kaitlincarter-hc@users.noreply.github.com>\r\n\r\n* Update website/source/docs/guides/leader-election.html.md\r\n\r\nCo-Authored-By: kaitlincarter-hc <43049322+kaitlincarter-hc@users.noreply.github.com>\r\n","author_name":"kaitlincarter-hc","author_email":"43049322+kaitlincarter-hc@users.noreply.github.com"},{"hash":"9ca16fcad5b5ea6fcde51fc6060d3b590654e277","date":"2019-04-18 11:24:19 -0400","message":"Fixed minor typos. (#5681)","refs":[],"body":"","author_name":"joelcollin","author_email":"joelcollin@users.noreply.github.com"},{"hash":"66f0e4a2c78d6084864fdff19b725155c9c4e184","date":"2019-04-19 00:35:21 +0900","message":"Update consul-containers.html.md (#5645)","refs":[],"body":"To reflect the most recent version","author_name":"Heechul Ryu","author_email":"ryuhcii@gmail.com"},{"hash":"e55afa92520e03f80dfbc76148f15d510de558a9","date":"2019-04-18 15:10:34 -0400","message":"Update go-msgpack version (#5683)","refs":[],"body":"Fixes #4673\r\nSupercedes: #5677 \r\n\r\nThere was an error decoding `map[string]string` values due to Go strings being immutable. This was fixes in our go-msgpack fork.","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"c96faa613d3959cb42673aea232c56516908691c","date":"2019-04-18 15:12:04 -0400","message":"Update CHANGELOG.md","refs":[],"body":"","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"032d299072621381e8e3eea59de671ed2ae32c87","date":"2019-04-18 16:05:51 -0400","message":"Add missing token field in the service definition in the docs (#5685)","refs":[],"body":"Fixes #5684 ","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"ad36886f90f5d12f9b05b7d5782caa733b8c480e","date":"2019-04-18 16:47:09 -0400","message":"Remove old redirects file (#5688)","refs":[],"body":"* add directions on how to update the redirects file\r\n\r\n* remove old redirects file\r\n","author_name":"Alvin Huang","author_email":"huang.s.alvin@gmail.com"},{"hash":"3fe3b3e6dcf5ac8024547d21c4c3ddf4de852c41","date":"2019-04-19 14:07:18 -0600","message":"Clarify -log-rotate-duration string format and default value","refs":[],"body":"","author_name":"Freddy","author_email":"freddygv@users.noreply.github.com"},{"hash":"fed7595d45aae248b9d99e4b6218ec5e6e9e2469","date":"2019-04-22 23:55:11 -0700","message":"Rename config entry ACL methods","refs":[],"body":"","author_name":"Kyle Havlovitz","author_email":"kylehav@gmail.com"},{"hash":"b186c3020c92e7b5cdb2a4371d9f8dfe317fc085","date":"2019-04-23 00:16:54 -0700","message":"Merge pull request #5615 from hashicorp/config-entry-rpc","refs":[],"body":"Add RPC endpoints for config entry operations","author_name":"Kyle Havlovitz","author_email":"kylehav@gmail.com"},{"hash":"7c25869e6776d0e677d2b1630a9e34772af2033f","date":"2019-04-17 21:35:19 -0700","message":"Add the service registration manager to the agent","refs":[],"body":"","author_name":"Kyle Havlovitz","author_email":"kylehav@gmail.com"},{"hash":"88e1d8ce031dee2c1155ec5d84f18b0490accefc","date":"2019-04-22 23:39:02 -0700","message":"Fill out the service manager functionality and fix tests","refs":[],"body":"","author_name":"Kyle Havlovitz","author_email":"kylehav@gmail.com"},{"hash":"b58572afbd9e0431802783d98c84dddf3d52a4e3","date":"2019-04-23 03:31:24 -0700","message":"Fix a race in the service updates","refs":[],"body":"","author_name":"Kyle Havlovitz","author_email":"kylehav@gmail.com"},{"hash":"c26936976055a0a9ca76131ef14b21c153349e22","date":"2019-04-24 06:11:08 -0700","message":"Make central service config opt-in and rework the initial registration","refs":[],"body":"","author_name":"Kyle Havlovitz","author_email":"kylehav@gmail.com"},{"hash":"cba47aa0ca76bf99c3625105616cbe0ffadeddfb","date":"2019-04-24 06:46:30 -0700","message":"Fix a race in the ready logic","refs":[],"body":"","author_name":"Kyle Havlovitz","author_email":"kylehav@gmail.com"},{"hash":"f669bb7b0fd323f63a5f990102f1c27d9fe4d6fe","date":"2019-04-24 20:11:54 +0200","message":"Add support for DNS config hot-reload (#4875)","refs":[],"body":"The DNS config parameters `recursors` and `dns_config.*` are now hot\r\nreloaded on SIGHUP or `consul reload` and do not need an agent restart\r\nto be modified.\r\nConfig is stored in an atomic.Value and loaded at the beginning of each\r\nrequest. Reloading only affects requests that start _after_ the\r\nreload. Ongoing requests are not affected. To match the current\r\nbehavior the recursor handler is loaded and unloaded as needed on config\r\nreload.","author_name":"Aestek","author_email":"t.gilles@criteo.com"},{"hash":"1a7406885b3484282c01d552224eb556b5975d25","date":"2019-04-24 14:12:54 -0400","message":"Update CHANGELOG.md","refs":[],"body":"","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"f2213f60e06bc2f394ced7f504ba2ac78765b718","date":"2019-04-24 12:17:06 -0600","message":"Update alias checks on local add and remove","refs":[],"body":"","author_name":"Freddy","author_email":"freddygv@users.noreply.github.com"},{"hash":"43bfc20dc8e7dcfbbbc82871d0655ed8f7f34cf7","date":"2019-04-25 02:11:07 -0700","message":"Test an index=0 value in cache.Notify","refs":[],"body":"","author_name":"Kyle Havlovitz","author_email":"kylehav@gmail.com"},{"hash":"d8f8400fe198d1a310a9576bcdc91a4cd53cede5","date":"2019-04-25 06:39:50 -0700","message":"Merge pull request #5700 from hashicorp/service-reg-manager","refs":[],"body":"Use centralized service config on agent service registrations","author_name":"Kyle Havlovitz","author_email":"kylehav@gmail.com"},{"hash":"05946afa0c3024c51e8d6d6cf34a3f45b0098a7b","date":"2019-04-25 12:24:20 -0400","message":"Add website analytics back (#5699)","refs":[],"body":"* add website analytics to build\r\n\r\n* add segment analytics env var check\r\n","author_name":"Alvin Huang","author_email":"alvin@hashicorp.com"},{"hash":"8ceca2ace347edf8bca21681427996b290858404","date":"2019-04-25 12:26:33 -0400","message":"Add fmt and vet (#5671)","refs":[],"body":"* add go fmt and vet\r\n\r\n* go fmt fixes\r\n","author_name":"Alvin Huang","author_email":"alvin@hashicorp.com"},{"hash":"abdd8a294c50d5a5f8acfa21f92d648e40629e84","date":"2019-04-25 12:30:35 -0400","message":"fix sidebar for install (#5611)","refs":[],"body":"","author_name":"Alvin Huang","author_email":"alvin@hashicorp.com"},{"hash":"cf8b76b2e5e4649084dfa3e35e4fce99ad74f296","date":"2019-04-25 12:24:28 -0500","message":"docs: fix some minor acl related typos (#5711)","refs":[],"body":"","author_name":"R.B. Boyer","author_email":"rb@hashicorp.com"},{"hash":"cf14e0c2ac472b8a1376d13a6e8aadb5ff36b4fa","date":"2019-04-26 04:53:20 -0700","message":"fixing inconsitencies in agent/connect API documentation (#5715)","refs":[],"body":"","author_name":"Tyler Ryan","author_email":"tryan225@users.noreply.github.com"},{"hash":"222afeae4c6d4039d48ff685f75af502e22c0fd5","date":"2019-04-26 12:33:01 -0400","message":"Move the watch package into the api module (#5664)","refs":[],"body":"* Move the watch package into the api module\r\n\r\nIt was already just a thin wrapper around the API anyways. The biggest change was to the testing. Instead of using a test agent directly from the agent package it now uses the binary on the PATH just like the other API tests.\r\n\r\nThe other big changes were to fix up the connect based watch tests so that we didn’t need to pull in the connect package (and therefore all of Consul)\r\n","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"6c885d383a7f303cc6c625108d3e7fc1a35d715d","date":"2019-04-26 12:36:52 -0400","message":"Update CHANGELOG.md","refs":[],"body":"","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"5befe0f5d5a53014ec363574d588d566b5786693","date":"2019-04-26 13:38:39 -0400","message":"Implement config entry replication (#5706)","refs":[],"body":"","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"15e80e4e76a7f207c03da11f32bf8d948ac699cb","date":"2019-04-26 14:25:03 -0400","message":"Implement bootstrapping proxy defaults from the config file (#5714)","refs":[],"body":"","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"2144bd7fbde71c419342f80a09db659f0cc0d9ff","date":"2019-04-08 12:05:51 -0500","message":"acl: tokens can be created with an optional expiration time (#5353)","refs":[],"body":"","author_name":"R.B. Boyer","author_email":"public@richardboyer.net"},{"hash":"db43fc3a20afdf9924164c3c39e9ce99c640f116","date":"2019-04-08 13:19:09 -0500","message":"acl: ACL Tokens can now be assigned an optional set of service identities (#5390)","refs":[],"body":"These act like a special cased version of a Policy Template for granting\r\na token the privileges necessary to register a service and its connect\r\nproxy, and read upstreams from the catalog.","author_name":"R.B. Boyer","author_email":"public@richardboyer.net"},{"hash":"7928305279788def909b2f7b54a9d394774a138a","date":"2019-04-15 13:35:55 -0500","message":"making ACLToken.ExpirationTime a *time.Time value instead of time.Time (#5663)","refs":[],"body":"This is mainly to avoid having the API return \"0001-01-01T00:00:00Z\" as\r\na value for the ExpirationTime field when it is not set. Unfortunately\r\ntime.Time doesn't respect the json marshalling \"omitempty\" directive.","author_name":"R.B. Boyer","author_email":"public@richardboyer.net"},{"hash":"cc1aa3f97384618a9b82227e7b1757a3f9a169fc","date":"2019-04-15 15:43:19 -0500","message":"acl: adding Roles to Tokens (#5514)","refs":[],"body":"Roles are named and can express the same bundle of permissions that can\r\ncurrently be assigned to a Token (lists of Policies and Service\r\nIdentities). The difference with a Role is that it not itself a bearer\r\ntoken, but just another entity that can be tied to a Token.\r\n\r\nThis lets an operator potentially curate a set of smaller reusable\r\nPolicies and compose them together into reusable Roles, rather than\r\nalways exploding that same list of Policies on any Token that needs\r\nsimilar permissions.\r\n\r\nThis also refactors the acl replication code to be semi-generic to avoid\r\n3x copypasta.","author_name":"R.B. Boyer","author_email":"public@richardboyer.net"},{"hash":"e47d7eeddb93bac09b7e5e94231ef5fa17cc112b","date":"2019-04-26 12:49:28 -0500","message":"acl: adding support for kubernetes auth provider login (#5600)","refs":[],"body":"* auth providers\r\n* binding rules\r\n* auth provider for kubernetes\r\n* login/logout","author_name":"R.B. Boyer","author_email":"rb@hashicorp.com"},{"hash":"21a776e202c633ddebff110d5b5dc129fd842468","date":"2019-04-26 22:33:41 +0200","message":"Fix: fail messages after a node rename replace the new node definition (#5520)","refs":[],"body":"When receiving a serf faild message for a node which is not in the\r\ncatalog, do not perform a register request to set is serf heath to\r\ncritical as it could overwrite the node information and services if it\r\nwas renamed.\r\n\r\nFixes : #5518","author_name":"Aestek","author_email":"t.gilles@criteo.com"},{"hash":"c6722fc43d231cd2d87ffe0154d9fed2b8e129b9","date":"2019-04-26 15:34:26 -0500","message":"Merge pull request #5617 from hashicorp/f-acl-ux","refs":[],"body":"Secure ACL Introduction for Kubernetes","author_name":"R.B. Boyer","author_email":"rb@hashicorp.com"},{"hash":"50da2383c04565690038d29fcd1604a132d8de20","date":"2019-04-26 21:39:06 +0100","message":"Update CHANGELOG.md","refs":[],"body":"","author_name":"Paul Banks","author_email":"banks@banksco.de"},{"hash":"975c4b87d6dcaaf1d171b816b5ffd7f00c8549d0","date":"2019-04-26 15:39:10 -0500","message":"remove reference to deleted branch","refs":[],"body":"","author_name":"R.B. Boyer","author_email":"rb@hashicorp.com"},{"hash":"2febedd17cc2846755974b058d7c97cc7d36f6c5","date":"2019-04-26 15:43:34 -0500","message":"update changelog","refs":[],"body":"","author_name":"R.B. Boyer","author_email":"rb@hashicorp.com"},{"hash":"421ecd32fc8fe9933cf50005eafc14705ffd45b1","date":"2019-04-29 17:27:57 +0100","message":"Connect: allow configuring Envoy for L7 Observability (#5558)","refs":[],"body":"* Add support for HTTP proxy listeners\r\n\r\n* Add customizable bootstrap configuration options\r\n\r\n* Debug logging for xDS AuthZ\r\n\r\n* Add Envoy Integration test suite with basic test coverage\r\n\r\n* Add envoy command tests to cover new cases\r\n\r\n* Add tracing integration test\r\n\r\n* Add gRPC support WIP\r\n\r\n* Merged changes from master Docker. get CI integration to work with same Dockerfile now\r\n\r\n* Make docker build optional for integration\r\n\r\n* Enable integration tests again!\r\n\r\n* http2 and grpc integration tests and fixes\r\n\r\n* Fix up command config tests\r\n\r\n* Store all container logs as artifacts in circle on fail\r\n\r\n* Add retries to outer part of stats measurements as we keep missing them in CI\r\n\r\n* Only dump logs on failing cases\r\n\r\n* Fix typos from code review\r\n\r\n* Review tidying and make tests pass again\r\n\r\n* Add debug logs to exec test.\r\n\r\n* Fix legit test failure caused by upstream rename in envoy config\r\n\r\n* Attempt to reduce cases of bad TLS handshake in CI integration tests\r\n\r\n* bring up the right service\r\n\r\n* Add prometheus integration test\r\n\r\n* Add test for denied AuthZ both HTTP and TCP\r\n\r\n* Try ANSI term for Circle\r\n","author_name":"Paul Banks","author_email":"banks@banksco.de"},{"hash":"93f579dc8bd9b66cf199acdbda9e8f42e5a02cbc","date":"2019-04-29 17:43:15 +0100","message":"Update CHANGELOG.md","refs":[],"body":"","author_name":"Paul Banks","author_email":"banks@banksco.de"},{"hash":"f67e12eb6ff5146728f0c61e9fda002358b499a9","date":"2019-04-29 15:28:01 -0400","message":"Enabling \"service\" watch handler to accept a slice of tags","refs":[],"body":"Originally from PR #5347 ","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"aba54cec558ca69ccad4e5ade9cda047dc240e6f","date":"2019-04-29 15:08:09 -0700","message":"Add HTTP endpoints for config entry management (#5718)","refs":[],"body":"","author_name":"Kyle Havlovitz","author_email":"kylehav@gmail.com"},{"hash":"51391b647b2ec32c66176b87eaac269b54f59c39","date":"2019-04-29 17:27:26 -0600","message":"Update CHANGELOG.md","refs":[],"body":"","author_name":"Freddy","author_email":"freddygv@users.noreply.github.com"},{"hash":"a12810664f00b186d67a7b3c58bd28bb99e62e89","date":"2019-04-30 15:13:59 +0100","message":"Modify ConfigEntry bootstrapping syntax more generic (#5744)","refs":[],"body":"* Modify ConfigEntry bootstrapping syntax to be generic and compatible with other CLI config syntax. Refs #5743\r\n\r\n* Fix gofmt issues.\r\n","author_name":"Paul Banks","author_email":"banks@banksco.de"},{"hash":"b4727fbe1852b20b1f82e32f76efacb0303eb973","date":"2019-04-30 09:59:00 -0500","message":"cli: actually allow the 'connect envoy' and 'watch' subcommands to work with -token-file (#5733)","refs":[],"body":"","author_name":"R.B. Boyer","author_email":"rb@hashicorp.com"},{"hash":"4daa1585b0d6839ae8fd926b08558e240ee58dbb","date":"2019-04-30 11:45:36 -0400","message":"ACL Token ID Initialization (#5307)","refs":[],"body":"","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"583153b852038c3c141040c7cb2cadb35aae4f05","date":"2019-04-30 11:46:52 -0400","message":"Update CHANGELOG.md","refs":[],"body":"","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"626392eb62994e05ebf675dcee5a6fbea5bd174a","date":"2019-04-30 12:20:51 -0500","message":"[docs] Fixing API broken links (#5732)","refs":[],"body":"* starting broken link fixes\r\n\r\n* Updating the other links for ACLs\r\n\r\n* Updating the rest of the links\r\n\r\n* fixing acl required links.\r\n\r\n* update a bunch of other links\r\n\r\n* updated a couple more broken links based on Alvins checker\r\n\r\n* removed the extra s\r\n","author_name":"kaitlincarter-hc","author_email":"43049322+kaitlincarter-hc@users.noreply.github.com"},{"hash":"63508c601538bfa11f1d0a644a4adb3ee01e489a","date":"2019-04-30 12:23:24 -0500","message":"ui: fix 'make ui' again (#5751)","refs":[],"body":"When the v1 ui was removed the ui build incorrectly copied everything\r\ninto a /dist/ subdirectory instead of directly into the top level.","author_name":"R.B. Boyer","author_email":"rb@hashicorp.com"},{"hash":"4901166e659ef3f1edd8dd3c553d03f7840a5d0d","date":"2019-04-30 13:25:10 -0400","message":"Update CHANGELOG.md","refs":[],"body":"","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"b5d2de1727d8ae90b61741fc83856ffde904119d","date":"2019-04-30 13:28:58 -0400","message":"fix redirects for acl-migrate-tokens (#5749)","refs":[],"body":"","author_name":"Alvin Huang","author_email":"alvin@hashicorp.com"},{"hash":"d19eb360859221335b8579ba6dba21b03614ac13","date":"2019-04-30 12:43:32 -0600","message":"Restrict config file extensions read","refs":[],"body":"","author_name":"Freddy","author_email":"freddygv@users.noreply.github.com"},{"hash":"90c83e64ec04c6792e694fb1f4ff7361e86587ee","date":"2019-04-30 19:59:37 +0100","message":"fix agent in connect docs","refs":[],"body":"","author_name":"Paul Banks","author_email":"banks@banksco.de"},{"hash":"44e3dd79ff79c4d8cc7c0dcc6a48370e79f05962","date":"2019-04-30 13:28:02 -0600","message":"go fmt runtime_test.go","refs":[],"body":"","author_name":"Freddy","author_email":"freddygv@users.noreply.github.com"},{"hash":"d0f410cd8401d782f1785b9602a7c83f026f5887","date":"2019-04-30 18:19:19 -0400","message":"Make a few config entry endpoints return 404s and allow for snake_case and lowercase key names. (#5748)","refs":[],"body":"","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"16d1e0f2f2987e4d93d99e7a9b1660beae265018","date":"2019-04-30 17:30:24 -0500","message":"Update Helm Docs with consulPrefix","refs":[],"body":"","author_name":"Sarah Christoff","author_email":"sarah.christoff13@gmail.com"},{"hash":"f665695b6b014698debdc895fca2fcd486495c19","date":"2019-04-30 19:00:57 -0400","message":"Ensure ServiceName is populated correctly for agent service checks","refs":[],"body":"Also update some snapshot agent docs\r\n\r\n* Enforce correct permissions when registering a check\r\n\r\nPreviously we had attempted to enforce service:write for a check associated with a service instead of node:write on the agent but due to how we decoded the health check from the request it would never do it properly. This commit fixes that.\r\n\r\n* Update website/source/docs/commands/snapshot/agent.html.markdown.erb\r\n\r\nCo-Authored-By: mkeeler <mkeeler@users.noreply.github.com>\r\n","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"fe38042e334e7f12b2beef24c2cf5b7c3f5d2e14","date":"2019-04-30 19:05:50 -0400","message":"Update CHANGELOG.md","refs":[],"body":"","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"3145bf52300f0f22a8e1377cccce629c435ef58e","date":"2019-04-30 19:27:16 -0400","message":"Centralized Config CLI (#5731)","refs":[],"body":"* Add HTTP endpoints for config entry management\r\n\r\n* Finish implementing decoding in the HTTP Config entry apply endpoint\r\n\r\n* Add CAS operation to the config entry apply endpoint\r\n\r\nAlso use this for the bootstrapping and move the config entry decoding function into the structs package.\r\n\r\n* First pass at the API client for the config entries\r\n\r\n* Fixup some of the ConfigEntry APIs\r\n\r\nReturn a singular response object instead of a list for the ConfigEntry.Get RPC. This gets plumbed through the HTTP API as well.\r\n\r\nDont return QueryMeta in the JSON response for the config entry listing HTTP API. Instead just return a list of config entries.\r\n\r\n* Minor API client fixes\r\n\r\n* Attempt at some ConfigEntry api client tests\r\n\r\nThese don’t currently work due to weak typing in JSON\r\n\r\n* Get some of the api client tests passing\r\n\r\n* Implement reflectwalk magic to correct JSON encoding a ProxyConfigEntry\r\n\r\nAlso added a test for the HTTP endpoint that exposes the problem. However, since the test doesn’t actually do the JSON encode/decode its still failing.\r\n\r\n* Move MapWalk magic into a binary marshaller instead of JSON.\r\n\r\n* Add a MapWalk test\r\n\r\n* Get rid of unused func\r\n\r\n* Get rid of unused imports\r\n\r\n* Fixup some tests now that the decoding from msgpack coerces things into json compat types\r\n\r\n* Stub out most of the central config cli\r\n\r\nFully implement the config read command.\r\n\r\n* Basic config delete command implementation\r\n\r\n* Implement config write command\r\n\r\n* Implement config list subcommand\r\n\r\nNot entirely sure about the output here. Its basically the read output indented with a line specifying the kind/name of each type which is also duplicated in the indented output.\r\n\r\n* Update command usage\r\n\r\n* Update some help usage formatting\r\n\r\n* Add the connect enable helper cli command\r\n\r\n* Update list command output\r\n\r\n* Rename the config entry API client methods.\r\n\r\n* Use renamed apis\r\n\r\n* Implement config write tests\r\n\r\nStub the others with the noTabs tests.\r\n\r\n* Change list output format\r\n\r\nNow just simply output 1 line per named config\r\n\r\n* Add config read tests\r\n\r\n* Add invalid args write test.\r\n\r\n* Add config delete tests\r\n\r\n* Add config list tests\r\n\r\n* Add connect enable tests\r\n\r\n* Update some CLI commands to use CAS ops\r\n\r\nThis also modifies the HTTP API for a write op to return a boolean indicating whether the value was written or not.\r\n\r\n* Fix up the HTTP API CAS tests as I realized they weren’t testing what they should.\r\n\r\n* Update config entry rpc tests to properly test CAS\r\n\r\n* Fix up a few more tests\r\n\r\n* Fix some tests that using ConfigEntries.Apply\r\n\r\n* Update config_write_test.go\r\n\r\n* Get rid of unused import\r\n","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"29cfb28fd5394275d3a03dc9641c16d009753aec","date":"2019-05-01 09:49:05 -0400","message":"Update to Consul Upgrading Doc","refs":["origin/f-consul-upgrade"],"body":"","author_name":"Chip Vaughn","author_email":"chip@hashicorp.com"},{"hash":"69f902608ceb7b5eec620ad2b70fb2102ca42643","date":"2019-05-01 11:11:27 -0400","message":"Update to use a consulent build tag instead of just ent (#5759)","refs":[],"body":"","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"7b16fe3436c160f1d54ac54e179af490b05cdddb","date":"2019-05-01 11:21:11 -0700","message":"Config Entry docs (#5734)","refs":[],"body":"* Add api docs for the config entry endpoints\r\n\r\n* Add enable_central_service_config field to agent docs\r\n\r\n* Add docs for config entry CLI operations\r\n\r\n* Fix wording and links in config entry docs\r\n\r\n* Add links to the central service config option\r\n\r\n* Update the central service config setting description.\r\n","author_name":"Kyle Havlovitz","author_email":"kylehav@gmail.com"},{"hash":"65ef2969c7baa40bdd7d1641d8cbaf5bf7c6d9e7","date":"2018-11-06 09:10:20 +0000","message":"ui: Async Search (#4859)","refs":[],"body":"This does several things to make improving the search experience easier\nmoving forwards:\n\n1. Separate searching off from filtering. 'Searching' can be thought of\nas specifically 'text searching' whilst filtering is more of a\nboolean/flag search.\n2. Decouple the actual searching functionality to almost pure,\nisolated / unit testable units and unit test. (I still import embers get\nwhich, once I upgrade to 3.5, I shouldn't need)\n3. Searching rules are now configurable from the outside, i.e. not\nwrapped in Controllers or Components.\n4. General searching itself now can use an asynchronous approach based on\nevents. This prepares for future possibilities of handing off the\nsearching to a web worker or elsewhere, which should aid in large scale\nsearching and prepares the way for other searching methods.\n5. Adds the possibility of have multiple searches in one\ntemplate/route/page.\n\nAdditionally, this adds a WithSearching mixin to aid linking the\nsearching to ember in an ember-like way in a single place. Plus a\nWithListeners mixin to aid with cleaning up of event listeners on\nController/Component destruction.\n\nPost-initial work I slightly changed the API of create listeners:\n\nReturning the handler from a `remover` means you can re-add it again if you\nwant to, this avoids having to save a reference to the handler elsewhere\nto do the same.\n\nThe `remove` method itself now returns an array of handlers, again you\nmight want to use these again or something, and its also more useful\nthen just returning an empty array.\n\nThe more I look at this the more I doubt that you'll ever use `remove`\nto remove individual handlers, you may aswell just use the `remover`\nreturned from add. I've added some comments to reflect this, but they'll\nlikely be removed once I'm absolutely sure of this.\n\nI also added some comments for WithSearching to explain possible further\nwork re: moving `searchParams` so it can be `hung` off the\ncontroller object\n","author_name":"John Cowen","author_email":"johncowen@users.noreply.github.com"},{"hash":"c9fae76b7d84b06f19bbccfad690e45d15c41c4a","date":"2018-11-06 09:12:48 +0000","message":"ui: Refactors the code-mirror linting/restrict legacy tokens to HCL (#4866)","refs":[],"body":"","author_name":"John Cowen","author_email":"johncowen@users.noreply.github.com"},{"hash":"d6c1b9ed3ff88afd820981bc7aa3a58f3123b9b2","date":"2018-11-06 09:13:23 +0000","message":"ui: Move ACL policy and token repos to use the RepositoryService (#4867)","refs":[],"body":"","author_name":"John Cowen","author_email":"johncowen@users.noreply.github.com"},{"hash":"3879487ab80989880b2d9fd5685bf7085a3a0675","date":"2018-11-09 11:13:20 +0000","message":"ui: Prefer using `notOk(actual)` instead of `ok(!actual)` in tests (#4925)","refs":[],"body":"And make sure its consistent throughout the app","author_name":"John Cowen","author_email":"johncowen@users.noreply.github.com"},{"hash":"d46b0596739a6977e820ee921cdbc97d0240cdbd","date":"2018-11-09 15:28:26 +0000","message":"UI: CSS Refactor (#4919)","refs":[],"body":"- Adds full set of svg icons as CSS/Sass variables to the source\r\n- Starts picking out some frame-grays, whilst commenting in possibles\r\n- Remove color prefixing\r\n\r\nThe prefixes `ui-` and `brand-` for colors hav been removed. This makes\r\ncolors slightly easier to type.\r\nIn order to differentiate between brand colors and 'normal' colors, normal\r\ncolors are named as 'true colors' i.e. blue, red, green etc etc\r\nwhereas the brand colors used a more premium sounding name such as\r\n'steel' for vault gray, 'magenta' for consul, 'cobalt' for vagrant etc etc.\r\n\r\n\r\n\r\n\r\n","author_name":"John Cowen","author_email":"johncowen@users.noreply.github.com"},{"hash":"c532e53d9a7688e9d7a4a664074c9d6cdd5479f9","date":"2018-11-19 14:47:20 +0000","message":"UI: dom usage refactoring (#4924)","refs":[],"body":"Move all the dom-things to use the dom service in tabular-collection, feedback-dialog, list-collection and node show. Move get-component-factory into utils/dom and use dom.root() in a few more places\r\n\r\nThis includes an additional `dom.components` method which gives you a\r\nlist of components matching the selector instead of just one.\r\n\r\n\r\n","author_name":"John Cowen","author_email":"johncowen@users.noreply.github.com"},{"hash":"104e6bac71d16c4e7009555764a34ac342694390","date":"2018-11-19 14:49:16 +0000","message":"UI: Move legacy ACLs to use the new searchables/changeable-sets (#4933)","refs":[],"body":"","author_name":"John Cowen","author_email":"johncowen@users.noreply.github.com"},{"hash":"4368040a4a8bc3c1b3d59bbd92112662227a7e36","date":"2018-11-19 14:53:08 +0000","message":"UI: Move legacy ACLs, KVs and Intentions to use `form` functionality (#4936)","refs":[],"body":"Change legacy acls, kvs and intentions to use `form`s\r\n","author_name":"John Cowen","author_email":"johncowen@users.noreply.github.com"},{"hash":"3780622df0ffbd2fd85e5c0d62df7a672922b766","date":"2018-11-19 14:54:40 +0000","message":"ui: Move intention source/destination menus use text from the template (#4938)","refs":[],"body":"","author_name":"John Cowen","author_email":"johncowen@users.noreply.github.com"},{"hash":"9ec7f3851be1daae82e275f16fd02d1d4c832285","date":"2018-11-19 14:57:22 +0000","message":"UI: Use buttons instead of anchors where appropriate (#4939)","refs":[],"body":"Use buttons instead of anchors where appropriate","author_name":"John Cowen","author_email":"johncowen@users.noreply.github.com"},{"hash":"f7d2651ac3d6ca170230adbc9e75595ad5823a41","date":"2018-11-19 14:58:08 +0000","message":"ui: Maintain http headers as JSON-API meta for all API requests (#4946)","refs":[],"body":"","author_name":"John Cowen","author_email":"johncowen@users.noreply.github.com"},{"hash":"7dc7d325dc7f9ac0e82e845c6125ede7272d182f","date":"2018-11-26 14:29:48 +0000","message":"ui: Fixup tests to expect the new `meta` property on listings (#4990)","refs":[],"body":"","author_name":"John Cowen","author_email":"johncowen@users.noreply.github.com"},{"hash":"7fc59af7e2709a2a9179977e829c811a59b81859","date":"2018-11-26 16:37:25 +0000","message":"ui: Pass GET data and clean certain values for KV's ensuring consistency (#4991)","refs":[],"body":"","author_name":"John Cowen","author_email":"johncowen@users.noreply.github.com"},{"hash":"845081e871afe1e099ae14493b42f1abc7a1efe6","date":"2018-12-04 17:01:59 +0000","message":"ui: Resolve bad rebase and add in KV test for change of GET for KVs (#5000)","refs":[],"body":"","author_name":"John Cowen","author_email":"johncowen@users.noreply.github.com"},{"hash":"acd121f988d6e0d1d36726296305161f1c1475f1","date":"2018-12-04 17:02:31 +0000","message":"ui: Rename extended Component variables, tweak some comments (#5021)","refs":[],"body":"","author_name":"John Cowen","author_email":"johncowen@users.noreply.github.com"},{"hash":"23a236ae95efe349ca75349e67ce6136fdb620eb","date":"2018-12-04 17:03:23 +0000","message":"ui: Adds warning flash messages (yellow with warning icon) (#5033)","refs":[],"body":"","author_name":"John Cowen","author_email":"johncowen@users.noreply.github.com"},{"hash":"338527cc2e5fa6cfeccdd4df4bfb7de62ee89e0f","date":"2018-12-04 17:04:01 +0000","message":"ui: Adds better error passthrough, disable/unauthorize properly on error (#5041)","refs":[],"body":"1. Ensure any unexpected developer errors are passed through/shown\r\n2. Previously when errors where returns/resolved the special\r\nisEnabled/isAuthorized would never get resolved. This was fine as they\r\nwere set to false to start with anyway, but this resolves them again to\r\nfalse for completeness\r\n3. Improved unit testing coverage","author_name":"John Cowen","author_email":"johncowen@users.noreply.github.com"},{"hash":"bf50beff42d07d0ff3fe94389f0d17f35dc9ac8d","date":"2018-12-04 17:04:44 +0000","message":"ui: Prefer `cursor` over `index`, add `configuration` option to repos (#5042)","refs":[],"body":"","author_name":"John Cowen","author_email":"johncowen@users.noreply.github.com"},{"hash":"ebfddaaace0a3b545d868bcf42840fb0bf11b6b4","date":"2018-12-04 17:05:03 +0000","message":"ui: ember-data AbortError should have a `0` status (#5048)","refs":[],"body":"","author_name":"John Cowen","author_email":"johncowen@users.noreply.github.com"},{"hash":"2920f73ddd81deb11fa1ea6e21c8a3ab2ea0ebb1","date":"2018-12-05 09:07:16 +0000","message":"ui: Adds `document` and `viewport` methods to the dom service (#5052)","refs":[],"body":"`window` and `document` are easily injected anyhow, but this\r\nprimarily this keeps everything dom related in the same place.\r\n\r\nIncluded here are changes to make all ember related objects use the dom\r\nservice `document` and `viewport` instead of just `document` and\r\n`window`.\r\n\r\nQuote from a previous PR (#4924) which explains the thinking around this:\r\n\r\n> Now I have all these things in the dom service, it would make sense\r\nto get window from there also. I was thinking of making a viewport\r\nmethod, which would be a nice word whether window was a browser window,\r\nan iframe (not really a window) like when ember testing, or anything\r\nelse. To me the viewport is what we are actually talking about here.","author_name":"John Cowen","author_email":"johncowen@users.noreply.github.com"},{"hash":"c71f718bc711ca5a512bfe5c5344be5e8da0858c","date":"2018-12-11 12:34:57 +0000","message":"ui: Adds controller lifecycle `reset` hook (#5056)","refs":[],"body":"","author_name":"John Cowen","author_email":"johncowen@users.noreply.github.com"},{"hash":"4d183ef743e0071b695a8746ba54775bfe5130ff","date":"2019-01-25 12:27:42 +0000","message":"ui: Adds 2 computed utilities, a factory and a purify (#5079)","refs":[],"body":"1. The factory is taken from the ember source, but makes it more\r\nreusable\r\n2. Purify converts conventional ember `computed` into a pure version\r\n\r\nThis commit only adds new files that could be used further down the line","author_name":"John Cowen","author_email":"johncowen@users.noreply.github.com"},{"hash":"516610eb0bbc6e54756762e9c7b1922e5cb64797","date":"2019-01-25 12:30:51 +0000","message":"ui: Adds XHR connection management to HTTP/1.1 installs (#5083)","refs":[],"body":"Adds xhr connection managment to http/1.1 installs\r\n\r\nThis includes various things:\r\n\r\n1. An object pool to 'acquire', 'release' and 'dispose' of objects, also\r\na 'purge' to completely empty it\r\n2. A `Request` data object, mainly for reasoning about the object better\r\n3. A pseudo http 'client' which doens't actually control the request\r\nitself but does help to manage the connections\r\n\r\nAn initializer is used to detect the script element of the consul-ui sourcecode\r\nwhich we use later to sniff the protocol that we are most likely using for API access\r\n","author_name":"John Cowen","author_email":"johncowen@users.noreply.github.com"},{"hash":"f225da36f1b7d798431fdab707a0d59f36f37a85","date":"2019-01-29 10:19:52 +0000","message":"ui: Correctly rebase own token/no delete change","refs":[],"body":"","author_name":"John Cowen","author_email":"jcowen@hashicorp.com"},{"hash":"cb0c5309c97cb974765c0b655de44705eadc41c0","date":"2019-02-21 10:36:15 +0000","message":"UI: Add EventSource ready for implementing blocking queries (#5070)","refs":[],"body":"- Maintain http headers as JSON-API meta for all API requests (#4946)\r\n- Add EventSource ready for implementing blocking queries\r\n- EventSource project implementation to enable blocking queries for service and node listings (#5267)\r\n- Add setting to enable/disable blocking queries (#5352)\r\n","author_name":"John Cowen","author_email":"johncowen@users.noreply.github.com"},{"hash":"cfa4bc264ef229d74a6408ba8ead62f313bf0fed","date":"2019-02-21 13:05:05 +0000","message":"UI: Add ember steps:list command for listing available steps (#5255)","refs":[],"body":"* ui: Add ember steps:list command for listing available steps\r\n\r\n1. Adds `command` addon to house the new command\r\n2. Start to organize out the steps themselves, bring a bit more order to\r\nthings ready to dedupe and cleanup\r\n","author_name":"John Cowen","author_email":"johncowen@users.noreply.github.com"},{"hash":"355f034822fe34bfe8b6db86eb20ccb986591280","date":"2019-02-21 13:10:53 +0000","message":"UI: Service Instances (#5326)","refs":[],"body":"This gives more prominence to 'Service Instances' as opposed to 'Services'. It also begins to surface Connect related 'nouns' such as 'Proxies' and 'Upstreams' and begins to interconnect them giving more visibility to operators.\r\n\r\nVarious smaller changes:\r\n\r\n1. Move healthcheck-status component to healthcheck-output\r\n2. Create a new healthcheck-status component for showing the number of\r\nchecks plus its icon\r\n3. Create a new healthcheck-info component to group multiple statuses\r\nplus a different view if there are no checks\r\n4. Componentize tag-list\r\n\r\n\r\n","author_name":"John Cowen","author_email":"johncowen@users.noreply.github.com"},{"hash":"8f35715e47208bb39516e084ff94087ebb518362","date":"2019-02-21 13:57:13 +0000","message":"UI: Service Numbers (#5348)","refs":[],"body":"Add totals to some listing views, remove healthcheck totals\r\n\r\n1. Adds markup to render totals for Services, Nodes, Intentions and v1\r\nACLs\r\n2. Removes counts from healthcheck filters, and therefore simplify text,\r\nmoving the copy to the templates\r\n3. Alter test to reflect the fact that the text of the buttons are no\r\nstatic in the component template rather than a dynamic attribute\r\n","author_name":"John Cowen","author_email":"johncowen@users.noreply.github.com"},{"hash":"18b0de2785e61b176855c44d45158763846b5cf7","date":"2019-02-21 16:25:20 +0000","message":"UI: Use custom block-slots for changeableset","refs":[],"body":"","author_name":"John Cowen","author_email":"jcowen@hashicorp.com"},{"hash":"11ccea88e16fa2d3fe2405778717dc0394dda8d8","date":"2019-03-07 10:19:48 +0100","message":"ui: Amend breakpoints for new numberless filter buttons (#5381)","refs":[],"body":"","author_name":"John Cowen","author_email":"johncowen@users.noreply.github.com"},{"hash":"20e1a39aef9e96e88e4669ca4d94c20219ded137","date":"2019-03-07 10:20:54 +0100","message":"ui: remove call to super in setupController (#5383)","refs":[],"body":"","author_name":"John Cowen","author_email":"johncowen@users.noreply.github.com"},{"hash":"5dd9cd2d2e3991425e1baef0431cb15226ad6803","date":"2019-03-07 11:51:39 +0100","message":"UI: Add forking based on service instance id existence (#5392)","refs":[],"body":"* ui: Add forking based on service instance id existence\r\n\r\nProxies come in 2 flavours, 'normal' and sidecar. We know when a proxy\r\nis a sidecar proxy based on whether a DestinationServiceID is set.\r\n\r\nLocalServiceAddress and LocalServicePort are only relevant for sidecar\r\nproxies.\r\n\r\nThis adds template logic to show different text depending on this\r\ninformation.\r\n\r\nAdditionally adds test around connect proxies (#5418)\r\n\r\n1. Adds page object for the instance detail page\r\n2. Adds further scenario steps used in the tests\r\n3. Adds acceptance testing around the instance detail page. Services\r\nwith proxies and the sidecar proxies and proxies themselves\r\n4. Adds datacenter column for upstreams\r\n5. Fixes bug routing bug for decision as to whether to request proxy\r\ninformation or not\r\n","author_name":"John Cowen","author_email":"johncowen@users.noreply.github.com"},{"hash":"3d7654029753081062b16934edf724cfd36bc862","date":"2019-03-21 15:46:12 +0000","message":"ui: Fix erroneous HTML that was being fixed by either browser/ember (#5530)","refs":[],"body":"The resulting DOM from this template was actually correct, we'd assume\r\nit was being fixed by the browser","author_name":"John Cowen","author_email":"johncowen@users.noreply.github.com"},{"hash":"10c1f29ffaca65e88a95ee470b77e4759007590a","date":"2019-03-22 17:01:10 +0000","message":"ui: Add proxy icons to proxy services and instances where appropriate (#5463)","refs":[],"body":"","author_name":"John Cowen","author_email":"johncowen@users.noreply.github.com"},{"hash":"83cd4684c6b575ca9a12de670784540935a57681","date":"2019-03-22 17:08:18 +0000","message":"UI: Amends blocking queries text and toggle component in settings (#5467)","refs":[],"body":"","author_name":"John Cowen","author_email":"johncowen@users.noreply.github.com"},{"hash":"e2df5de795de875ba287d716d37d752777b6c45e","date":"2019-03-22 17:09:27 +0000","message":"UI: Add blocking cursor validation and more straightforward throttle (#5470)","refs":[],"body":"More recommendations for blocking queries clients was added here:\r\n\r\nhttps://github.com/hashicorp/consul/pull/5358\r\n\r\nThis commit mainly adds cursor/index validation/correction based on\r\nthese recommendations (plus tests)\r\n\r\nThe recommendations also suggest that clients should include rate\r\nlimiting. Because of this, we've moved the throttling out of Consul UI\r\nspecific code and into Blocking Query specific code. Currently the 'rate\r\nlimiting' in this commit only adds a sleep to every iteration of the\r\nloop, which is not the recommended approach, but the code here organizes\r\nthe throttling functionality into something we can work with later to\r\nprovide something more apt.\r\n","author_name":"John Cowen","author_email":"johncowen@users.noreply.github.com"},{"hash":"9daf8f53d96beb000d52a09b1c044eaeb1f88b9c","date":"2019-03-22 17:10:33 +0000","message":"ui: Adds blocking query support to the service detail page (#5479)","refs":[],"body":"This commit includes several pieces of functionality to enable services\r\nto be removed and the page to present information that this has happened\r\nbut also keep the deleted information on the page. Along with the more\r\nusual blocking query based listing.\r\n\r\nTo enable this:\r\n\r\n1. Implements `meta` on the model (only available on collections in\r\nember)\r\n2. Adds new `catchable` ComputedProperty alongside a `listen` helper for\r\nworking with specific errors that can be thrown from EventSources in an\r\nember-like way. Briefly, normal computed properties update when a\r\nproperty changes, EventSources can additionally throw errors so we can\r\ncatch them and show different visuals based on that.","author_name":"John Cowen","author_email":"johncowen@users.noreply.github.com"},{"hash":"a14a37a078b55f17173937eb56c05d93d81adcf6","date":"2019-03-22 17:24:40 +0000","message":"UI: Add support for blocking queries on the service instance detail page (#5487)","refs":[],"body":"This commit includes several pieces of functionality to enable services\r\nto be removed and the page to present information that this has happened\r\nbut also keep the deleted information on the page. Along with the more\r\nusual blocking query based listing.\r\n\r\nTo enable this:\r\n\r\n1. Implements `meta` on the model (only available on collections in\r\nember)\r\n2. Adds new `catchable` ComputedProperty alongside a `listen` helper for\r\nworking with specific errors that can be thrown from EventSources in an\r\nember-like way. Briefly, normal computed properties update when a\r\nproperty changes, EventSources can additionally throw errors so we can\r\ncatch them and show different visuals based on that.\r\n\r\nAlso:\r\n\r\nAdd support for blocking queries on the service instance detail page\r\n\r\n1. Previous we could return  undefined when a service instance has no\r\nproxy, but this means we have nothing to attach `meta` to. We've changed\r\nthis to return an almost empty object, so with only a meta property.\r\nAt first glance there doesn't seem to be any way to provide a proxy\r\nobject to templates and be able to detect whether it is actually null\r\nor not so we instead change some conditional logic in the templates to\r\ndetect the property we are using to generate the anchor.\r\n2. Made a `pauseUntil` test helper function for steps where we wait for\r\nthings. This helps for DRYness but also means if we can move away from\r\nsetInterval to something else later, we can do it in one place\r\n3. Whilst running into point 1 here, we managed to make the blocking\r\nqueries eternally loop. Whilst this is due to an error in the code and\r\nshouldn't ever happen whilst in actual use, we've added an extra check\r\nso that we only recur/loop the blocking query if the previous response has a\r\n`meta.cursor`\r\n\r\nAdds support for blocking queries on the node detail page (#5489)\r\n\r\n1. Moves data re-shaping for the templates variables into a repository\r\nso they are easily covered by blocking queries (into coordinatesRepo)\r\n2. The node API returns a 404 as signal for deregistration, we also\r\nclose the sessions and coordinates blocking queries when this happens\r\n","author_name":"John Cowen","author_email":"johncowen@users.noreply.github.com"},{"hash":"4a9d259304cd181026a8cd2fe43757fe1ab84b5d","date":"2019-03-25 14:20:59 +0000","message":"ui: Remove index.html from the docs URL so we just point to `/docs` (#5547)","refs":[],"body":"","author_name":"John Cowen","author_email":"johncowen@users.noreply.github.com"},{"hash":"a7c479e0739ba7a4599e5ccda81ef53cec3ee3ad","date":"2019-04-08 11:15:46 +0100","message":"ui: Increases the pause between blocking queries to 2000ms (#5582)","refs":[],"body":"...also:\r\n\r\nTemporarily overwrites native setTimeout and setInterval for e2e/acceptance\r\ntesting similar to how XHR is overwritten for e2e/acceptance testing.\r\n\r\nThis makes the blocking query acceptance tests run faster until we add a\r\nbetter burstable rate limiter for blocking queries.","author_name":"John Cowen","author_email":"johncowen@users.noreply.github.com"},{"hash":"255528aaa70b957511faa19b832ef3cc8bbe301b","date":"2019-04-08 11:16:24 +0100","message":"ui: Adds _super in places where it had been missed (mainly dom-buffer) (#5583)","refs":[],"body":"","author_name":"John Cowen","author_email":"johncowen@users.noreply.github.com"},{"hash":"417d3030bedcc1cce9575ef66bd3e9f9850f2dd2","date":"2019-04-08 11:17:30 +0100","message":"ui: Adds uid to tabular-details for/id's used in toggling for uniqueness (#5584)","refs":[],"body":"","author_name":"John Cowen","author_email":"johncowen@users.noreply.github.com"},{"hash":"cbded4a10a3c184e3d2a878ebb6b147dae0a1033","date":"2019-04-08 11:18:55 +0100","message":"ui: Improvements to modal-dialog (#5585)","refs":[],"body":"1. If the modal gets bigger than 80% of the viewport height a scrollbar\r\nwill be shown. Currently there isn't anywhere it can get this big, but\r\nfuture work involves possible larger modals\r\n2. Usually its difficult to figure out which was the 'unchecked' radio\r\nbutton using an onchange event. Luckily ember/handlebars changes its\r\nproperties after the onchange event, so knowing that and using an extra\r\ndata-checked attribute set via ember, we can figure out which radio\r\nbutton has been 'unchecked'. This means the logic for opening an\r\nclosing modals becomes slightly easier","author_name":"John Cowen","author_email":"johncowen@users.noreply.github.com"},{"hash":"6474cec99ce5c2a04eb62577ebf9ee9533ed07c9","date":"2019-04-08 11:19:31 +0100","message":"ui: Alter resizing for tabular-collection for sizing based on rows (#5586)","refs":[],"body":"","author_name":"John Cowen","author_email":"johncowen@users.noreply.github.com"},{"hash":"e5d59f1dd307e1a3a5656379c65f7b7f022b4685","date":"2019-04-17 09:21:31 +0100","message":"ui: Fixes RTT display, by ensuring use of ember proxies in tomography (#5666)","refs":[],"body":"Previously the tomography wasn't using ember `get` so proxy updates\r\n(specifically here whilst receiving a blocking update) wasn't working.\r\n\r\nThis adds `get` here until we update to newer `get`less ember and also\r\nrefactors slightly removing `n` and using `distance.length` instead\r\n\r\nSkipped tests are adding here to nag us to come back here at some point.\r\n","author_name":"John Cowen","author_email":"johncowen@users.noreply.github.com"},{"hash":"21732d57a84ff50caf27be2de4ab6f361a495ee4","date":"2019-04-17 09:21:54 +0100","message":"ui: Closes the proxy blocking query for the service instance on dereg (#5667)","refs":[],"body":"If a service instance show page is being viewed and the service instance\r\nis deregistered, this closes the blocking query for the proxy as well as\r\nthe instance (the instances query will be clsed on the error)\r\n\r\nAlso adds skipped tests to nag in future","author_name":"John Cowen","author_email":"johncowen@users.noreply.github.com"},{"hash":"cbbfaba6acbc0e04ee5ef589375659da645d6336","date":"2019-04-17 09:25:08 +0100","message":"ui: Adds easily accessible `env` for user settable 'debug' settings (#5668)","refs":[],"body":"This is a synchronous only 'debug' setting accessor, uses localStorage\r\nfirst and falls back to ember config.","author_name":"John Cowen","author_email":"johncowen@users.noreply.github.com"},{"hash":"eeb7a858e2e22219cb091507cf5700614575be34","date":"2019-04-30 18:54:28 +0100","message":"ui: Search improvements (#5540)","refs":[],"body":"* ui: Replaces Service listing filterbar with a phrase-editor search (#5507)\r\n\r\n1. New phrase-editor restricting search to whole phrases (acts on\r\nenter key). Allows removal of previously entered phrases\r\n2. Searching now allows arrays of terms, multiple terms work via AND\r\n","author_name":"John Cowen","author_email":"johncowen@users.noreply.github.com"},{"hash":"482426b13efd5aa66bf174be254fe3e9ecaa3bde","date":"2019-05-01 19:09:29 +0100","message":"UI: ACL Roles (#5635)","refs":[],"body":"Adds support for ACL Roles and Service Identities CRUD, along with necessary changes to Tokens, and the CSS improvements required.\r\n\r\nAlso includes refinements/improvements for easier testing of deeply nested components.\r\n\r\n1. ember-data adapter/serializer/model triplet for Roles\r\n2. repository, form/validations and searching filter for Roles\r\n3. Moves potentially, repeated, or soon to to repeated functionality\r\ninto a mixin (mainly for 'many policy' relationships)\r\n4. A few styling tweaks for little edge cases around roles\r\n5. Router additions, Route, Controller and templates for Roles\r\n\r\nAlso see: \r\n\r\n* UI: ACL Roles cont. plus Service Identities (#5661 and #5720)\r\n\r\n\r\n","author_name":"John Cowen","author_email":"johncowen@users.noreply.github.com"},{"hash":"d88b2d41506daeab52bf97cb54091b0deb5bc6cb","date":"2019-05-01 19:19:43 +0100","message":"ui: dashboard links (#5704)","refs":[],"body":"This PR adds a new {{template-anchor}} component. This component lets you specify a 'href template' in a handlebars like format instead of a normal string href. This template will be interpolated with the contents of a vars=\"\" attribute.\r\n\r\nAlso contains code to add an extra UI Setting to be able to store a template to be used for this anchor in localStorage\r\n\r\n","author_name":"John Cowen","author_email":"johncowen@users.noreply.github.com"},{"hash":"7eda188382515b9e2c0d2331eb9041684a6fcec9","date":"2019-05-01 19:01:03 +0000","message":"ui: Re-fix old erroneous link","refs":[],"body":"","author_name":"John Cowen","author_email":"jcowen@hashicorp.com"},{"hash":"e971d217164d0da36faa221ce5b588845bdc725e","date":"2019-05-01 19:01:32 +0000","message":"ui: Fix CSS related to icons and h2 changes done in different PRs","refs":[],"body":"The way icons are positioned was changed to enable icons for policy\nnames, and in a separate PR h2's where altered to provide a nicer\nlooking settings page. Once these PR's where merged together they\nslighly effected each other. This commit tweaks the CSS to refine, but\nwill be revisted at a later date\n","author_name":"John Cowen","author_email":"jcowen@hashicorp.com"},{"hash":"e31c285565177a3221e3cad712a10b07f1837422","date":"2019-05-01 20:48:14 +0100","message":"Merge pull request #5729 from hashicorp/ui-staging","refs":[],"body":"UI: ui-staging merge","author_name":"John Cowen","author_email":"johncowen@users.noreply.github.com"},{"hash":"c649243f7c29d9e737cabf554d787a2482f65f0f","date":"2019-05-01 16:11:23 -0500","message":"docs: add documentation for all secure acl introduction work (#5640)","refs":[],"body":"","author_name":"R.B. Boyer","author_email":"rb@hashicorp.com"},{"hash":"af3d20b1bd75b582231e989e3484cd6299ce3ee1","date":"2019-05-01 14:35:52 -0700","message":"Add documentation for Serf member telemetry metrics","refs":[],"body":"","author_name":"Tyler Ryan","author_email":"tryan225@users.noreply.github.com"},{"hash":"bf2bcef53af24216fdc676ae2825ca56c17358b2","date":"2019-05-01 17:16:30 -0500","message":"Update documentation for clarity","refs":[],"body":"","author_name":"Sarah Christoff","author_email":"sarah.christoff13@gmail.com"},{"hash":"0cfb6051ea906a50bc315393ba7c98950be1fc17","date":"2019-05-02 00:39:31 +0100","message":"Add integration test for central config; fix central config WIP (#5752)","refs":[],"body":"* Add integration test for central config; fix central config WIP\r\n\r\n* Add integration test for central config; fix central config WIP\r\n\r\n* Set proxy protocol correctly and begin adding upstream support\r\n\r\n* Add upstreams to service config cache key and start new notify watcher if they change.\r\n\r\nThis doesn't update the tests to pass though.\r\n\r\n* Fix some merging logic get things working manually with a hack (TODO fix properly)\r\n\r\n* Simplification to not allow enabling sidecars centrally - it makes no sense without upstreams anyway\r\n\r\n* Test compile again and obvious ones pass. Lots of failures locally not debugged yet but may be flakes. Pushing up to see what CI does\r\n\r\n* Fix up service manageer and API test failures\r\n\r\n* Remove the enable command since it no longer makes much sense without being able to turn on sidecar proxies centrally\r\n\r\n* Remove version.go hack - will make integration test fail until release\r\n\r\n* Remove unused code from commands and upstream merge\r\n\r\n* Re-bump version to 1.5.0\r\n","author_name":"Paul Banks","author_email":"banks@banksco.de"},{"hash":"446abd7aa2db3bbcf98da1cb021705423db89253","date":"2019-05-02 12:53:06 +0100","message":"Make central conf test work when run in a suite. (#5767)","refs":[],"body":"* Make central conf test work when run in a suite.\r\n\r\nThis switches integration tests to hard restart Consul each time which causes less surpise when some tests need to set configs that don't work on consul reload. This also increases the isolation and repeatability of the tests by dropping Consul's state entirely for each case run.\r\n\r\n* Remove aborted attempt to make restart optional.\r\n","author_name":"Paul Banks","author_email":"banks@banksco.de"},{"hash":"8f5b16ebaf9e641436da3ea2c1740ed57c110af6","date":"2019-05-02 14:11:33 +0100","message":"Fix uint8 conversion issues for service config response maps.","refs":[],"body":"","author_name":"Paul Banks","author_email":"banks@banksco.de"},{"hash":"6c81f9da0d7f85011e23dd4243ff7b5b6b00189f","date":"2019-05-02 14:12:21 +0100","message":"Fix panic in Resolving service config when proxy-defaults isn't defined yet (#5769)","refs":[],"body":"","author_name":"Paul Banks","author_email":"banks@banksco.de"},{"hash":"6a58527cd866ef62cca4f132fefa2c596b368777","date":"2019-05-02 15:49:37 +0100","message":"Fix previous accidental master push :facepalm: (#5771)","refs":[],"body":"* Fix previous accidental master push :facepalm:\r\n\r\n* Fix ACL test\r\n","author_name":"Paul Banks","author_email":"banks@banksco.de"},{"hash":"feb8e43e3c5849124cd8dcd87a4c44f2e5cb712e","date":"2019-05-02 10:06:51 -0700","message":"[docs] Guide migration - index, menu, redirects (#5761)","refs":[],"body":"* modify guide index to point to learn\r\n\r\n* adding to the redirects is a wip, updated the side navigation.\r\n\r\n* add tracks to list\r\n\r\n* Fixing redirects\r\n\r\n* Update website/source/docs/guides/index.html.md\r\n\r\nCo-Authored-By: judithpatudith <judith@hashicorp.com>\r\n\r\n* Update website/source/docs/guides/index.html.md\r\n\r\nCo-Authored-By: judithpatudith <judith@hashicorp.com>\r\n\r\n* Update website/source/docs/guides/index.html.md\r\n\r\nCo-Authored-By: judithpatudith <judith@hashicorp.com>\r\n\r\n* Update website/source/docs/guides/index.html.md\r\n\r\nCo-Authored-By: judithpatudith <judith@hashicorp.com>\r\n\r\n* finish out track listings\r\n\r\n* finishing redirects.\r\n\r\n* change advanced language to production, add relationship of guides and docs\r\n\r\n* Update website/source/redirects.txt\r\n\r\nCo-Authored-By: judithpatudith <judith@hashicorp.com>\r\n","author_name":"Judith Malnick","author_email":"judith@hashicorp.com"},{"hash":"6f9dcb458b58824c64d1b18037f9fa98e70b8080","date":"2019-05-02 12:29:20 -0500","message":"docs: add an overview section for the auth method docs (#5772)","refs":[],"body":"","author_name":"R.B. Boyer","author_email":"rb@hashicorp.com"},{"hash":"71c0db422965034a9092bab90c6a2da14f1e83bc","date":"2019-05-02 12:07:18 +0100","message":"ui: URL encodes any varaibles interpolated into the template... (#5766)","refs":[],"body":"Encodes any variables passed in to be used for template interpolation, but importantly nothing else in the URL apart from the variables themselves. 'Generally' service names are reasonably URL safe, but we know of usecases using at least /s in service names.","author_name":"John Cowen","author_email":"johncowen@users.noreply.github.com"},{"hash":"999426794f24a603327c432b5fb83ceff34ac2f4","date":"2019-05-02 14:35:42 +0100","message":"ui: Adds {{Datacenter}} keyword for URL template interpolation (#5768)","refs":[],"body":"1. Includes Datacenter variable for intperolation\r\n2. Amends text on the Settings page to reflect new keyword\r\n3. Adds further acceptance testing around the new dashboard buttons","author_name":"John Cowen","author_email":"johncowen@users.noreply.github.com"},{"hash":"0ac6b6fabacfde9bd66d736376a5fe67bb95ad34","date":"2019-05-02 14:43:54 -0400","message":"Fix up the MapWalk function so that it properly handles nested map[interface{}]interface{} (#5774)","refs":[],"body":"","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"1452f4df337054b9101830b76880da36bc2add46","date":"2019-05-02 15:11:39 -0400","message":"bump hashicorp/yamux (#5776)","refs":[],"body":"* bump hashicorp/yamux\r\n\r\n* go mod tidy to remove older yamux\r\n","author_name":"Alvin Huang","author_email":"alvin@hashicorp.com"},{"hash":"42d32db817b85a871d7fe6531d468ff885279440","date":"2019-05-02 15:25:29 -0400","message":"Fix ConfigEntryResponse binary marshaller and ensure we watch the chan in ConfigEntry.Get even when no entry exists. (#5773)","refs":[],"body":"","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"b4371bcccd2cfa804dd161b5915eb4dce80655e3","date":"2019-05-02 15:02:21 -0500","message":"acl: enforce that you cannot persist tokens and roles with missing links except during replication (#5779)","refs":[],"body":"","author_name":"R.B. Boyer","author_email":"rb@hashicorp.com"},{"hash":"c2e6431a20853001059abf9eb9a35180063398b7","date":"2019-05-02 13:49:20 -0700","message":"[docs] fix kubernetes operations anchor link (#5775)","refs":[],"body":"* fix kubernetes operations anchor link\r\n\r\n* replace anchor links with cta to learn\r\n","author_name":"Judith Malnick","author_email":"judith.patudith@gmail.com"},{"hash":"277f73400b746b6c287d19e5076e38df7bba3405","date":"2019-05-02 16:59:29 -0500","message":"Merge pull request #5757 from hashicorp/consulPrefix","refs":[],"body":"Update Helm Docs with consulPrefix","author_name":"Sarah Christoff","author_email":"sarah.christoff13@gmail.com"},{"hash":"7b0d3e550be069a8c955a72d2872104126bd592c","date":"2019-05-02 19:59:48 -0400","message":"[docs] New guide listing common error messages and what to do about them (#5433)","refs":[],"body":"* New guide listing common error messages and what to do about them\r\n\r\n* Pasted in updates from StackPad edit\r\n\r\n* Update website/source/docs/guides/common-errors.md\r\n\r\nCo-Authored-By: tradel <todd@radel.us>\r\n\r\n* Update website/source/docs/guides/common-errors.md\r\n\r\nCo-Authored-By: tradel <todd@radel.us>\r\n\r\n* Update website/source/docs/guides/common-errors.md\r\n\r\nCo-Authored-By: tradel <todd@radel.us>\r\n\r\n* add subheadings in config file errors, move doc out of guides\r\n","author_name":"Todd Radel","author_email":"todd@hashicorp.com"},{"hash":"fc14703a18b4be7f9e8a40383476a675dc955849","date":"2019-05-03 09:54:01 +0100","message":"Merge pull request #5777 from hashicorp/ui-staging","refs":[],"body":"ui: Dashboard URL refinements","author_name":"John Cowen","author_email":"johncowen@users.noreply.github.com"},{"hash":"a37d6aaac2f0715bc634f7d374fb2f827e5b396e","date":"2019-05-03 11:39:32 +0100","message":"ui: Don't look for isDescriptor on null (related to null proxies) (#5782)","refs":[],"body":"","author_name":"John Cowen","author_email":"johncowen@users.noreply.github.com"},{"hash":"677e3d89e2809a8dca0c9cd7ce51e90317819128","date":"2019-05-03 11:51:48 +0100","message":"ui: Upgrades the indirect dependency on jQuery to ^3.4.0 (#5783)","refs":[],"body":"","author_name":"John Cowen","author_email":"johncowen@users.noreply.github.com"},{"hash":"20eefeea117dcd23e30dab942acd2cf007024d9e","date":"2019-05-03 14:22:44 -0500","message":"acl: a role binding rule for a role that does not exist should be ignored (#5778)","refs":[],"body":"I wrote the docs under this assumption but completely forgot to actually\r\nenforce it.","author_name":"R.B. Boyer","author_email":"rb@hashicorp.com"},{"hash":"dbf0a0f6c0d604ae90845b941582a0b6f75678cb","date":"2019-05-06 12:09:59 -0400","message":"Copy the proxy config instead of direct assignment (#5786)","refs":[],"body":"This prevents modifying the data in the state store which is supposed to be immutable.","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"0f686687b21f4b7bf7eb79c8f9ab139d33492b5c","date":"2019-05-06 11:57:31 -0500","message":"docs: adding note about enabling acl token replication for auth methods (#5792)","refs":[],"body":"","author_name":"R.B. Boyer","author_email":"rb@hashicorp.com"},{"hash":"3a064c0955ddc51be09498f06677d02e1d004f9b","date":"2019-05-06 15:11:06 -0500","message":"docs: tweak wording about service identities (#5794)","refs":[],"body":"","author_name":"R.B. Boyer","author_email":"rb@hashicorp.com"},{"hash":"7d178ca26bbffacf403e2f6b342dcd15177777d3","date":"2019-05-06 16:57:43 -0500","message":"redirecting the containers guide until its complete (#5790)","refs":[],"body":"","author_name":"kaitlincarter-hc","author_email":"43049322+kaitlincarter-hc@users.noreply.github.com"},{"hash":"dbc48ea3f7c725c4f0b359752c734f62e78517c9","date":"2019-05-07 06:15:49 -0400","message":"Fixes race condition in Agent Cache (#5796)","refs":[],"body":"* Fix race condition during a cache get\r\n\r\nCheck the entry we pulled out of the cache while holding the lock had Fetching set.\r\nIf it did then we should use the existing Waiter instead of calling fetch. The reason\r\nthis is better than just calling fetch is that fetch re-gets the entry out of the\r\nentries map and the previous fetch may have finished. Therefore this prevents\r\nerroneously starting a new fetch because we just missed the last update.\r\n\r\n* Fix race condition fully\r\n\r\nThe first commit still allowed for the following scenario:\r\n\r\n• No entry existing when checked in getWithIndex while holding the read lock\r\n• Then by time we had reached fetch it had been created and finished.\r\n\r\n* always use ok when returning\r\n\r\n* comment mentioning the reading from entries.\r\n\r\n* use cacheHit consistently\r\n","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"7fe59e08180202fde56ac8f8d2206a7960d8a8cb","date":"2019-05-07 11:43:18 +0100","message":"Update CHANGELOG.md","refs":[],"body":"","author_name":"Paul Banks","author_email":"banks@banksco.de"},{"hash":"8460badbf3afeb47a37c3d848d7ae0874f2d6a45","date":"2019-05-07 14:07:52 +0100","message":"Update CHANGELOG.md","refs":[],"body":"","author_name":"John Cowen","author_email":"johncowen@users.noreply.github.com"},{"hash":"77ebad1b5eb5aa9fa60cb65dd03b1e70ce20c8fe","date":"2019-05-07 14:09:23 +0100","message":"ui: Make the Rules readonly when creating ServiceIdentities (#5784)","refs":[],"body":"Skipped test added for nagging for the moment","author_name":"John Cowen","author_email":"johncowen@users.noreply.github.com"},{"hash":"119bd023683613ac45cd3feaa45a04adac91ccee","date":"2019-05-07 14:09:57 +0100","message":"ui: Uses the default cursor instead of a pointer for upstream rows (#5785)","refs":[],"body":"","author_name":"John Cowen","author_email":"johncowen@users.noreply.github.com"},{"hash":"19f44cd1cce4a658dfaec9245b3f708c7deec118","date":"2019-05-07 10:13:07 -0400","message":"remove container after docker run exits (#5798)","refs":[],"body":"","author_name":"Alvin Huang","author_email":"alvin@hashicorp.com"},{"hash":"c24c73bc594224f43e84669fd46bd7dabd97307c","date":"2019-05-07 09:15:34 -0600","message":"Do not trigger update check when in dev mode","refs":[],"body":"","author_name":"Freddy","author_email":"freddygv@users.noreply.github.com"},{"hash":"95d44e01100febd45a04f962058c741230ca983b","date":"2019-05-07 11:40:48 -0400","message":"Allow MapWalk to handle []interface{} elements that are []uint8 (#5800)","refs":[],"body":"* Allow MapWalk to handle []interface{} elements that are []uint8\r\n\r\n* Ensure ints are left alone.\r\n","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"3a6935aa18cac1fde6dd27e709ad51584c86c48a","date":"2019-05-07 12:32:57 -0400","message":"Merge pull request #5758 from hashicorp/f-consul-upgrade","refs":[],"body":"Update to Consul Upgrading Doc","author_name":"Chip Vaughn","author_email":"chip@hashicorp.com"},{"hash":"b64bda880843afaaf44591c3200f921626716849","date":"2019-05-07 14:27:30 -0500","message":"[docs] ACL Legacy Docs (#5625)","refs":[],"body":"* updating the acl legacy doc\r\n\r\n* Updatine ACLs based on PR #5002\r\n","author_name":"kaitlincarter-hc","author_email":"43049322+kaitlincarter-hc@users.noreply.github.com"},{"hash":"614ac96fa6e5f17f99e24b4e7f5ba3b36d68d05c","date":"2019-05-08 09:59:26 +0100","message":"ui: Make the proxy icon full size in service listings (#5799)","refs":[],"body":"","author_name":"John Cowen","author_email":"johncowen@users.noreply.github.com"},{"hash":"249dcaf6cd1a25cebfa522f35ac7cc61d289282f","date":"2019-05-08 09:59:57 +0100","message":"ui: Ensure room for non-hidden scrollbars (#5802)","refs":[],"body":"","author_name":"John Cowen","author_email":"johncowen@users.noreply.github.com"},{"hash":"727fddcae300c869b6f9f2a58343736f9fdeeba5","date":"2019-05-08 10:00:23 +0100","message":"ui: Remove old 'default' template keyword, we now use '' for default (#5805)","refs":[],"body":"","author_name":"John Cowen","author_email":"johncowen@users.noreply.github.com"},{"hash":"7e2c66ad12f91ffe1b589c3939072bbcba4aea5e","date":"2019-05-08 10:01:26 +0100","message":"ui: fix production build only empty role modal (#5806)","refs":[],"body":"Adds the ability for multiple components to use the same dom buffer\r\n","author_name":"John Cowen","author_email":"johncowen@users.noreply.github.com"},{"hash":"793f0747c6a6e5996abcb77750178a0955cb48fd","date":"2019-05-08 10:02:09 +0100","message":"ui: Gives the minimal in-form token list use a maximum row size (#5807)","refs":[],"body":"This means its more straightforwards to calculate the height of the\r\nlisting itself. This component is currently only used on the form pages for tokens and roles, should therefore be a restricted size.","author_name":"John Cowen","author_email":"johncowen@users.noreply.github.com"},{"hash":"549dd870353ef84a18e4db5dbb97860ae24984b5","date":"2019-05-08 16:21:24 +0200","message":"update changelog ui (#5812)","refs":[],"body":"","author_name":"Hans Hasselberg","author_email":"me@hans.io"},{"hash":"d22ac2a5c2bd147f75e0981fb5641af33bdbec95","date":"2019-05-08 11:09:12 -0500","message":"[docs] WIP ports page (#5693)","refs":[],"body":"* Updating ports information to be consistent accross docs.\r\n\r\n* adding some extra notes based on feedback\r\n","author_name":"kaitlincarter-hc","author_email":"43049322+kaitlincarter-hc@users.noreply.github.com"},{"hash":"077d70ff44b1ebad4b50d359b6f5ab7756884c5b","date":"2019-05-08 17:12:16 +0100","message":"ui: Previously we were passing through 'fake' events, revert to real.. (#5810)","refs":[],"body":"Previously we were creating a fake event and amending the name of the\r\nfake event, this meant that other `event.target` properties weren't\r\nbeing passed through (in this instance `checked`) this changes the\r\napproach to not use fake events, and allows you to overwrite the name\r\nthat the form uses for `handleEvent`\r\n\r\n","author_name":"John Cowen","author_email":"johncowen@users.noreply.github.com"},{"hash":"cf299ae6ede150c07d595630b70a6423afa3b681","date":"2019-05-08 10:25:29 -0700","message":"Update CHANGELOG.md","refs":[],"body":"","author_name":"Jack Pearkes","author_email":"jackpearkes@gmail.com"},{"hash":"e1589f018de5faa04b637f2f1d8d33c793f19248","date":"2019-05-08 13:27:31 -0400","message":"Update CHANGELOG.md","refs":[],"body":"","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"9ab69a885a957c3f78cf15655e79a67ca63286d1","date":"2019-05-08 10:28:17 -0700","message":"Update CHANGELOG.md","refs":[],"body":"","author_name":"Jack Pearkes","author_email":"jackpearkes@gmail.com"},{"hash":"ab02885969985fad15b5ad81f0d27f49f245b497","date":"2019-05-08 13:36:40 -0400","message":"Update CHANGELOG.md","refs":[],"body":"","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"6abe00cb2c8a3298794a7a9a67815937bd56ed63","date":"2019-05-08 10:38:17 -0700","message":"Update CHANGELOG.md","refs":["tag: sdk/v0.1.1"],"body":"","author_name":"Jack Pearkes","author_email":"jackpearkes@gmail.com","tag":"sdk/v0.1.1"},{"hash":"cc9bcccc73b73cfbc4b83fe8b3e42145d370a171","date":"2019-05-08 13:18:12 -0500","message":"api: bump sdk version to v0.1.1","refs":[],"body":"","author_name":"R.B. Boyer","author_email":"rb@hashicorp.com"},{"hash":"b2478036d88a7e8eb9d6a0daf1a1c9ad0c8885ca","date":"2019-05-08 13:26:07 -0500","message":"api: go mod tidy","refs":["tag: api/v1.1.0"],"body":"","author_name":"R.B. Boyer","author_email":"rb@hashicorp.com","tag":"api/v1.1.0"},{"hash":"9aa5c6de0de8adf483a3ee357b60caf76966887a","date":"2019-05-08 13:32:07 -0500","message":"bump versions of api and sdk","refs":[],"body":"","author_name":"R.B. Boyer","author_email":"rb@hashicorp.com"},{"hash":"34eff659dcc5503b6eb117733c9f7def63f01bad","date":"2019-05-08 18:34:08 +0000","message":"Release v1.5.0","refs":["tag: v1.5.0"],"body":"","author_name":"Jack Pearkes","author_email":"jackpearkes@gmail.com","tag":"v1.5.0"},{"hash":"5d5a406a5ffc97b01021004bcc3bf85428051dab","date":"2019-05-08 12:39:19 -0700","message":"Putting source back into Dev Mode","refs":[],"body":"","author_name":"Jack Pearkes","author_email":"jackpearkes@gmail.com"},{"hash":"c4973a63f331e3554dcc90a21635361209fa4834","date":"2019-05-08 16:19:37 -0400","message":"Add some config entry docs (#5808)","refs":[],"body":"* Add some config entry docs\r\n\r\n* Update website/source/docs/agent/config_entries.html.md\r\n\r\nCo-Authored-By: mkeeler <mkeeler@users.noreply.github.com>\r\n\r\n* Update website/source/docs/agent/config_entries.html.md\r\n\r\nCo-Authored-By: mkeeler <mkeeler@users.noreply.github.com>\r\n\r\n* Get rid of double negative\r\n\r\n* Some incremental updates\r\n\r\n* Update the config list docs to not point to service-default related things.\r\n\r\n* A few more doc updates to get rid of some service-defaults specific linking info in the cli docs\r\n\r\n* In progress update\r\n\r\n* Update website/source/docs/agent/config_entries.html.md\r\n\r\nCo-Authored-By: mkeeler <mkeeler@users.noreply.github.com>\r\n\r\n* Reword bootstrap section\r\n\r\n* Update example proxy-defaults config\r\n\r\n* Finish up the examples section for managing config entries with the CLI\r\n\r\n* Update website/source/docs/agent/config_entries.html.md\r\n\r\nCo-Authored-By: mkeeler <mkeeler@users.noreply.github.com>\r\n\r\n* Use $ for shell command start\r\n\r\n* Make it very clear that the normal way to manage things is via the API/CLI\r\n\r\n* Update website/source/docs/agent/options.html.md\r\n\r\nCo-Authored-By: mkeeler <mkeeler@users.noreply.github.com>\r\n","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"5a67ee72d0186c0fb80c9aba3c195d9f51f72702","date":"2019-05-08 22:03:53 +0100","message":"Envoy L7 config docs (#5809)","refs":[],"body":"* WIP\r\n\r\n* Document all the new Envoy L7 configs\r\n\r\n* Apply suggestions from code review\r\n\r\nCo-Authored-By: banks <banks@banksco.de>\r\n\r\n* Rewrite dynamic config and add in TODO links\r\n","author_name":"Paul Banks","author_email":"banks@banksco.de"},{"hash":"d4ebbe064d166027f6e30f4682173b71eedcd79b","date":"2019-05-08 16:49:51 -0700","message":"website: update to 1.5 on homepage link (#5817)","refs":[],"body":"","author_name":"Jack Pearkes","author_email":"jackpearkes@gmail.com"},{"hash":"5508fd164cae4d1fad303805f96feca327f4d0be","date":"2019-05-09 14:55:06 -0500","message":"[docs] Updated Landing Page (#5803)","refs":[],"body":"* Updating docs landing page since all the guides have moved\r\n\r\n* fixing line wrap\r\n\r\n* Giving the docs landing page content with CTAs\r\n\r\n* Updated the language for the config and learn boxes\r\n\r\n* fixing spacing\r\n","author_name":"kaitlincarter-hc","author_email":"43049322+kaitlincarter-hc@users.noreply.github.com"},{"hash":"2c4dd43692d51f5a6773741206633be976df3fa8","date":"2019-05-13 05:30:02 -0700","message":"Clarify mutual exclusivity of Azure scale set auto-join parameters (#5750)","refs":[],"body":"","author_name":"Aidan Daniels-Soles","author_email":"apsoles@ucdavis.edu"},{"hash":"521fd8949728e4bdc28bb2579e7b89981a62ae78","date":"2019-05-13 08:04:45 -0500","message":"Updating documentation of example systemd service to be of type notify. (#5689)","refs":[],"body":"https://github.com/hashicorp/consul/issues/2121\r\n\r\nhttps://www.freedesktop.org/software/systemd/man/systemd.service.html\r\n\r\nWhen set to notify, systemd will not attempt to start any dependent\r\nservices until after consul sends the notify signal.  This is useful\r\nin cases where there services that rely on the local consul agent\r\nto be up and functional before they can start.  The default is simple,\r\nwhich will immediately mark the service as up and functioning even\r\nif consul has not yet joined the cluster and has started listening\r\nfor connnections.","author_name":"Nathan Johnson","author_email":"nathan@nathanjohnson.info"},{"hash":"1fbe44d2c520d826a6dfdd56b14edbf63c19cf9b","date":"2019-05-13 09:08:05 -0400","message":"docs/agent/options: Add go-sockaddr template examples for -bind (#5701)","refs":[],"body":"Reference: https://github.com/hashicorp/consul/issues/4090\r\n\r\nExamples covering a variety of potential use cases. Verified via `sockaddr eval` and `console agent -bind` on a test machine:\r\n\r\n```console\r\n# Baseline\r\n$ sockaddr eval 'GetAllInterfaces'\r\n[127.0.0.1/8 {1 65536 lo  up|loopback} ::1 {1 65536 lo  up|loopback} 10.0.0.10/8 {2 1500 eth0 b8:27:eb:7b:36:95 up|broadcast|multicast} fe80::12dc:5e4d:8ff8:2d96/64 {2 1500 eth0 b8:27:eb:7b:36:95 up|broadcast|multicast} 192.168.1.10/24 {3 1500 wlan0 b8:27:eb:2e:63:c0 up|broadcast|multicast} fe80::b6dc:5758:c306:b15b/64 {3 1500 wlan0 b8:27:eb:2e:63:c0 up|broadcast|multicast}]\r\n\r\n# Using address within a specific CIDR\r\n$ sockaddr eval 'GetPrivateInterfaces | include \"network\" \"10.0.0.0/8\" | attr \"address\"'\r\n10.0.0.10\r\n\r\n# Using a static network interface name\r\n$ sockaddr eval 'GetInterfaceIP \"eth0\"'\r\n10.0.0.10\r\n\r\n# Using regular expression matching for network interface name that is forwardable and up\r\n$ sockaddr eval 'GetAllInterfaces | include \"name\" \"^eth\" | include \"flags\" \"forwardable|up\" | attr \"address\"'\r\n10.0.0.10\r\n```","author_name":"Brian Flad","author_email":"bflad@hashicorp.com"},{"hash":"87bf4c026b6343bcdb49a634770e4785541ed43d","date":"2019-05-13 17:06:05 +0200","message":"Update index.html.md (#5813)","refs":[],"body":"Missing dot in Consul Kubernetes landing page.","author_name":"Christoph Puhl","author_email":"cpu@hashicorp.com"},{"hash":"8d62353d0005f8739c71c04d1aaf9a7e680645e1","date":"2019-05-13 08:22:17 -0700","message":"docs: fixed typos (#5832)","refs":[],"body":"Fixed typos: persmissions/permissions + regardles/regardless","author_name":"Justin Weissig","author_email":"jweissig@gmail.com"},{"hash":"02be3d9c6b5e66f8c6abf922e2acdffe909c9845","date":"2019-05-13 08:39:25 -0700","message":"docs: spelling and wording (#5830)","refs":[],"body":"Fixed spelling and wording: avaliable/available, upto/up to, an other/another, recieved/received, transfered/transferred (x2)","author_name":"Justin Weissig","author_email":"jweissig@gmail.com"},{"hash":"effb0696458097625df44e04903d8d0c857b05b9","date":"2019-05-13 13:32:39 -0700","message":"[docs] Add K8s L7 Observability Guide (#5826)","refs":[],"body":"* add l7 observability guide\r\n\r\n* fix urls\r\n","author_name":"Judith Malnick","author_email":"judith.patudith@gmail.com"},{"hash":"f5ec74f0e1afeb3b7793b18b43bb8773d3e7883e","date":"2019-05-14 08:54:22 -0700","message":"docs: fixed spelling (#5840)","refs":[],"body":"Spelling: namepace/namespace.","author_name":"Justin Weissig","author_email":"jweissig@gmail.com"},{"hash":"460aa38c1513acf929d4332d52a6b77cdf5efac0","date":"2019-05-14 08:54:51 -0700","message":"docs: fixed typos (#5839)","refs":[],"body":"Fixed spelling: defintions/definitions, Speficied/Specifies.","author_name":"Justin Weissig","author_email":"jweissig@gmail.com"},{"hash":"ca01f2a93af7912546dba94ef67d84ba086a4354","date":"2019-05-09 15:00:30 -0700","message":"Add docs for Helm chart features introduced in v0.8.0","refs":[],"body":"Additionally defines a new annotation that is used with these new\nfeatures.\n","author_name":"Rebecca Zanzig","author_email":"rzazzl@hotmail.com"},{"hash":"8895d9c2d52d8b575f009c5f5c387232b1796b13","date":"2019-05-14 12:13:59 -0700","message":"Merge pull request #5825 from hashicorp/docs/helming","refs":[],"body":"Add docs for Helm chart features introduced in v0.8.0","author_name":"Rebecca Zanzig","author_email":"rzazzl@hotmail.com"},{"hash":"803a84bf832827cfbc7213eaeaa9da30bddab879","date":"2019-05-14 15:30:59 -0700","message":"Update to correct parameter name in docs","refs":[],"body":"","author_name":"Rebecca Zanzig","author_email":"rzazzl@hotmail.com"},{"hash":"dc341df27e9968afeb810001dbd987a9d2f8e6fa","date":"2019-05-14 15:56:57 -0700","message":"Merge pull request #5843 from hashicorp/docs/helmtypos","refs":[],"body":"[docs] Update to correct parameter name in docs","author_name":"Rebecca Zanzig","author_email":"rzazzl@hotmail.com"},{"hash":"ae5900e65284593d00bbbdb9ffee0b5b22641e20","date":"2019-05-15 08:01:19 -0700","message":"Fixed typo: registratered/registered.","refs":[],"body":"","author_name":"Justin Weissig","author_email":"jweissig@gmail.com"},{"hash":"c2c22a35fb0eb39640c0499565cbddd826c41ad3","date":"2019-05-15 10:49:41 -0500","message":"[docs] Updating links to guides (#5795)","refs":[],"body":"* fixing links in the docs post guide migartion.\r\n\r\n* fixed one more\r\n\r\n* Update website/source/docs/acl/acl-legacy.html.md\r\n\r\nCo-Authored-By: kaitlincarter-hc <43049322+kaitlincarter-hc@users.noreply.github.com>\r\n\r\n* Update website/source/docs/enterprise/connect-multi-datacenter/index.html.md\r\n\r\n* Updating based on comments and fixing word wrap\r\n\r\n* Update website/source/api/acl-legacy.html.md\r\n\r\n* Update website/source/api/acl/acl.html.md\r\n\r\n* Update website/source/docs/agent/options.html.md\r\n\r\n* Update website/source/docs/faq.html.md\r\n\r\n* Update website/source/docs/internals/architecture.html.md\r\n\r\n* Update website/source/docs/agent/encryption.html.md\r\n","author_name":"kaitlincarter-hc","author_email":"43049322+kaitlincarter-hc@users.noreply.github.com"},{"hash":"9e33bb626dd87bc0a8e906ee49775e5edb13c070","date":"2019-05-15 08:55:29 -0700","message":"docs: fixed typo (#5844)","refs":[],"body":"Fixed typo: reqired/required.","author_name":"Justin Weissig","author_email":"jweissig@gmail.com"},{"hash":"29eb83c9c2a3e2fecf679c7154fb20cd903df36f","date":"2019-05-15 10:51:04 -0700","message":"Merge branch 'master' into change-node-id","refs":[],"body":"","author_name":"Kyle Havlovitz","author_email":"kylehav@gmail.com"},{"hash":"1d9b8e1860aee0eb8ffa19a1184798c206d54c9b","date":"2019-05-15 11:10:40 -0700","message":"vendor: update memberlist","refs":[],"body":"","author_name":"Kyle Havlovitz","author_email":"kylehav@gmail.com"},{"hash":"31bb9d67dfd2718fdcbed30fd1a12963b593d61d","date":"2019-05-15 11:59:33 -0700","message":"Set the dead node reclaim timer at 30s","refs":[],"body":"","author_name":"Kyle Havlovitz","author_email":"kylehav@gmail.com"},{"hash":"b15cb608519fb2747cd40c4cde13b668995d26bc","date":"2019-05-15 12:18:13 -0700","message":"Merge pull request #5485 from hashicorp/change-node-id","refs":[],"body":"Allow nodes to change IDs when replacing a dead node","author_name":"Kyle Havlovitz","author_email":"kylehav@gmail.com"},{"hash":"45cdc8076703212b6ff3e31b50f226fbbef5ef7c","date":"2019-05-16 04:48:32 -0700","message":"website: clarify removal for managed proxies (#5849)","refs":[],"body":"We didn't end up removing these completely in 1.5.0. See also #5848.","author_name":"Jack Pearkes","author_email":"jackpearkes@gmail.com"},{"hash":"8473fc1476e3e8d92cb46a37549febf016236405","date":"2019-05-16 14:52:32 -0700","message":"docs: Fixed typo: authorative/authoritative.","refs":[],"body":"","author_name":"Justin Weissig","author_email":"jweissig@gmail.com"},{"hash":"ee393e34fb8e4ee72559d9b9a141d035351c129e","date":"2019-05-17 12:33:12 +0100","message":"ui: Adds tick whilst editing the link template in the Settings area (#5820)","refs":[],"body":"1. Amends our `base` animation placeholder to always reset\r\ntransition-duration. This has no effect on other components that are\r\nalready using this animation.\r\n2. Adds a confirming class whenever a key is pressed, to show the green\r\ntick. Uses CSS via `transition-delay` for debouncing.\r\n","author_name":"John Cowen","author_email":"johncowen@users.noreply.github.com"},{"hash":"c8dc8049c4a69dedcaf89704add8b8c96fcff686","date":"2019-05-17 11:42:56 -0400","message":"enable go tests (#5863)","refs":[],"body":"","author_name":"Alvin Huang","author_email":"alvin@hashicorp.com"},{"hash":"f452de1c5049a838fd62fe7dfb5a0624387475dd","date":"2019-05-17 14:07:25 -0400","message":"bump middleman-hashicorp to 0.3.40 and exclude guide rendering (#5847)","refs":[],"body":"* bump middleman-hashicorp to 0.3.40 and exclude guide rendering\r\n\r\n* add notes to Makefile for volume mounts hack PR#5847\r\n\r\n* make note of the PR number in the comment\r\n","author_name":"Alvin Huang","author_email":"alvin@hashicorp.com"},{"hash":"b96d9b01bd5a46b4abfc08bcc4f58754d1a8eded","date":"2019-05-17 13:32:36 -0500","message":"Update type assertion logic","refs":[],"body":"Logic updated to evaluate with a boolean after the type assertion.\nThis allows us to check if the type assertion succeeded and be\nmore clear with errors.\n","author_name":"Sarah Christoff","author_email":"sarah.christoff13@gmail.com"},{"hash":"2a018e5e0a0932c44e26a9069c65b261f94a7e80","date":"2019-05-17 14:32:50 -0500","message":"Update agent/coordinate_endpoint_test.go","refs":[],"body":"Co-Authored-By: Freddy <freddygv@users.noreply.github.com>","author_name":"Sarah Christoff","author_email":"schristoff@hashicorp.com"},{"hash":"2d47b287224bdf69f27e45f29b5301500ea7ef0b","date":"2019-05-21 14:17:41 +0100","message":"Envoy integration test improvements (#5797)","refs":[],"body":"* Grab consul logs on integration test failures too and don't remove .gitignore\r\n\r\n* Don't wipe logs so we have some artifacts to upload at the end\r\n","author_name":"Paul Banks","author_email":"banks@banksco.de"},{"hash":"73d73e0e20280a315ba7f68e454547ce6f21aeb3","date":"2019-05-21 13:31:37 -0500","message":"Add retries to all `obj`","refs":[],"body":"","author_name":"Sarah Christoff","author_email":"sarah.christoff13@gmail.com"},{"hash":"32b5992d0f47ff5029b0b7b1ec3b645acb68aafa","date":"2019-05-21 13:35:10 -0500","message":"Add retries around `obj`","refs":[],"body":"","author_name":"Sarah Christoff","author_email":"sarah.christoff13@gmail.com"},{"hash":"d60f3c15f8ebcb421b5695f07de4eea4c2cb69ec","date":"2019-05-21 14:56:05 -0500","message":"Merge pull request #5867 from hashicorp/bug/test-flaky-TestCoordinate_Node","refs":[],"body":"Update type assertion logic","author_name":"Sarah Christoff","author_email":"schristoff@hashicorp.com"},{"hash":"bb602bf71913212bcc4bdbc56c721fcf6748c2a8","date":"2019-05-21 17:19:37 -0400","message":"exclude agent/proxyprocess tests since it will be removed in 1.6 (#5878)","refs":[],"body":"","author_name":"Alvin Huang","author_email":"alvin@hashicorp.com"},{"hash":"d1c315fad904bba82118a2273961da4115b3127f","date":"2019-05-21 15:28:08 -0600","message":"Stop running TestLeader_ChangeServerID in parallel","refs":[],"body":"","author_name":"Freddy","author_email":"freddygv@users.noreply.github.com"},{"hash":"e9259ca97a07eabaa08efc118ed814f0b2d32809","date":"2019-05-21 17:07:06 -0600","message":"Change log line used for verification","refs":[],"body":"","author_name":"Freddy","author_email":"freddygv@users.noreply.github.com"},{"hash":"47a83cbe9f19d0e1e475eabaa223d61fb4c56019","date":"2019-05-21 17:13:13 -0600","message":"Exclude non-go workflows while testing","refs":[],"body":"","author_name":"freddygv","author_email":"vallenilla.fr@gmail.com"},{"hash":"40b809bce36a30b742b890fb7f828d628aba3935","date":"2019-05-21 17:58:37 -0600","message":"Wait for s2 global-management policy","refs":[],"body":"","author_name":"freddygv","author_email":"vallenilla.fr@gmail.com"},{"hash":"5d7c257698cfac204e3a1b15fb1d211fda77e3f3","date":"2019-05-21 19:17:39 -0600","message":"Revert \"Exclude non-go workflows while testing\"","refs":[],"body":"This reverts commit 47a83cbe9f19d0e1e475eabaa223d61fb4c56019.\n","author_name":"freddygv","author_email":"vallenilla.fr@gmail.com"},{"hash":"5457bca10c1f8a2ac0e338fdc06c95fd5cff49c3","date":"2019-05-22 09:54:10 -0700","message":"Update CHANGELOG.md","refs":[],"body":"","author_name":"Kyle Havlovitz","author_email":"kylehav@gmail.com"},{"hash":"36ebca1fd0129278487c6570449bc8cc03987890","date":"2019-05-22 20:13:30 +0000","message":"Fix to prevent allowing recursive KV deletions when we shouldn’t","refs":[],"body":"","author_name":"Jack Pearkes","author_email":"jackpearkes@gmail.com"},{"hash":"5a637318d85544b2fa55b12536f2638974a163a0","date":"2019-05-22 20:15:32 +0000","message":"Update CHANGELOG to include 1.4.5 release","refs":[],"body":"","author_name":"Jack Pearkes","author_email":"jackpearkes@gmail.com"},{"hash":"ff899d689dfec1c0497e87ffe00535a96982b945","date":"2019-05-22 20:16:54 +0000","message":"Update CHANGELOG.md","refs":[],"body":"","author_name":"Jack Pearkes","author_email":"jackpearkes@gmail.com"},{"hash":"40cec98468b829e5cdaacb0629b3e23a028db688","date":"2019-05-22 20:19:12 +0000","message":"Release v1.5.1","refs":["tag: v1.5.1"],"body":"","author_name":"Jack Pearkes","author_email":"jackpearkes@gmail.com","tag":"v1.5.1"},{"hash":"e36db4046a6683577be8acd673cfc8c85b0cf675","date":"2019-05-22 17:22:11 -0700","message":"docs: wording","refs":[],"body":"Fixed wording: \"will be resolve to the\" -> \"will be resolved to the\".","author_name":"Justin Weissig","author_email":"jweissig@gmail.com"},{"hash":"7e3cd367094f57aaeebf82c48fba611b7e707a7c","date":"2019-05-23 12:03:07 -0700","message":"Putting source back into Dev Mode","refs":[],"body":"","author_name":"Jack Pearkes","author_email":"jackpearkes@gmail.com"},{"hash":"d4ea163b0b0f4c659a8977da460faacf08ff805a","date":"2019-05-23 19:51:31 -0400","message":"Add retries to StatsFetcherTest (#5892)","refs":[],"body":"","author_name":"Freddy","author_email":"freddygv@users.noreply.github.com"},{"hash":"6c19cacd42cb77d1361a22e0a1dbd0cb867c6e7a","date":"2019-05-23 19:52:02 -0400","message":"Flaky test: ACLReplication_Tokens (#5891)","refs":[],"body":"* Exclude non-go workflows while testing\r\n\r\n* Wait for s2 global-management policy\r\n\r\n* Revert \"Exclude non-go workflows while testing\"\r\n\r\nThis reverts commit 47a83cbe9f19d0e1e475eabaa223d61fb4c56019.\r\n","author_name":"Freddy","author_email":"freddygv@users.noreply.github.com"},{"hash":"17e74985b0d60b6d782c35a9185d50accfd95079","date":"2019-05-23 19:52:33 -0400","message":"Run TestServer_Expect on its own (#5890)","refs":[],"body":"","author_name":"Freddy","author_email":"freddygv@users.noreply.github.com"},{"hash":"e8929814183909eaad72926794322ae21b2bacc6","date":"2019-05-24 16:50:18 +0200","message":"agent: Improve startup message to avoid confusing users when no error occurs (#5896)","refs":[],"body":"* Improve startup message to avoid confusing users when no error occurs\r\n\r\nSeveral times, some users not very familiar with Consul get confused\r\nby error message at startup:\r\n\r\n  `[INFO] agent: (LAN) joined: 1 Err: <nil>`\r\n\r\nHaving `Err: <nil>` seems weird to many users, I propose to have the\r\nfollowing instead:\r\n\r\n* Success: `[INFO] agent: (LAN) joined: 1`\r\n* Error:   `[WARN] agent: (LAN) couldn't join: %d Err: ERROR`","author_name":"Pierre Souchay","author_email":"pierresouchay@users.noreply.github.com"},{"hash":"27f05b16a0f21ef66e6dc6cf57513b7a91aeeb4b","date":"2019-05-24 16:51:44 +0200","message":"Update CHANGELOG.md","refs":[],"body":"","author_name":"Hans Hasselberg","author_email":"me@hans.io"},{"hash":"6b31482333c5a01899d67a1ffca153cd07c99ccb","date":"2019-05-24 13:54:51 -0400","message":"Increase reliability of TestResetSessionTimerLocked_Renew","refs":[],"body":"","author_name":"Freddy","author_email":"freddygv@users.noreply.github.com"},{"hash":"40336fd353a0d1e8721a14dfb4dca0075cab1273","date":"2019-05-24 13:36:56 -0500","message":"agent: fix several data races and bugs related to node-local alias checks (#5876)","refs":[],"body":"The observed bug was that a full restart of a consul datacenter (servers\r\nand clients) in conjunction with a restart of a connect-flavored\r\napplication with bring-your-own-service-registration logic would very\r\nfrequently cause the envoy sidecar service check to never reflect the\r\naliased service.\r\n\r\nOver the course of investigation several bugs and unfortunate\r\ninteractions were corrected:\r\n\r\n(1)\r\n\r\nlocal.CheckState objects were only shallow copied, but the key piece of\r\ndata that gets read and updated is one of the things not copied (the\r\nunderlying Check with a Status field). When the stock code was run with\r\nthe race detector enabled this highly-relevant-to-the-test-scenario field\r\nwas found to be racy.\r\n\r\nChanges:\r\n\r\n a) update the existing Clone method to include the Check field\r\n b) copy-on-write when those fields need to change rather than\r\n    incrementally updating them in place.\r\n\r\nThis made the observed behavior occur slightly less often.\r\n\r\n(2)\r\n\r\nIf anything about how the runLocal method for node-local alias check\r\nlogic was ever flawed, there was no fallback option. Those checks are\r\npurely edge-triggered and failure to properly notice a single edge\r\ntransition would leave the alias check incorrect until the next flap of\r\nthe aliased check.\r\n\r\nThe change was to introduce a fallback timer to act as a control loop to\r\ndouble check the alias check matches the aliased check every minute\r\n(borrowing the duration from the non-local alias check logic body).\r\n\r\nThis made the observed behavior eventually go away when it did occur.\r\n\r\n(3)\r\n\r\nOriginally I thought there were two main actions involved in the data race:\r\n\r\nA. The act of adding the original check (from disk recovery) and its\r\n   first health evaluation.\r\n\r\nB. The act of the HTTP API requests coming in and resetting the local\r\n   state when re-registering the same services and checks.\r\n\r\nIt took awhile for me to realize that there's a third action at work:\r\n\r\nC. The goroutines associated with the original check and the later\r\n   checks.\r\n\r\nThe actual sequence of actions that was causing the bad behavior was\r\nthat the API actions result in the original check to be removed and\r\nre-added _without waiting for the original goroutine to terminate_. This\r\nmeans for brief windows of time during check definition edits there are\r\ntwo goroutines that can be sending updates for the alias check status.\r\n\r\nIn extremely unlikely scenarios the original goroutine sees the aliased\r\ncheck start up in `critical` before being removed but does not get the\r\nnotification about the nearly immediate update of that check to\r\n`passing`.\r\n\r\nThis is interlaced wit the new goroutine coming up, initializing its\r\nbase case to `passing` from the current state and then listening for new\r\nnotifications of edge triggers.\r\n\r\nIf the original goroutine \"finishes\" its update, it then commits one\r\nmore write into the local state of `critical` and exits leaving the\r\nalias check no longer reflecting the underlying check.\r\n\r\nThe correction here is to enforce that the old goroutines must terminate\r\nbefore spawning the new one for alias checks.\r\n","author_name":"R.B. Boyer","author_email":"rb@hashicorp.com"},{"hash":"58c0c101afd06470bf9d096838ac262751ece2b7","date":"2019-05-24 13:38:00 -0500","message":"update changelog","refs":[],"body":"","author_name":"R.B. Boyer","author_email":"rb@hashicorp.com"},{"hash":"9ca416a7f5edd8a44e63b12fda36e4cda61c7161","date":"2019-06-03 11:08:40 +0100","message":"ui: Upgrade fstream (#5912)","refs":[],"body":"Bumps [fstream](https://github.com/npm/fstream) from 1.0.11 to 1.0.12.\r\n- [Release notes](https://github.com/npm/fstream/releases)\r\n- [Commits](npm/fstream@v1.0.11...v1.0.12)","author_name":"John Cowen","author_email":"johncowen@users.noreply.github.com"},{"hash":"57e1136b7e708b9365f7756c6cf506a6b483ea69","date":"2019-06-03 09:31:02 -0500","message":"Fix acl.enable_key_list to be acl.enable_key_list_policy in docs (#5907)","refs":[],"body":"","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"2ba6c3ac00126cf1ebf48f1875ddbf44b4ffe51d","date":"2019-06-03 11:03:05 -0500","message":"Update links to envoy docs on xDS protocol (#5871)","refs":[],"body":"","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"4a4c63bda0b779b3ccce864e28ee4e50c9411458","date":"2019-06-04 16:02:38 +0200","message":"Ensure Consul is IPv6 compliant (#5468)","refs":[],"body":"","author_name":"Pierre Souchay","author_email":"pierresouchay@users.noreply.github.com"},{"hash":"5f7494137a5f36b471ed9ec4e184f020814834eb","date":"2019-06-04 10:03:50 -0400","message":"Update CHANGELOG.md","refs":[],"body":"","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"75e221d256a2026a587eb21f21ee3623ad8136d4","date":"2019-06-04 15:53:10 +0100","message":"ui: ACL Policies. Catch all server errors (#5836)","refs":[],"body":"Always show any server errors under Rules, not just invalid HCL","author_name":"John Cowen","author_email":"johncowen@users.noreply.github.com"},{"hash":"8306b2f251db43115c3daf58718cf81488122635","date":"2019-06-04 15:56:20 +0100","message":"ui: Replaces destroyRecord with unloadRecord for KV 404's (#5837)","refs":[],"body":"Just because Consul gives us a 404 this doesn't guarantee the KV doesn't\r\nexist, it doesn't even mean we don't have access to it. Furthermore we\r\nshould never destroyRecord's without user interaction (therefore only via the\r\nrepo.delete method).\r\n\r\nThis switches destroyRecord to unloadRecord which performs the\r\nadditional legwork to keep ember-data in sync with the actual truth.\r\n\r\nunloadRecord unloads the record from ember-data rather than sending an API\r\ndelete request, which would have been the intent here.","author_name":"John Cowen","author_email":"johncowen@users.noreply.github.com"},{"hash":"9013e53ebc6993d4761a2b044d1f453f61571beb","date":"2019-06-04 15:57:35 +0100","message":"ui: Ensures nested policy forms are reset properly (#5838)","refs":[],"body":"1. All {{ivy-codemirror}} components need 'refreshing' when they become\r\nvisible via our own `didAppear` method on the `{{code-editor}}`\r\ncomponent\r\n\r\n(also see:)\r\n- https://github.com/hashicorp/consul/pull/4190#discussion_r193270223\r\n- https://github.com/hashicorp/consul/pull/4789/files/73db111db8324e1c6710791b38ba1cd2bab08f15#r225264296\r\n\r\n2. On initial investigation, it looks like the component we are using\r\nfor the code editor doesn't distinguish between setting its `value`\r\nprogramatically and a `keyup` event, i.e. an interaction from the user.\r\nWe currently pretend that whenever its `value` changes, it is a `keyup`\r\nevent. This means that when we reset the `value` to `\"\"`\r\nprogrammatically for form resetting purposes, a 'pretend keyup' event\r\nwould also be fired, which would in turn kick off the validation, which\r\nwould fail and show an error message for empty values in other fields of\r\nthe form - something that is perfectly valid if you haven't typed\r\nanything yet. We solved this by checking for `isPristine` on fields that\r\nare allowed to be empty before you have typed anything.\r\n","author_name":"John Cowen","author_email":"johncowen@users.noreply.github.com"},{"hash":"8fe230fbace68f6db3c37896157ab69212a110eb","date":"2019-06-04 11:01:46 -0500","message":"[docs] Enterprise Landing Page (#5804)","refs":[],"body":"* Updating enterprise landing page to be more clear about the licensing process.\r\n\r\n* Update website/source/docs/enterprise/index.html.md\r\n\r\nCo-Authored-By: Jack Pearkes <jackpearkes@gmail.com>\r\n\r\n* Update website/source/docs/enterprise/index.html.md\r\n\r\nCo-Authored-By: Judith Malnick <judith@hashicorp.com>\r\n\r\n* Update website/source/docs/enterprise/index.html.md\r\n\r\nCo-Authored-By: Judith Malnick <judith@hashicorp.com>\r\n\r\n* Update website/source/docs/enterprise/index.html.md\r\n\r\nCo-Authored-By: Judith Malnick <judith@hashicorp.com>\r\n\r\n* Updating based on Matt's feedback\r\n","author_name":"kaitlincarter-hc","author_email":"43049322+kaitlincarter-hc@users.noreply.github.com"},{"hash":"174fcb557f5ded8ecb40a3e2551bbdedb1181617","date":"2019-06-04 17:55:10 +0100","message":"UI: Test readonly ServiceIdentity rules (#5865)","refs":[],"body":"","author_name":"John Cowen","author_email":"johncowen@users.noreply.github.com"},{"hash":"2587a32688ff05e88b6ef211816d008c1c4a47ed","date":"2019-06-04 20:40:22 -0500","message":"website: add azure storage options for enterprise (#5920)","refs":[],"body":"This documents the additional backup target for\r\nthe snapshot agent.\r\n\r\nCo-Authored-By: Freddy <freddygv@users.noreply.github.com>","author_name":"Jack Pearkes","author_email":"jackpearkes@gmail.com"},{"hash":"685b89bdec30d9e3d7a4834e2bd4098fa59e268c","date":"2019-06-05 09:25:32 +0100","message":"ui: Adds ability to search by policy, role or service ident names (#5811)","refs":[],"body":"","author_name":"John Cowen","author_email":"johncowen@users.noreply.github.com"},{"hash":"f3ae605bcb9ecaa3ef8edfa483c600cc5ad1d861","date":"2019-06-06 15:37:29 +0700","message":"docs: update default grpc-addr value in connect envoy command (#5886)","refs":[],"body":"* Update envoy.html.md.erb","author_name":"Nitish Alluri","author_email":"nitish.alluri@gmail.com"},{"hash":"b7b1d771397698ad6897d93876fd9b39c983d692","date":"2019-06-06 13:31:54 -0700","message":"website: fix Sentinel time-of-day policy (#5930)","refs":[],"body":"The policy in the time-of-day Sentinel example incorrectly references\r\nthe top-level time.hour constant. This is actually the same as the\r\ntime.Hour Go value, so in other words, 3600000000000 (the int64 value\r\nrepresenting the time in nanoseconds).\r\n\r\nThis is corrected by just using time.now.hour instead.","author_name":"Chris Marchesi","author_email":"chrism@vancluevertech.com"},{"hash":"cef378bc9bb45171c5f5cc3bfb1945048e4d2b63","date":"2019-06-06 22:21:25 +0100","message":"ui: Upgrade js-yaml (#5926)","refs":[],"body":"","author_name":"John Cowen","author_email":"johncowen@users.noreply.github.com"},{"hash":"4d9116d7590ddbd8266074bd202c3bc623cdc469","date":"2019-06-07 11:26:43 +0200","message":"connect: provide -admin-access-log-path for envoy (#5858)","refs":[],"body":"","author_name":"Hans Hasselberg","author_email":"me@hans.io"},{"hash":"ffcfdf29fc86d21a8be82ab5ccbaf52fea822171","date":"2019-06-07 07:10:43 -0500","message":"Upgrade xDS (go-control-plane) API to support Envoy 1.10. (#5872)","refs":[],"body":"* Upgrade xDS (go-control-plane) API to support Envoy 1.10.\r\n\r\nThis includes backwards compatibility shim to work around the ext_authz package rename in 1.10.\r\n\r\nIt also adds integration test support in CI for 1.10.0.\r\n\r\n* Fix go vet complaints\r\n\r\n* go mod vendor\r\n\r\n* Update Envoy version info in docs\r\n\r\n* Update website/source/docs/connect/proxies/envoy.md\r\n","author_name":"Paul Banks","author_email":"banks@banksco.de"},{"hash":"dcc7f67b3e4a2efe46785623bdee087310725e91","date":"2019-06-10 09:19:37 -0400","message":"Remove vendoring of github.com/hashicorp/consul (#5943)","refs":[],"body":"","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"a41c13ae835b58ad8ac8e8b13aff1d2c4d4435fd","date":"2019-06-11 10:18:50 +0100","message":"ui: Ensure Service Instance pages account for nodes (#5933)","refs":[],"body":"Include node name in the URL for service instances\r\nIntegrate the node name slug into tests for service instance pages\r\n","author_name":"John Cowen","author_email":"johncowen@users.noreply.github.com"},{"hash":"3c80d244b9d88b9fe27c4643ea17a9cb758e0305","date":"2019-06-11 10:22:00 +0100","message":"Update CHANGELOG.md","refs":[],"body":"","author_name":"John Cowen","author_email":"johncowen@users.noreply.github.com"},{"hash":"e7d4dc6470ef96de38e86fc313aeb6a1e52c1d7a","date":"2019-06-11 15:58:46 +0100","message":"Update kubernetes-reference.html.md","refs":[],"body":"","author_name":"Luke Kysow","author_email":"1034429+lkysow@users.noreply.github.com"},{"hash":"c5d83536e5ff40b74973ad0d54a882c0fad9d171","date":"2019-06-11 10:28:52 -0700","message":"Add a redirect for the K8s reference arch guide (#5949)","refs":[],"body":"","author_name":"Judith Malnick","author_email":"judith@hashicorp.com"},{"hash":"b915a5e9f3df097d4b7cefa94caca6dadb1a2159","date":"2019-06-12 16:07:44 +0200","message":"Update questions issue template directing q's to the forum (#5957)","refs":["origin/build-without-ui"],"body":"* Update questions issue template directing q's to the forum\r\n\r\n* Update contributing guide to add link to forum\r\n","author_name":"Nicholas Jackson","author_email":"jackson.nic@gmail.com"},{"hash":"3517e47ad1074d0bbd41a4d76abc751450fe17ec","date":"2019-06-13 10:07:15 +0100","message":"Merge pull request #5948 from hashicorp/lkysow-patch-1","refs":[],"body":"Update kubernetes-reference.html.md","author_name":"Luke Kysow","author_email":"1034429+lkysow@users.noreply.github.com"},{"hash":"acfcc7daf4b795a9c531f4da275d5628a4b0017e","date":"2019-06-13 04:26:27 -0500","message":"Add rate limiting to RPCs sent within a server instance too (#5927)","refs":[],"body":"","author_name":"Paul Banks","author_email":"banks@banksco.de"},{"hash":"355bb7dc207a2da4789548325dd6076ce20c0fe5","date":"2019-06-13 09:03:22 -0500","message":"Update production-acls.html.md (#5959)","refs":[],"body":"","author_name":"Joel Kuzmarski","author_email":"leoj3n@gmail.com"},{"hash":"b3a0b273edf00e79e5f743ba6019c36969dba57b","date":"2019-06-14 00:56:19 +0300","message":"api: update link to agent caching in comments (#5935)","refs":[],"body":"","author_name":"Pavel Drankov","author_email":"titantins@gmail.com"},{"hash":"301d3bacd072bb8980dad8a00373bcc1f4ebabe5","date":"2019-06-13 23:57:39 +0200","message":"docs: fix markdown consul operator (#5901)","refs":[],"body":"broken markdown","author_name":"Yoan Blanc","author_email":"yoan@dosimple.ch"},{"hash":"aa6ed1ff25e25e473378da1d962319eefc109d71","date":"2019-06-13 14:58:34 -0700","message":"docs: fixed typo polices/policies (#5894)","refs":[],"body":"Fixed typo: polices/policies.","author_name":"Justin Weissig","author_email":"jweissig@gmail.com"},{"hash":"06e0bb4065c843698a0bd09716e24e7d8ac0af47","date":"2019-06-13 23:59:05 +0200","message":"docs: wording (#5889)","refs":[],"body":"Fixed wording: \"will be resolve to the\" -> \"will be resolved to the\".","author_name":"Hans Hasselberg","author_email":"me@hans.io"},{"hash":"4cafff579ee9be41e5f74276259d4917d8fbe50d","date":"2019-06-13 15:05:33 -0700","message":"docs: fixed typos (#5854)","refs":[],"body":"Fixed typos: alterative/alternative & communciation/communication","author_name":"Justin Weissig","author_email":"jweissig@gmail.com"},{"hash":"dce847a97a879416de4bb80fb7c98ec0cd8d1db5","date":"2019-06-14 00:06:18 +0200","message":"Remove the misleading default separator for listing keys. (#5288)","refs":[],"body":"The default separator for key listing is an empty string - the docs incorrectly made it seem as if this was `/`.","author_name":"Hans Hasselberg","author_email":"me@hans.io"},{"hash":"9915e22bc2cc246a646ebe119bf5b277252f6b54","date":"2019-06-13 22:52:50 -0700","message":"[docs] Reorganize connect documentation for clarity (#5864)","refs":[],"body":"* clarify possibilities for centralized proxy configuration\r\n\r\n* add line breaks to config entries file\r\n\r\n* add info about centralized config to built in proxy doc\r\n\r\n* mondify connect landing page to help with navigation\r\n\r\n* move internals details to its own page\r\n\r\n* link fixes and shortening text on main page\r\n\r\n* put built-in proxy options on its own page\r\n\r\n* add configuration details for connect\r\n\r\n* clarify security title and add observability page\r\n\r\n* reorganize menu\r\n\r\n* remove observability from configuration section\r\n\r\n* Update website/source/docs/connect/configuration.html.md\r\n\r\nCo-Authored-By: Paul Banks <banks@banksco.de>\r\n\r\n* Update website/source/docs/connect/index.html.md\r\n\r\nCo-Authored-By: Paul Banks <banks@banksco.de>\r\n\r\n* Update website/source/docs/agent/config_entries.html.md\r\n\r\nCo-Authored-By: Paul Banks <banks@banksco.de>\r\n\r\n* Update website/source/docs/connect/configuration.html.md\r\n\r\nCo-Authored-By: Paul Banks <banks@banksco.de>\r\n\r\n* rename connect section to include service mesh\r\n\r\n* reorganize sections per suggestions from paul\r\n\r\n* add configuration edits from paul\r\n\r\n* add internals edits from paul\r\n\r\n* add observability edits from paul\r\n\r\n* reorganize pages and menu\r\n\r\n* Update website/source/docs/connect/configuration.html.md\r\n\r\nCo-Authored-By: Paul Banks <banks@banksco.de>\r\n\r\n* menu corrections and edits\r\n\r\n* incorporate some of pauls comments\r\n\r\n* incorporate more of pauls comments\r\n\r\n* Update website/source/docs/connect/configuration.html.md\r\n\r\nCo-Authored-By: kaitlincarter-hc <43049322+kaitlincarter-hc@users.noreply.github.com>\r\n\r\n* Update website/source/docs/connect/index.html.md\r\n\r\nCo-Authored-By: kaitlincarter-hc <43049322+kaitlincarter-hc@users.noreply.github.com>\r\n\r\n* Update website/source/docs/connect/index.html.md\r\n\r\nCo-Authored-By: kaitlincarter-hc <43049322+kaitlincarter-hc@users.noreply.github.com>\r\n\r\n* Update website/source/docs/connect/registration.html.md\r\n\r\nCo-Authored-By: kaitlincarter-hc <43049322+kaitlincarter-hc@users.noreply.github.com>\r\n\r\n* incorporate kaitlin and pavanni feedback\r\n\r\n* add redirect\r\n\r\n* fix conflicts in index file\r\n\r\n* Resolve conflicts in index file\r\n\r\n* correct links for new organization\r\n\r\n* Update website/source/docs/connect/proxies.html.md\r\n\r\nCo-Authored-By: Paul Banks <banks@banksco.de>\r\n\r\n* Update website/source/docs/connect/registration.html.md\r\n\r\nCo-Authored-By: Paul Banks <banks@banksco.de>\r\n\r\n* Update website/source/docs/connect/registration.html.md\r\n\r\nCo-Authored-By: Paul Banks <banks@banksco.de>\r\n\r\n* Update website/source/docs/connect/registration.html.md\r\n\r\nCo-Authored-By: Paul Banks <banks@banksco.de>\r\n\r\n* add title to service registration page\r\n","author_name":"Judith Malnick","author_email":"judith@hashicorp.com"},{"hash":"53d7008a44b477ac98e20a6ab160cf575a70ff93","date":"2019-06-14 10:44:46 +0200","message":"Update CHANGELOG.md","refs":[],"body":"","author_name":"Hans Hasselberg","author_email":"me@hans.io"},{"hash":"0837e5774b879d2877d71e8cfcf59ae128025d81","date":"2019-06-14 10:47:50 +0100","message":"Update CHANGELOG.md","refs":[],"body":"","author_name":"Paul Banks","author_email":"banks@banksco.de"},{"hash":"4c5c69bdbae89a1737aa1309f62d8e966a550593","date":"2019-06-14 09:30:41 -0700","message":"[docs] Correct typos in API agnet docs (#5966)","refs":[],"body":"","author_name":"Judith Malnick","author_email":"judith@hashicorp.com"},{"hash":"b9951cc626ed2d96502ad41875d234835e097de4","date":"2019-06-14 16:55:18 -0400","message":"update website build to exclude guides (#5951)","refs":[],"body":"","author_name":"Alvin Huang","author_email":"alvin@hashicorp.com"},{"hash":"2557d7a6cc590887f749762f91aca597b9e614aa","date":"2019-06-17 10:41:04 -0400","message":"Fix CAS operations on Services (#5971)","refs":[],"body":"* Fix CAS operations on services\r\n\r\n* Update agent/consul/state/catalog_test.go\r\n\r\nCo-Authored-By: R.B. Boyer <public@richardboyer.net>\r\n","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"8a6e5476e9c79f6b7ec57ec5b2ec919276789ed0","date":"2019-06-17 10:42:49 -0400","message":"Update CHANGELOG.md","refs":[],"body":"","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"f3d9b999ee8143180ad1c40abf4236939b3320f4","date":"2019-06-17 10:51:50 -0400","message":"Add tagged addresses for services (#5965)","refs":[],"body":"This allows addresses to be tagged at the service level similar to what we allow for nodes already. The address translation that can be enabled with the `translate_wan_addrs` config was updated to take these new addresses into account as well.","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"39288784332691b5a273d07f1a97f101ff369f5a","date":"2019-06-17 11:48:29 -0400","message":"Support relative and external URL rewrites (#5970)","refs":[],"body":"* switch to relative path redirects for non external links\r\n\r\n* update website deploy script to support relative+full url redirects\r\n","author_name":"Alvin Huang","author_email":"alvin@hashicorp.com"},{"hash":"24a0f2bba2412ce0fafa7e702c927e5be7243ec9","date":"2019-06-17 18:05:47 +0200","message":"ae: use stale requests when performing full sync (#5873)","refs":[],"body":"Read requests performed during anti antropy full sync currently target\r\nthe leader only. This generates a non-negligible load on the leader when\r\nthe DC is large enough and can be offloaded to the followers following\r\nthe \"eventually consistent\" policy for the agent state.\r\nWe switch the AE read calls to use stale requests with a small (2s)\r\nMaxStaleDuration value and make sure we do not read too fast after a\r\nwrite.","author_name":"Aestek","author_email":"t.gilles@criteo.com"},{"hash":"2fa28795046fe99a81946d8ab7a5de35cb7b48eb","date":"2019-06-18 10:50:07 +0300","message":"docs: add agent to windows service (#5982)","refs":[],"body":"","author_name":"Andrei Burd","author_email":"burdandrei@users.noreply.github.com"},{"hash":"b839f521958df4c7d48a738a0ae8de1ba6122ac8","date":"2019-06-18 15:06:29 +0200","message":"kv: do not trigger watches when setting the same value (#5885)","refs":[],"body":"If a KVSet is performed but does not update the entry, do not trigger\r\nwatches for this key.\r\nThis avoids releasing blocking queries for KV values that did not\r\nactually changed.","author_name":"Aestek","author_email":"t.gilles@criteo.com"},{"hash":"aee78078997812ff123a08c5a81f2b86a5ac7bcd","date":"2019-06-18 10:13:11 -0400","message":"add release branch to travis (#5981)","refs":[],"body":"","author_name":"Alvin Huang","author_email":"alvin@hashicorp.com"},{"hash":"868d99a8219ed9e9ea91b24a09c0acf49e601571","date":"2019-06-18 12:12:39 -0500","message":"[docs] Internals (#5979)","refs":[],"body":"* Updating internals docs for clarity\r\n\r\n* Update website/source/docs/internals/consensus.html.md\r\n\r\nCo-Authored-By: Hans Hasselberg <me@hans.io>\r\n","author_name":"kaitlincarter-hc","author_email":"43049322+kaitlincarter-hc@users.noreply.github.com"},{"hash":"683262a6869033cb79e68fa1dba0f9ea83e9187d","date":"2019-06-18 15:45:32 -0400","message":"ignore consul-exec tests until fixed (#5986)","refs":[],"body":"","author_name":"Alvin Huang","author_email":"alvin@hashicorp.com"},{"hash":"3a6c0eaf55fe60b33bdc953e45b1c0e38a52ff0e","date":"2019-06-18 15:56:58 -0400","message":"add master merge to release branch (#5980)","refs":[],"body":"* add master merge to release branch\r\n\r\n* remove CircleCI token, use shallow API call, and use commit SHA for merge\r\n","author_name":"Alvin Huang","author_email":"alvin@hashicorp.com"},{"hash":"f13fe4b3041d91810f21bd267887a5362878f159","date":"2019-06-19 14:50:48 +0200","message":"agent: transfer leadership when establishLeadership fails (#5247)","refs":[],"body":"","author_name":"Hans Hasselberg","author_email":"me@hans.io"},{"hash":"e8722e6a35a44e7fddf4fe24119f97ea11d84137","date":"2019-06-20 09:37:17 +0100","message":"ui: Normal proxies link to services, sidecars to instances (#5944)","refs":[],"body":"* ui: Normal proxies line to services, sidecars to instances\r\n\r\nFollowing on from https://github.com/hashicorp/consul/pull/5933 we\r\nnoticed that 'normal' proxies should link to the service, rather than\r\nthe service instance. Additionally proxy 'searching' within the\r\nrepository should take into account the name of the node that the\r\noriginating service is on (sidecar proxies are generally co-located)\r\n\r\nAdded an additional test here to prove that a sidecar-proxy with the\r\nsame service id but on a different node does not show the sidecar proxy\r\nlink.\r\n\r\n\r\n","author_name":"John Cowen","author_email":"johncowen@users.noreply.github.com"},{"hash":"7a3c94677b733a41ac6279d7d6c1aa5748bfe9fb","date":"2019-06-20 16:48:56 +0200","message":"fix invalid curl request (#5972)","refs":["origin/travis-ci-release"],"body":"","author_name":"A. F","author_email":"hello@clivern.com"},{"hash":"6cc14518957b24c69cbd448e720a0c1ce074d60b","date":"2019-06-20 11:50:18 -0400","message":"Update some tests to fix ContentHash broken by the tagged service addresses (#5996)","refs":[],"body":"","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"cb80c7ba85ace1a86cd36d669ea186c44ee3d196","date":"2019-06-20 12:31:17 -0500","message":"[docs] Sidecar Registration  (#5998)","refs":[],"body":"* missing service option\r\n\r\n* fixing the second example\r\n","author_name":"kaitlincarter-hc","author_email":"43049322+kaitlincarter-hc@users.noreply.github.com"},{"hash":"8c821c1260a68255f338697883623eac6c6d8354","date":"2019-06-20 14:18:34 -0500","message":"[docs] update documentation for connect-service-upstreams (#5422)","refs":[],"body":"* update documentation for connect-service-upstreams\r\n\r\nAdds documentation for services, multiple services, and prepared\r\nquery under connect-service-upstreams annotation.\r\n\r\n* changing tone of voice\r\n\r\n* active voice fix\r\n\r\n* fixing spaces\r\n\r\n* fixed order, added clarification for multiple upstreams\r\n\r\n* Update website/source/docs/platform/k8s/connect.html.md\r\n\r\nCo-Authored-By: s-christoff <sarah.christoff13@gmail.com>\r\n","author_name":"Sarah Christoff","author_email":"schristoff@hashicorp.com"},{"hash":"52af58c93f1671e07d9fa19d621a4e6b25fff48b","date":"2019-06-20 16:27:45 -0400","message":"skip checks on merge commit (#6000)","refs":[],"body":"","author_name":"Alvin Huang","author_email":"alvin@hashicorp.com"},{"hash":"d545ffa8b550c0f1fb79f4770de8822e94c47922","date":"2019-06-20 18:06:29 -0600","message":"website - updates to home hero video carousel (#5932)","refs":[],"body":"","author_name":"RJ Spiker","author_email":"spiker.rj@gmail.com"},{"hash":"a44541a91fdfdc12ee6c1fafe95aa38841d24a3c","date":"2019-06-21 11:42:40 +0100","message":"ui: Implements a testable clipboard {{copy-button}} (#5967)","refs":[],"body":"1. Remove ember-cli-clipboard dependency\r\n2. Provide a new copy-button component implementing the same\r\ninterface as ^ but make the clipboard functionality injectable\r\n3. Provide 2 implementations of a Clipboard. One using clipboard.js (as\r\npreviously) and an additional local storage 'clipboard'.\r\n4. add a BDD step to assert whats in the clipboard (the fake one)\r\n\r\nMain reason here is that `document.exec` must be called by a user\r\ninteraction\r\n","author_name":"John Cowen","author_email":"johncowen@users.noreply.github.com"},{"hash":"9f656a2dc8bcc8ffb735fd9ce7e764eb8dbd41da","date":"2019-06-21 16:06:25 +0100","message":"Fix envoy 1.10 exec (#5964)","refs":[],"body":"* Make exec test assert Envoy version - it was not rebuilding before and so often ran against wrong version. This makes 1.10 fail consistenty.\r\n\r\n* Switch Envoy exec to use a named pipe rather than FD magic since Envoy 1.10 doesn't support that.\r\n\r\n* Refactor to use an internal shim command for piping the bootstrap through.\r\n\r\n* Fmt. So sad that vscode golang fails so often these days.\r\n\r\n* go mod tidy\r\n\r\n* revert go mod tidy changes\r\n\r\n* Revert \"ignore consul-exec tests until fixed (#5986)\"\r\n\r\nThis reverts commit 683262a6869033cb79e68fa1dba0f9ea83e9187d.\r\n\r\n* Review cleanups\r\n","author_name":"Paul Banks","author_email":"banks@banksco.de"},{"hash":"c10173c5bd5bfdcea43cba8e9b35caf325b29fec","date":"2019-06-21 13:01:00 -0400","message":"Fix weird sentence in the proxy docs (#6002)","refs":[],"body":"* Fix weird sentence in the proxy docs\r\n\r\n* Update website/source/docs/connect/proxies.html.md\r\n","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"19e70c46bfccf1ff25e0468854f75ef4da3c1fc7","date":"2019-06-21 13:16:17 -0400","message":"Ensure that looking for services by addreses works with Tagged Addresses (#5984)","refs":[],"body":"","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"23bcc18766c5b1178ecc5e1a5d44037c6dd57722","date":"2019-06-22 09:00:17 -0400","message":"Fix vendoring to not include our own code.","refs":[],"body":"","author_name":"Matt Keeler","author_email":"mjkeeler7@gmail.com"},{"hash":"b36a14349d1f9b9ca7be3ad46fe1a28c2a32eb48","date":"2019-06-24 14:36:59 +0200","message":"docs: document reset license in enterprise (#5977)","refs":[],"body":"","author_name":"Hans Hasselberg","author_email":"me@hans.io"},{"hash":"ceff2e3baa129547e8c42f4604f3d579ecf715e0","date":"2019-06-24 12:25:47 -0500","message":"[docs] Architecture Node vs Agent (#6010)","refs":[],"body":"* Upating the term node to be more clear\r\n\r\n* Update website/source/docs/internals/architecture.html.md\r\n\r\n* Update website/source/docs/internals/architecture.html.md\r\n\r\nCo-Authored-By: Paul Banks <banks@banksco.de>\r\n\r\n* Addressing the failure detection comment\r\n","author_name":"kaitlincarter-hc","author_email":"43049322+kaitlincarter-hc@users.noreply.github.com"},{"hash":"43c5ba0304ab69986b2d389608725317054843db","date":"2019-06-24 14:11:34 -0400","message":"New Cache Types (#5995)","refs":[],"body":"* Add a cache type for the Catalog.ListServices endpoint\r\n\r\n* Add a cache type for the Catalog.ListDatacenters endpoint\r\n","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"813e009a2d8d43ba6e78fb030f780e330ef79bbd","date":"2019-06-24 15:05:36 -0400","message":"Prepare for having different service kinds that are all generic… (#6013)","refs":[],"body":"Default to internal error when service kind is unknown","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"48bc581470242b6cda132607eb11676a2dbf349f","date":"2019-06-24 16:19:12 -0500","message":"[docs] New Glossary Page (#5999)","refs":[],"body":"* Moved the glossary to a new page and removed the advanced warnings from all internals docs.\r\n\r\n* Update website/source/layouts/docs.erb\r\n\r\nCo-Authored-By: Judith Malnick <judith@hashicorp.com>\r\n\r\n* Updates based on PR feedback\r\n\r\n* Update website/source/docs/internals/index.html.md\r\n\r\n* Update website/source/docs/internals/index.html.md\r\n\r\n* Update website/source/docs/internals/index.html.md\r\n\r\n* Update website/source/docs/internals/index.html.md\r\n\r\n* Update website/source/docs/internals/index.html.md\r\n","author_name":"kaitlincarter-hc","author_email":"43049322+kaitlincarter-hc@users.noreply.github.com"},{"hash":"88b15d84f9fdb58ceed3dc971eb0390be85e3c15","date":"2019-06-24 14:25:58 -0700","message":"docs: fixed typos on a few doc pages (#5870)","refs":[],"body":"","author_name":"Justin Weissig","author_email":"jweissig@gmail.com"},{"hash":"cf2665686377d388f186fb8f1afafe83e96088e5","date":"2019-06-24 18:55:44 -0400","message":"Override cla check and add slack notifications (#6007)","refs":[],"body":"* override CLA check\r\n\r\n* add slack notifications for merge\r\n\r\n* don't delete unmerged branch to ease debugging\r\n","author_name":"Alvin Huang","author_email":"alvin@hashicorp.com"},{"hash":"4d185baf5511dfae35c831bedc7d522259f51835","date":"2019-06-25 02:00:26 +0000","message":"Merge Consul OSS branch 'master' at commit 88b15d84f9fdb58ceed3dc971eb0390be85e3c15","refs":[],"body":"skip-checks: true\n","author_name":"hashicorp-ci","author_email":"hashicorp-ci@users.noreply.github.com"},{"hash":"98eddbdeec102b18805557660e8878d1dfbf3663","date":"2019-06-25 20:56:31 +0200","message":"remove docs updates","refs":[],"body":"","author_name":"Hans Hasselberg","author_email":"me@hans.io"},{"hash":"381be88a14f78241a915ae570fb04636f9c3deb8","date":"2019-06-25 16:46:17 -0400","message":"remove skip-checks on git merge (#6017)","refs":[],"body":"* remove skip-checks on git merge\r\n\r\n* remove comments for skip-checks\r\n","author_name":"Alvin Huang","author_email":"alvin@hashicorp.com"},{"hash":"b186aed66ec05c4324b00f7440e8435896bbf487","date":"2019-06-26 02:00:30 +0000","message":"Merge Consul OSS branch 'master' at commit 98eddbdeec102b18805557660e8878d1dfbf3663","refs":[],"body":"","author_name":"hashicorp-ci","author_email":"hashicorp-ci@users.noreply.github.com"},{"hash":"87a7c16d0a543f5cc832a98e921dcc9c5ab6b1ef","date":"2019-06-26 17:25:41 +0200","message":"Update CHANGELOG.md","refs":[],"body":"","author_name":"Hans Hasselberg","author_email":"me@hans.io"},{"hash":"4c37598ad8b30e4243272e5499e4a40020a32e94","date":"2019-06-26 08:34:58 -0700","message":"docs: small typo/wording fixes for envoy (#6018)","refs":[],"body":"","author_name":"Michael Schurter","author_email":"mschurter@hashicorp.com"},{"hash":"0e907f5aa8e9e4c34512a5cea427edcf0d454d2a","date":"2019-06-26 17:43:25 +0200","message":"Support for maximum size for Output of checks (#5233)","refs":[],"body":"* Support for maximum size for Output of checks\r\n\r\nThis PR allows users to limit the size of output produced by checks at the agent \r\nand check level.\r\n\r\nWhen set at the agent level, it will limit the output for all checks monitored\r\nby the agent.\r\n\r\nWhen set at the check level, it can override the agent max for a specific check but\r\nonly if it is lower than the agent max.\r\n\r\nDefault value is 4k, and input must be at least 1.","author_name":"Pierre Souchay","author_email":"pierresouchay@users.noreply.github.com"},{"hash":"0a3e3aa882e9819f9ab697ec7d5d6b2de591233f","date":"2019-06-26 17:42:24 +0100","message":"Update CHANGELOG.md","refs":[],"body":"","author_name":"John Cowen","author_email":"johncowen@users.noreply.github.com"},{"hash":"d3d92d76f3b7d0b5f1894d0657c48f19b5eb6ca0","date":"2019-06-26 11:43:30 -0500","message":"ui: modify content path (#5950)","refs":[],"body":"* Add ui-content-path flag\r\n\r\n* tests complete, regex validator on string, index.html updated\r\n\r\n* cleaning up debugging stuff\r\n\r\n* ui: Enable ember environment configuration to be set via the go binary at runtime (#5934)\r\n\r\n* ui: Only inject {{.ContentPath}} if we are makeing a prod build...\r\n\r\n...otherwise we just use the current rootURL\r\n\r\nThis gets injected into a <base /> node which solves the assets path\r\nproblem but not the ember problem\r\n\r\n* ui: Pull out the <base href=\"\"> value and inject it into ember env\r\n\r\nSee previous commit:\r\n\r\nThe <base href=\"\"> value is 'sometimes' injected from go at index\r\nserve time. We pass this value down to ember by overwriting the ember\r\nconfig that is injected via a <meta> tag. This has to be done before\r\nember bootup.\r\n\r\nSometimes (during testing and development, basically not production)\r\nthis is injected with the already existing value, in which case this\r\nessentially changes nothing.\r\n\r\nThe code here is slightly abstracted away from our specific usage to\r\nmake it easier for anyone else to use, and also make sure we can cope\r\nwith using this same method to pass variables down from the CLI through\r\nto ember in the future.\r\n\r\n* ui: We can't use <base /> move everything to javascript (#5941)\r\n\r\nUnfortuantely we can't seem to be able to use <base> and rootURL\r\ntogether as URL paths will get doubled up (`ui/ui/`).\r\n\r\nThis moves all the things that we need to interpolate with .ContentPath\r\nto the `startup` javascript so we can conditionally print out\r\n`{{.ContentPath}}` in lots of places (now we can't use base)\r\n\r\n* fixed when we serve index.html\r\n\r\n* ui: For writing a ContentPath, we also need to cope with testing... (#5945)\r\n\r\n...and potentially more environments\r\n\r\nTesting has more additional things in a separate index.html in `tests/`\r\n\r\nThis make the entire thing a little saner and uses just javascriopt\r\ntemplate literals instead of a pseudo handbrake synatx for our\r\ntemplating of these files.\r\n\r\nIntead of just templating the entire file this way, we still only\r\ntemplate `{{content-for 'head'}}` and `{{content-for 'body'}}`\r\nin this way to ensure we support other plugins/addons\r\n\r\n* build: Loosen up the regex for retrieving the CONSUL_VERSION (#5946)\r\n\r\n* build: Loosen up the regex for retrieving the CONSUL_VERSION\r\n\r\n1. Previously the `sed` replacement was searching for the CONSUL_VERSION\r\ncomment at the start of a line, it no longer does this to allow for\r\nindentation.\r\n2. Both `grep` and `sed` where looking for the omment at the end of the\r\nline. We've removed this restriction here. We don't need to remove it\r\nright now, but if we ever put the comment followed by something here the\r\nsearching would break.\r\n3. Added `xargs` for trimming the resulting version string. We aren't\r\nusing this already in the rest of the scripts, but we are pretty sure\r\nthis is available on most systems.\r\n\r\n* ui: Fix erroneous variable, and also force an ember cache clean on build\r\n\r\n1. We referenced a variable incorrectly here, this fixes that.\r\n2. We also made sure that every `make` target clears ember's `tmp` cache\r\nto ensure that its not using any caches that have since been edited\r\neverytime we call a `make` target.\r\n\r\n* added docs, fixed encoding\r\n\r\n* fixed go fmt\r\n\r\n* Update agent/config/config.go\r\n\r\nCo-Authored-By: R.B. Boyer <public@richardboyer.net>\r\n\r\n* Completed Suggestions\r\n\r\n* run gofmt on http.go\r\n\r\n* fix testsanitize\r\n\r\n* fix fullconfig/hcl by setting correct 'want'\r\n\r\n* ran gofmt on agent/config/runtime_test.go\r\n\r\n* Update website/source/docs/agent/options.html.md\r\n\r\nCo-Authored-By: Hans Hasselberg <me@hans.io>\r\n\r\n* Update website/source/docs/agent/options.html.md\r\n\r\nCo-Authored-By: kaitlincarter-hc <43049322+kaitlincarter-hc@users.noreply.github.com>\r\n\r\n* remove contentpath from redirectFS struct\r\n","author_name":"Sarah Christoff","author_email":"sarah.christoff13@gmail.com"},{"hash":"4eb73973b6e53336fd505dc727ac84c1f7e78872","date":"2019-06-26 23:46:47 +0200","message":"agent: added metadata information about servers into consul service description (#5455)","refs":[],"body":"This allows have information about servers from HTTP APIs without\r\nusing the command line.","author_name":"Pierre Souchay","author_email":"pierresouchay@users.noreply.github.com"},{"hash":"f4304e2e5b836c3da1628521440cd47d87897169","date":"2019-06-27 02:00:41 +0000","message":"Merge Consul OSS branch 'master' at commit 4eb73973b6e53336fd505dc727ac84c1f7e78872","refs":[],"body":"","author_name":"hashicorp-ci","author_email":"hashicorp-ci@users.noreply.github.com"},{"hash":"0598b66a805e4b3233ec464d96cdc38a362d5a5d","date":"2019-06-27 04:01:30 -0500","message":"Fix text and add feature test for copy button (#5958)","refs":[],"body":"`Copied IP Address!` > `Copied output!`\r\n\r\nAdds feature test for copy button\r\n\r\n","author_name":"Joel Kuzmarski","author_email":"leoj3n@gmail.com"},{"hash":"98a35fbe698c7df70ae21b4f7310a67a476b2a9f","date":"2019-06-27 06:00:37 -0400","message":"dns: support alt domains for dns resolution (#5940)","refs":[],"body":"this adds an option for an alt domain to be used with dns while migrating to a new consul domain.","author_name":"Akshay Ganeshen","author_email":"me@aganeshen.com"},{"hash":"7d4235a17ae3558f231d15694e7c42bc82d98075","date":"2019-06-27 14:19:02 +0200","message":"Update CHANGELOG.md","refs":[],"body":"","author_name":"Hans Hasselberg","author_email":"me@hans.io"},{"hash":"81f8092a42efa3f1317636cb760f4908bb9ac3d9","date":"2019-06-27 14:24:35 +0200","message":"acl: allow service deregistration with node write permission (#5217)","refs":[],"body":"With ACLs enabled if an agent is wiped and restarted without a leave\r\nit can no longer deregister the services it had previously registered\r\nbecause it no longer has the tokens the services were registered with.\r\nTo remedy that we allow service deregistration from tokens with node\r\nwrite permission.","author_name":"Aestek","author_email":"thib.gilles@gmail.com"},{"hash":"f7fdf1833504552c67e1a1616acf4fe62b71378c","date":"2019-06-27 09:31:19 -0500","message":"fix test that was failing after #6013 (#6026)","refs":[],"body":"","author_name":"R.B. Boyer","author_email":"rb@hashicorp.com"},{"hash":"e8b363e33e0277d72cfc63c8b236bdb3e0a2cfc2","date":"2019-06-27 16:41:05 +0200","message":"Update CHANGELOG.md","refs":[],"body":"","author_name":"Hans Hasselberg","author_email":"me@hans.io"},{"hash":"452a33a17f318703ebe7a18c72ab997b67ff61f5","date":"2019-06-27 16:44:27 +0200","message":"Update CHANGELOG.md","refs":[],"body":"","author_name":"Hans Hasselberg","author_email":"me@hans.io"},{"hash":"1e0296620e12a9801a77ef0292aabb6a4bc6da8e","date":"2019-06-27 08:45:15 -0600","message":"Update CHANGELOG.md","refs":[],"body":"","author_name":"Freddy","author_email":"freddygv@users.noreply.github.com"},{"hash":"a18b6d5ab99e10a953e2d8ebd9807a3d38adb582","date":"2019-06-27 10:47:22 -0400","message":"connect: store signingKeyId instead of authorityKeyId (#6005)","refs":[],"body":"","author_name":"Todd Radel","author_email":"todd@radel.us"},{"hash":"b25e2ed6f870ea456256d4ba38e5352c76a4f02b","date":"2019-06-27 16:51:43 +0200","message":"Update CHANGELOG.md","refs":[],"body":"","author_name":"Hans Hasselberg","author_email":"me@hans.io"},{"hash":"c322c664103a20e4dc3ce5c79e0aa876a78eba52","date":"2019-06-27 10:52:38 -0500","message":"Update CHANGELOG.md","refs":[],"body":"","author_name":"Sarah Christoff","author_email":"sarah.christoff13@gmail.com"},{"hash":"ceef44bbc9d5c37b68dbaf0710a0e5ce3f78d784","date":"2019-06-27 12:37:43 -0500","message":"adding new config entries for L7 discovery chain (unused) (#5987)","refs":[],"body":"","author_name":"R.B. Boyer","author_email":"rb@hashicorp.com"},{"hash":"2947be4ccbb59a6e8ff2ed8422e15ea72953afc7","date":"2019-06-27 13:10:21 -0500","message":"Update CHANGELOG.md","refs":[],"body":"","author_name":"Sarah Christoff","author_email":"sarah.christoff13@gmail.com"},{"hash":"6a52f9f9fb8306db5d0be5799a6cd8b5ce336e13","date":"2019-06-27 13:38:21 -0500","message":"initial version of L7 config entry compiler (#5994)","refs":[],"body":"With this you should be able to fetch all of the relevant discovery\r\nchain config entries from the state store in one query and then feed\r\nthem into the compiler outside of a transaction.\r\n\r\nThere are a lot of TODOs scattered through here, but they're mostly\r\naround handling fun edge cases and can be deferred until more of the\r\nplumbing works completely.","author_name":"R.B. Boyer","author_email":"rb@hashicorp.com"},{"hash":"80325b92bd782c550605fb0eec0051382491f25b","date":"2019-06-27 21:07:46 +0200","message":"Update CHANGELOG.md","refs":[],"body":"","author_name":"Hans Hasselberg","author_email":"me@hans.io"},{"hash":"33a7df333018c79087f1be092297402a312c571d","date":"2019-06-27 22:22:07 +0200","message":"tls: auto_encrypt enables automatic RPC cert provisioning for consul clients (#5597)","refs":[],"body":"","author_name":"Hans Hasselberg","author_email":"me@hans.io"},{"hash":"53b25fbe383a42fa1cc80c9883bf0adaa9d79bb6","date":"2019-06-28 00:57:29 +0200","message":"agent: check for gossip encrypt key (#6037)","refs":[],"body":"","author_name":"Hans Hasselberg","author_email":"me@hans.io"},{"hash":"a82e6a7fd33a0d05b9b871bcaf1d7595c9b8dedc","date":"2019-06-27 22:59:46 +0000","message":"Release v1.5.2","refs":["tag: v1.5.2"],"body":"","author_name":"Hans Hasselberg","author_email":"me@hans.io","tag":"v1.5.2"},{"hash":"cac6bc6377fbfa492303be8f691f54ab953a5ce0","date":"2019-06-27 23:27:07 +0000","message":"Putting source back into Dev Mode","refs":[],"body":"","author_name":"Hans Hasselberg","author_email":"me@hans.io"},{"hash":"81d47a871a148dd3f64859a803bc88ec2d5a0e0f","date":"2019-06-28 12:04:09 -0400","message":"fix glossary link (#6043)","refs":[],"body":"","author_name":"Alvin Huang","author_email":"alvin@hashicorp.com"},{"hash":"38d76c624edea4c1c961b0bce0660f4a3256e535","date":"2019-06-28 11:35:35 -0500","message":"Allow for both snake_case and CamelCase for config entries written with 'consul config write'. (#6044)","refs":[],"body":"This also has the added benefit of fixing an issue with passing\r\ntime.Duration fields through config entries.","author_name":"R.B. Boyer","author_email":"rb@hashicorp.com"},{"hash":"f09af53894ac7037e28360f8593ea91c3fa3c5b7","date":"2019-06-28 12:40:07 -0500","message":"Remove failed nodes from serfWAN (#6028)","refs":[],"body":"* Prune Servers from WAN and LAN\r\n\r\n* cleaned up and fixed LAN to WAN\r\n\r\n* moving things around\r\n\r\n* force-leave remove from serfWAN, create pruneSerfWAN\r\n\r\n* removed serfWAN remove, reduced complexity, fixed comments\r\n\r\n* add another place to remove from serfWAN\r\n\r\n* add nil check\r\n\r\n* Update agent/consul/server.go\r\n\r\nCo-Authored-By: Paul Banks <banks@banksco.de>\r\n","author_name":"Sarah Christoff","author_email":"sarah.christoff13@gmail.com"},{"hash":"e91f73f59249f5756896b10890e9298e7c1fbacc","date":"2019-06-28 12:55:58 -0500","message":"Update CHANGELOG.md","refs":[],"body":"","author_name":"Sarah Christoff","author_email":"sarah.christoff13@gmail.com"},{"hash":"43bda6fb767af953117e6d737b6ab9bed9cbdb38","date":"2019-06-30 02:00:31 +0000","message":"Merge Consul OSS branch 'master' at commit e91f73f59249f5756896b10890e9298e7c1fbacc","refs":[],"body":"","author_name":"hashicorp-ci","author_email":"hashicorp-ci@users.noreply.github.com"},{"hash":"fd52e9e5f46867a81b594a049ff28d6b961e9839","date":"2019-07-01 11:38:53 -0700","message":"website: fix link to raft paper (#6046)","refs":[],"body":"","author_name":"Jack Pearkes","author_email":"jackpearkes@gmail.com"},{"hash":"2ad516aeaf5fe460d8baf32298437ea4a59e9721","date":"2019-07-01 15:23:36 -0500","message":"do some initial config entry graph validation during writes (#6047)","refs":[],"body":"","author_name":"R.B. Boyer","author_email":"rb@hashicorp.com"},{"hash":"ef8e5747eb08009a125993821767aa026e0aaad0","date":"2019-06-20 10:49:40 -0400","message":"increase go test parallelism, resource_class and run tests on release branch (#2)","refs":[],"body":"","author_name":"Alvin Huang","author_email":"alvin@hashicorp.com"},{"hash":"3943e381333bc84cf1f4661db7981c2c0c947f23","date":"2019-06-20 15:04:39 -0400","message":"Implement Kind based ServiceDump and caching of the ServiceDump RPC","refs":[],"body":"","author_name":"Matt Keeler","author_email":"mjkeeler7@gmail.com"},{"hash":"747ae6bdf5c44db347bd0d69e7d52cf011d484c6","date":"2019-06-24 14:21:51 -0400","message":"Implement intention replication and secondary CA initialization","refs":[],"body":"","author_name":"Matt Keeler","author_email":"mjkeeler7@gmail.com"},{"hash":"4bc127731544c072bb7e0b087b99a8307ffceb5c","date":"2019-06-26 12:28:09 -0400","message":"Include a content hash of the intention for use during replication","refs":[],"body":"","author_name":"Matt Keeler","author_email":"mjkeeler7@gmail.com"},{"hash":"da8db83ddf16060bfbff835963ab717ef45858d0","date":"2019-06-26 14:05:00 -0400","message":"Fix secondary dc connect CA roots watch issue","refs":[],"body":"The general problem was that a the CA config which contained the trust domain was happening outside of the blocking mechanism so if the client started the blocking query before the primary dcs roots had been set then a state trust domain was being pushed down.\n\nThis was fixed here but in the future we should probably fixup the CA initialization code to not initialize the CA config twice when it doesn’t need to.\n","author_name":"Matt Keeler","author_email":"mjkeeler7@gmail.com"},{"hash":"8d953f5840cf64e3db54c7cf0fbb92f12f50860a","date":"2019-06-17 20:52:01 -0400","message":"Implement Mesh Gateways","refs":[],"body":"This includes both ingress and egress functionality.\n","author_name":"Matt Keeler","author_email":"mjkeeler7@gmail.com"},{"hash":"fd9237a1ff419903c69b9ae5f9460faa27fa7746","date":"2019-07-02 01:02:00 +0200","message":"Bump timeout in TestManager_BasicLifecycle (#6030)","refs":[],"body":"","author_name":"Pierre Souchay","author_email":"pierresouchay@users.noreply.github.com"},{"hash":"bdebe62fd0425969bb692900552de91c73b79014","date":"2019-07-01 19:47:58 -0400","message":"Fix some tests that I broke when refactoring the ConfigSnapshot (#6051)","refs":[],"body":"* Fix some tests that I broke when refactoring the ConfigSnapshot\r\n\r\n* Make sure the MeshGateway config is added to all the right api structs\r\n\r\n* Fix some more tests\r\n","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"4bdb690a257e46f7e925ef829f2b2c7a6c5663e3","date":"2019-07-01 22:10:51 -0500","message":"activate most discovery chain features in xDS for envoy (#6024)","refs":[],"body":"","author_name":"R.B. Boyer","author_email":"rb@hashicorp.com"},{"hash":"3b6d5e382ad6e26908ff37b47c542dde86106c18","date":"2019-07-01 20:45:42 -0400","message":"Implement caching for config entry lists","refs":[],"body":"Update agent/cache-types/config_entry.go\n\nCo-Authored-By: R.B. Boyer <public@richardboyer.net>\n","author_name":"Matt Keeler","author_email":"mjkeeler7@gmail.com"},{"hash":"a7421c160fc78ebff821b07ddcb42456270de227","date":"2019-07-02 09:43:35 -0400","message":"Implement mesh gateway management of service subsets","refs":[],"body":"Fixup some error handling\n","author_name":"Matt Keeler","author_email":"mjkeeler7@gmail.com"},{"hash":"a8e2e866e3cae1f8eb71e098f22ceb532e796fef","date":"2019-07-02 10:29:09 -0400","message":"Update xds/proxycfg tests to use the same looking trust domain as a normal system","refs":[],"body":"This is to prevent confusion about what our SNI fields actually look like.\n","author_name":"Matt Keeler","author_email":"mjkeeler7@gmail.com"},{"hash":"43770b93910ee8453dd0690b6cfa2f4202e5de08","date":"2019-07-02 11:01:17 -0500","message":"digest the proxy-defaults protocol into the graph (#6050)","refs":[],"body":"","author_name":"R.B. Boyer","author_email":"rb@hashicorp.com"},{"hash":"3eb3ee5a1577f85ca55f3e373766af51a37b501f","date":"2019-07-02 12:05:08 -0400","message":"Merge pull request #6053 from hashicorp/gateways_and_resolvers","refs":[],"body":"Integrate Mesh Gateways with ServiceResolverSubsets","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"a58d8e91ac258c04174afca3818cbdae23aa8d3f","date":"2019-07-02 11:26:26 -0600","message":"Fix Envoy 1.10 support note (#6045)","refs":[],"body":"","author_name":"Freddy","author_email":"freddygv@users.noreply.github.com"},{"hash":"25f580bcaa05348f5e4f762531e331a449e9eb02","date":"2019-07-02 15:53:06 -0400","message":"Fix a bunch of xds flaky tests","refs":[],"body":"The clusters/endpoints test were still relying on deterministic ordering of clusters/endpoints which cannot be relied upon due to golang purposefully not providing any guarantee about consistent interation ordering of maps.\n\nAlso fixed a small bug in the connect proxy cluster generation that was causing the clusters slice to be double the size it needed to with the first half being all nil pointers.\n","author_name":"Matt Keeler","author_email":"mjkeeler7@gmail.com"},{"hash":"065550e1c51a6b465d919d050bd90a70a4454fdb","date":"2019-07-02 17:15:30 -0500","message":"ensure consul config write has snake case conversions for MeshGateway (#6062)","refs":[],"body":"","author_name":"R.B. Boyer","author_email":"rb@hashicorp.com"},{"hash":"7a32c5a61846a6ae89cd297dda4127041ff23b5a","date":"2019-07-03 02:00:31 +0000","message":"Merge Consul OSS branch 'master' at commit a58d8e91ac258c04174afca3818cbdae23aa8d3f","refs":[],"body":"","author_name":"hashicorp-ci","author_email":"hashicorp-ci@users.noreply.github.com"},{"hash":"d2b00bd591e0957ad13d71fad3371ca3db5caa98","date":"2019-07-03 09:18:58 -0400","message":"xds message ordering (#6061)","refs":[],"body":"xds message ordering","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"62ad0294d492bf824ef1ddd3c4f3f374b8189f93","date":"2019-07-03 09:59:21 -0400","message":"Don't use WatchedDatacenters in the xds code as thsoe get nil'ed out prior to sending to xds","refs":[],"body":"","author_name":"Matt Keeler","author_email":"mjkeeler7@gmail.com"},{"hash":"387a54cfaafc64f357c76118a65dc1713187154f","date":"2019-07-03 10:21:34 -0400","message":"Don't use WatchedDatacenters in the xds code(#6068)","refs":[],"body":"* Don't use WatchedDatacenters in the xds code as that map gets nil'ed before the ConfigSnapshot is sent to the xds layer.","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"52c608df78ade40370d906285445f15361e7dd1a","date":"2019-07-04 10:22:59 -0400","message":"`make test-docker` (#6059)","refs":[],"body":"* Implement the test-docker make target\r\n\r\nRunning tests within docker allows us to resource constrain them better to not take over our systems. Additionally it allows us to run the tests on linux instead of the host OS which often times is macOS.\r\n\r\n* Use GOMAXPROCS instead of -p\r\n\r\n* Add a comment about docker cpus\r\n","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"3d562bee5c571eaf8eb43703c28afe32feb93b9e","date":"2019-07-04 11:17:49 -0400","message":"Fix Internal.ServiceDump blocking (#6076)","refs":[],"body":"maxIndexWatchTxn was only watching the IndexEntry of the max index of all the entries. It needed to watch all of them regardless of which was the max.\r\n\r\nAlso plumbed the query source through in the proxy config to help better track requests.","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"dcb9800442fa0d1f3983911d6341d5c10efff972","date":"2019-07-05 09:07:25 +0100","message":"ui: Gateway Addresses (#6075)","refs":[],"body":"- Removes 'type' icons (basically the proxy icon, not the text itself)\r\n\r\n- Add support for Mesh Gateways plus their addresses\r\nThis adds a 'Mesh Gateway' type label to service and service instance\r\npages, plus a new 'Addresses' tab if the service is a Mesh Gateway\r\nshowing a table of addresses for the service - plus tests\r\n\r\n","author_name":"John Cowen","author_email":"johncowen@users.noreply.github.com"},{"hash":"b5aab27c219bccd652737683bd2d960799a08264","date":"2019-07-05 08:06:47 -0700","message":"connect: allow overriding envoy listener bind_address (#6033)","refs":[],"body":"* connect: allow overriding envoy listener bind_address\r\n\r\n* Update agent/xds/config.go\r\n\r\nCo-Authored-By: Kyle Havlovitz <kylehav@gmail.com>\r\n\r\n* connect: allow overriding envoy listener bind_port\r\n\r\n* envoy: support unix sockets for grpc in bootstrap\r\n\r\nAdd AgentSocket BootstrapTplArgs which if set overrides the AgentAddress\r\nand AgentPort to generate a bootstrap which points Envoy to a unix\r\nsocket file instead of an ip:port.\r\n\r\n* Add a test for passing the consul addr as a unix socket\r\n\r\n* Fix config formatting for envoy bootstrap tests\r\n\r\n* Fix listeners test cases for bind addr/port\r\n\r\n* Update website/source/docs/connect/proxies/envoy.md\r\n","author_name":"Michael Schurter","author_email":"mschurter@hashicorp.com"},{"hash":"7d07a0b3973407480a2204b6e6e73f8fe473fe19","date":"2019-07-05 10:22:48 -0700","message":"Update CHANGELOG.md","refs":[],"body":"","author_name":"Jack Pearkes","author_email":"jackpearkes@gmail.com"},{"hash":"b8f5f08efedcaf2ed3cc483e0d378f6a15bd8876","date":"2019-07-05 10:37:42 -0700","message":"Update CHANGELOG.md","refs":["origin/release/1-6"],"body":"","author_name":"Jack Pearkes","author_email":"jackpearkes@gmail.com"},{"hash":"c2c154eaf4135c155617b8ca902780105ac1ac00","date":"2019-07-07 16:55:03 +0200","message":"[docs] Link to TLS guide in Encryption doc (#6071)","refs":[],"body":"Fixes issue #6067","author_name":"Judith Malnick","author_email":"judith.patudith@gmail.com"},{"hash":"d2adfc0bda817bce5499ff1ed6fd8d69842148b5","date":"2019-07-08 02:00:37 +0000","message":"Merge Consul OSS branch 'master' at commit c2c154eaf4135c155617b8ca902780105ac1ac00","refs":[],"body":"","author_name":"hashicorp-ci","author_email":"hashicorp-ci@users.noreply.github.com"},{"hash":"e6f1b78efbe331f46492c6bcb2001385440b6836","date":"2019-07-08 04:48:48 -0700","message":"Make cluster names SNI always (#6081)","refs":[],"body":"* Make cluster names SNI always\r\n\r\n* Update some tests\r\n\r\n* Ensure we check for prepared query types\r\n\r\n* Use sni for route cluster names\r\n\r\n* Proper mesh gateway mode defaulting when the discovery chain is used\r\n\r\n* Ignore service splits from PatchSliceOfMaps\r\n\r\n* Update some xds golden files for proper test output\r\n\r\n* Allow for grpc/http listeners/cluster configs with the disco chain\r\n\r\n* Update stats expectation\r\n","author_name":"Jack Pearkes","author_email":"jackpearkes@gmail.com"},{"hash":"52997acb02d32c5c07a84b86c36f942af65d0d1f","date":"2019-07-08 08:54:10 -0400","message":"Update CHANGELOG.md","refs":[],"body":"","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"7e379bb7f789958257f56fd292d4f078285677da","date":"2019-07-08 13:20:35 +0000","message":"update bindata_assetfs.go","refs":[],"body":"","author_name":"hashicorp-ci","author_email":"hashicorp-ci@users.noreply.github.com"},{"hash":"83b929accfa13d088ac5c5aede3a9cee90637036","date":"2019-07-08 13:20:36 +0000","message":"Release v1.6.0-beta1","refs":["tag: v1.6.0-beta1"],"body":"","author_name":"hashicorp-ci","author_email":"hashicorp-ci@users.noreply.github.com","tag":"v1.6.0-beta1"},{"hash":"9013bc519950e8b277f146ff1ac97a37a42b18a6","date":"2019-07-08 07:12:42 -0700","message":"website: changes for 1.6.0 beta (#6083)","refs":[],"body":"* website: link to 1.6.0 beta in downloads page\r\n\r\n* website: reorganize intention replication/ca federation\r\n\r\n* website: remove announcement bar\r\n\r\n* Update website/source/docs/connect/connect-internals.html.md\r\n\r\nCo-Authored-By: Paul Banks <banks@banksco.de>\r\n\r\n* website: update homepage and service mesh page\r\n\r\nAligning messaging to current product.\r\n\r\n* website: fix link TODOs\r\n\r\n* Add Mesh Gateway to mesh page, update use case wording\r\n","author_name":"Jack Pearkes","author_email":"jackpearkes@gmail.com"},{"hash":"e453e8aabbb3908c2279a2e9fd63754aa6317483","date":"2019-07-08 16:30:03 +0200","message":"Putting source back into Dev Mode","refs":[],"body":"","author_name":"Jack Pearkes","author_email":"jackpearkes@gmail.com"},{"hash":"3716bac3b78681382a5fd290b3f52f275af2a769","date":"2019-07-08 16:30:38 +0200","message":"Better gateway image","refs":[],"body":"","author_name":"Paul Banks","author_email":"banks@banksco.de"},{"hash":"3f3cd9a164c8113092b1173d79b106cfae1e02b1","date":"2019-07-08 13:43:15 -0600","message":"Update CHANGELOG.md","refs":[],"body":"","author_name":"Freddy","author_email":"freddygv@users.noreply.github.com"},{"hash":"d4a3c0e6618793c48ba5c54d1ed548acd96f6a7e","date":"2019-07-08 19:40:57 -0400","message":"Initial Mesh Gateway Docs (#6090)","refs":[],"body":"","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"a0ee71baf92a2cfc25be71d992266bbad0d8ad1d","date":"2019-07-09 02:07:51 +0200","message":"[docs] Guide - Connecting Services Across Datacenters (#6052)","refs":[],"body":"* add connect gateway guide\r\n\r\n* Remove stray space\r\n\r\nCo-Authored-By: Freddy <freddygv@users.noreply.github.com>\r\n\r\n* Specify stanza and exact options\r\n\r\nCo-Authored-By: Freddy <freddygv@users.noreply.github.com>\r\n\r\n* incorporate comments from freddy\r\n\r\n* integrate feedback from matt\r\n\r\n* make snippets all json\r\n\r\n* incorporate more comments from matt\r\n\r\n* added links\r\n\r\n* incorporate comments from neena on google doc draft\r\n\r\n* make learn lnks relative\r\n\r\n* clarify that gateways are new\r\n\r\n* change socat to netcat\r\n\r\n* add more description about replication token permissions\r\n\r\n* Apply suggestions from code review\r\n\r\nCo-Authored-By: Matt Keeler <mkeeler@users.noreply.github.com>\r\n\r\n* add the prerequisite to enable centralized service config\r\n\r\n* finish adding docs links\r\n","author_name":"Judith Malnick","author_email":"judith.patudith@gmail.com"},{"hash":"edd0d4be5ac13f00e7b071e6542266b6e54a45eb","date":"2019-07-08 21:11:19 -0500","message":"Initial L7 Documentation (#6056)","refs":[],"body":"","author_name":"R.B. Boyer","author_email":"rb@hashicorp.com"},{"hash":"068a069512ca24d7f21ee5a5141d341cb302c055","date":"2019-07-08 21:25:25 -0500","message":"config entry doc snippet for mesh gateways (#6095)","refs":[],"body":"","author_name":"R.B. Boyer","author_email":"rb@hashicorp.com"},{"hash":"12dc9019af82f8efc22a216515325f63cb92eb23","date":"2019-07-09 05:51:23 +0200","message":"website: better mesh links into new docs","refs":[],"body":"","author_name":"Jack Pearkes","author_email":"jackpearkes@gmail.com"},{"hash":"81aba020159b154fb19f6551cff31340370100f2","date":"2019-07-09 05:55:58 +0200","message":"website: better mesh call to actions","refs":[],"body":"","author_name":"Jack Pearkes","author_email":"jackpearkes@gmail.com"},{"hash":"6cf9abcf2fcee4f2c4c37a7b2d07ca1693c5fabe","date":"2019-07-09 07:44:51 +0200","message":"website: remove configuration use-case","refs":[],"body":"","author_name":"Jack Pearkes","author_email":"jackpearkes@gmail.com"},{"hash":"ad9dcfcfe5d5259f89a4014f68140e3ffc926680","date":"2019-07-09 08:45:58 +0200","message":"website: fix use-case dropdown size","refs":[],"body":"","author_name":"Jack Pearkes","author_email":"jackpearkes@gmail.com"},{"hash":"df6eab83d4df49a0583437032ad6e650c9c43137","date":"2019-07-09 13:43:29 +0200","message":"website: link to beta changelog","refs":[],"body":"","author_name":"Jack Pearkes","author_email":"jackpearkes@gmail.com"},{"hash":"da1f0af18e3f0f808185f0d5edbba449f3963b3b","date":"2019-07-09 15:41:32 +0200","message":"Update CHANGELOG.md","refs":[],"body":"","author_name":"Jack Pearkes","author_email":"jackpearkes@gmail.com"},{"hash":"20caa4f7446aa29994142094dffe77d43573bf1a","date":"2019-07-10 15:58:25 -0500","message":"test: for envoy integration tests, wait until 's2' is healthy in consul before interrogating envoy (#6108)","refs":[],"body":"When the envoy healthy panic threshold was explicitly disabled as part\r\nof L7 traffic management it changed how envoy decided to load balance to\r\nendpoints in a cluster. This only matters when envoy is in \"panic mode\"\r\naka \"when you have a bunch of unhealthy endpoints\". Panic mode sends\r\ntraffic to unhealthy instances in certain circumstances.\r\n\r\nNote: Prior to explicitly disabling the healthy panic threshold, the\r\ndefault value is 50%.\r\n\r\nWhat was happening is that the test harness was bringing up consul the\r\nsidecars, and the service instances all at once and sometimes the\r\nproxies wouldn't have time to be checked by consul to be labeled as\r\n'passing' in the catalog before a round of EDS happened.\r\n\r\nThe xDS server in consul effectively queries /v1/health/connect/s2 and\r\ngets 1 result, but that one result has a 'critical' check so the xDS\r\nserver sends back that endpoint labeled as UNHEALTHY.\r\n\r\nEnvoy sees that 100% of the endpoints in the cluster are unhealthy and\r\nwould enter panic mode and still send traffic to s2. This is why the\r\ntest suites PRIOR to disabling the healthy panic threshold worked. They\r\nwere _incorrectly_ passing.\r\n\r\nWhen the healthy panic threshol is disabled, envoy never enters panic\r\nmode in this situation and thus the cluster has zero healthy endpoints\r\nso load balancing goes nowhere and the tests fail.\r\n\r\nWhy does this only affect the test suites for envoy 1.8.0? My guess is\r\nthat https://github.com/envoyproxy/envoy/pull/4442 was merged into the\r\n1.9.x series and somehow that plays a role.\r\n\r\nThis PR modifies the bats scripts to explicitly wait until the upstream\r\nsidecar is healthy as measured by /v1/health/connect/s2?passing BEFORE\r\ntrying to interrogate envoy which should make the tests less racy.","author_name":"R.B. Boyer","author_email":"rb@hashicorp.com"},{"hash":"d4e58e977360d47857986621df6a4c770bfd606e","date":"2019-07-10 17:07:47 -0500","message":"test: for envoy integration tests bump the time to wait for the upstream to be healthy (#6109)","refs":[],"body":"","author_name":"R.B. Boyer","author_email":"rb@hashicorp.com"},{"hash":"79e36385ce65275570c50165285e065a84a38f3b","date":"2019-07-11 02:00:37 +0000","message":"Merge Consul OSS branch 'master' at commit 3f3cd9a164c8113092b1173d79b106cfae1e02b1","refs":[],"body":"","author_name":"hashicorp-ci","author_email":"hashicorp-ci@users.noreply.github.com"},{"hash":"de23af071a93260ba76096c7084c23efa6eb17c9","date":"2019-07-12 10:10:48 -0400","message":"Move ctx and cancel func setup into the Replicator.Start (#6115)","refs":[],"body":"Previously a sequence of events like:\r\n\r\nStart\r\nStop\r\nStart\r\nStop\r\n\r\nwould segfault on the second stop because the original ctx and cancel func were only initialized during the constructor and not during Start.","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"0f8837824ec2ec9eb29b4b6df205c8c331a3b3f6","date":"2019-07-12 08:23:28 -0600","message":"Clean up StatsFetcher work when context is exceeded (#6086)","refs":[],"body":"","author_name":"Freddy","author_email":"freddygv@users.noreply.github.com"},{"hash":"0b9111714b5641d81a72fb351cde036ef2a1f8b5","date":"2019-07-12 09:37:29 -0600","message":"Update TestServer creation in sdk/testutil (#6084)","refs":[],"body":"* Retry the creation of the test server three times.\r\n* Reduce the retry timeout for the API wait to 2 seconds, opting to fail faster and start over.\r\n* Remove wait for leader from server creation. This wait can be added on a test by test basis now that the function is being exported.\r\n* Remove wait for anti-entropy sync. This is built into the existing WaitForSerfCheck func, so that can be used if the anti-entropy wait is needed","author_name":"Freddy","author_email":"freddygv@users.noreply.github.com"},{"hash":"4033a4d6326dc1e451dae0f4a79c5bf12888c322","date":"2019-07-12 09:50:14 -0600","message":"Remove dummy config (#6121)","refs":[],"body":"","author_name":"Freddy","author_email":"freddygv@users.noreply.github.com"},{"hash":"5873c56a03661f1bd7b82fd372ab126cee830127","date":"2019-07-12 09:52:26 -0600","message":"Flaky test overhaul (#6100)","refs":[],"body":"","author_name":"Freddy","author_email":"freddygv@users.noreply.github.com"},{"hash":"911ed76e5b76f7fc888f7a798f0b214f15d64623","date":"2019-07-12 11:12:56 -0500","message":"tests: further reduce envoy integration test flakiness (#6112)","refs":[],"body":"In addition to waiting until s2 shows up healthy in the Catalog, wait\r\nuntil s2 endpoints show up healthy via EDS in the s1 upstream clusters.","author_name":"R.B. Boyer","author_email":"rb@hashicorp.com"},{"hash":"6e65811db2324465d1049e477b692253d3ccf720","date":"2019-07-12 12:57:31 -0400","message":"Envoy CLI bind addresses (#6107)","refs":[],"body":"* Ensure we MapWalk the proxy config in the NodeService and ServiceNode structs\r\n\r\nThis gets rid of some json encoder errors in the catalog endpoints\r\n\r\n* Allow passing explicit bind addresses to envoy\r\n\r\n* Move map walking to the ConnectProxyConfig struct\r\n\r\nAny place where this struct gets JSON encoded will benefit as opposed to having to implement it everywhere.\r\n\r\n* Fail when a non-empty address is provided and not bindable\r\n\r\n* camel case\r\n\r\n* Update command/connect/envoy/envoy.go\r\n\r\nCo-Authored-By: Paul Banks <banks@banksco.de>\r\n","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"67a36e34521c4e2ffbcd361d2698407d39a3514b","date":"2019-07-12 12:20:30 -0500","message":"handle structs.ConfigEntry decoding similarly to api.ConfigEntry decoding (#6106)","refs":[],"body":"Both 'consul config write' and server bootstrap config entries take a\r\ndecoding detour through mapstructure on the way from HCL to an actual\r\nstruct. They both may take in snake_case or CamelCase (for consistency)\r\nso need very similar handling.\r\n\r\nUnfortunately since they are operating on mirror universes of structs\r\n(api.* vs structs.*) the code cannot be identitical, so try to share the\r\nkind-configuration and duplicate the rest for now.","author_name":"R.B. Boyer","author_email":"rb@hashicorp.com"},{"hash":"9138a97054abc6464980c8a4d3dc6d791862da9f","date":"2019-07-12 12:21:25 -0500","message":"Fix bug in service-resolver redirects if the destination uses a default resolver. (#6122)","refs":[],"body":"Also:\r\n- add back an internal http endpoint to dump a compiled discovery chain for debugging purposes\r\n\r\nBefore the CompiledDiscoveryChain.IsDefault() method would test:\r\n\r\n- is this chain just one resolver step?\r\n- is that resolver step just the default?\r\n\r\nBut what I forgot to test:\r\n\r\n- is that resolver step for the same service that the chain represents?\r\n\r\nThis last point is important because if you configured just one config\r\nentry:\r\n\r\n    kind = \"service-resolver\"\r\n    name = \"web\"\r\n    redirect {\r\n      service = \"other\"\r\n    }\r\n\r\nand requested the chain for \"web\" you'd get back a **default** resolver\r\nfor \"other\".  In the xDS code the IsDefault() method is used to\r\ndetermine if this chain is \"empty\". If it is then we use the\r\npre-discovery-chain logic that just uses data embedded in the Upstream\r\nobject (and still lets the escape hatches function).\r\n\r\nIn the example above that means certain parts of the xDS code were going\r\nto try referencing a cluster named \"web...\" despite the other parts of\r\nthe xDS code maintaining clusters named \"other...\".","author_name":"R.B. Boyer","author_email":"rb@hashicorp.com"},{"hash":"97ecc0517ccda9ae3254c1f64b6ee3c9b9fe9a99","date":"2019-07-12 12:57:41 -0600","message":"Fix some retries in api pkg (#6124)","refs":[],"body":"","author_name":"Freddy","author_email":"freddygv@users.noreply.github.com"},{"hash":"8a90185bbd21dcf1703eb9e199ad6764f70fd2bc","date":"2019-07-12 14:04:15 -0500","message":"unknown fields now fail, so omit these unimplemented fields (#6125)","refs":[],"body":"","author_name":"R.B. Boyer","author_email":"rb@hashicorp.com"},{"hash":"bcd2de3a2e2c7e5326e9424481e398ddb6764b88","date":"2019-07-12 14:16:21 -0500","message":"implement some missing service-router features and add more xDS testing (#6065)","refs":[],"body":"- also implement OnlyPassing filters for non-gateway clusters","author_name":"R.B. Boyer","author_email":"rb@hashicorp.com"},{"hash":"ce3a6e8660db4fc8a278706c84cedc4320a60ca1","date":"2019-07-12 14:14:42 -0700","message":"fix flaky test TestACLEndpoint_SecureIntroEndpoints_OnlyCreateLocalData (#6116)","refs":[],"body":"* fix test to write only to dc2 (typo)\r\n* fix retry behavior in existing test (was being used incorrectly)\r\n","author_name":"Sarah Adams","author_email":"sadams.codes@gmail.com"},{"hash":"4728329aebd0cc3917ee58ca2eb3b532c13d78a6","date":"2019-07-12 17:19:37 -0400","message":"Various Gateway Fixes (#6093)","refs":[],"body":"* Ensure the mesh gateway configuration comes back in the api within each upstream\r\n\r\n* Add a test for the MeshGatewayConfig in the ToAPI functions\r\n\r\n* Ensure we don’t use gateways for dc local connections\r\n\r\n* Update the svc kind index for deletions\r\n\r\n* Replace the proxycfg.state cache with an interface for testing\r\n\r\nAlso start implementing proxycfg state testing.\r\n\r\n* Update the state tests to verify some gateway watches for upstream-targets of a discovery chain.\r\n","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"338aed32aff2d73d7d463a7bf514e6add6ecebf4","date":"2019-07-12 14:51:25 -0700","message":"Merge branch 'master' into release/1-6","refs":[],"body":"","author_name":"Jack Pearkes","author_email":"jackpearkes@gmail.com"},{"hash":"17569d7714dd9ecaf22d63e78b3ccb217cbb7d93","date":"2019-07-12 15:54:29 -0700","message":"Update CHANGELOG.md","refs":[],"body":"","author_name":"Jack Pearkes","author_email":"jackpearkes@gmail.com"},{"hash":"2664a5efa5bb281818ac4c01e26d55859af4a3fa","date":"2019-07-15 14:06:26 +0100","message":"ui: Forced upgrade handlebars from 4.0 to 4.1 (#6077)","refs":[],"body":"Force bumps [handelbars](https://github.com/wycats/handlebars.js) from 4.0 to 4.1.2 using `resolutions`\r\n\r\n- [Release Notes](https://github.com/wycats/handlebars.js/blob/master/release-notes.md)","author_name":"John Cowen","author_email":"johncowen@users.noreply.github.com"},{"hash":"e262631900db83756b56005ef9fdef3b255d04b3","date":"2019-07-15 14:48:51 +0100","message":"ui: Force upgrades lodash and lodash submodules: (#6137)","refs":[],"body":"All related to:\r\n\r\n- https://github.com/lodash/lodash/pull/4336","author_name":"John Cowen","author_email":"johncowen@users.noreply.github.com"},{"hash":"e8132b61c0ffbb1d05bf7f85650898e24770e687","date":"2019-07-15 10:09:52 -0500","message":"add test for discovery chain agent cache-type (#6130)","refs":[],"body":"","author_name":"R.B. Boyer","author_email":"rb@hashicorp.com"},{"hash":"255653c6fb76918450648c727bfd168da6cdf704","date":"2019-07-15 10:02:34 -0700","message":"Merge remote-tracking branch 'origin/master' into release/1-6","refs":[],"body":"","author_name":"Jack Pearkes","author_email":"jackpearkes@gmail.com"},{"hash":"4bb858161e05d9311b17d456a128d1848a3ae9d5","date":"2019-07-15 18:09:30 +0000","message":"update bindata_assetfs.go","refs":[],"body":"","author_name":"hashicorp-ci","author_email":"hashicorp-ci@users.noreply.github.com"},{"hash":"6937bb292c2db85254fff15815df27b6f3ad5771","date":"2019-07-15 18:09:31 +0000","message":"Release v1.6.0-beta2","refs":["tag: v1.6.0-beta2"],"body":"","author_name":"hashicorp-ci","author_email":"hashicorp-ci@users.noreply.github.com","tag":"v1.6.0-beta2"},{"hash":"648e20d0c9b590bec44a2050046714f8bc244e35","date":"2019-07-15 15:03:36 -0400","message":"Putting source back into Dev Mode","refs":[],"body":"","author_name":"Alvin Huang","author_email":"alvin@hashicorp.com"},{"hash":"d219e31db879efa7a4a0a2d5e909faa928a889e5","date":"2019-07-16 14:47:45 -0600","message":"Update retries that weren't using retry.R (#6146)","refs":[],"body":"","author_name":"Freddy","author_email":"freddygv@users.noreply.github.com"},{"hash":"ea2bd5b7281fee2f72efe97de0841d65cd7821f9","date":"2019-07-16 15:13:26 -0700","message":"http/tcp checks: fix long timeout behavior to default to user-configured value (#6094)","refs":[],"body":"Fixes #5834","author_name":"Sarah Adams","author_email":"sadams.codes@gmail.com"},{"hash":"95dbb7f2f1b9fc3528a16335201e2324f1b388bd","date":"2019-07-16 18:52:24 -0400","message":"add lint-consul-retry tool (#6139)","refs":[],"body":"* add lint-consul-retry tool\r\n\r\n* lint consul retry for forks too\r\n","author_name":"Alvin Huang","author_email":"alvin@hashicorp.com"},{"hash":"fa20c7db97502dc2af9f0b2f415e46aacc82aff3","date":"2019-07-17 02:00:21 +0000","message":"Merge Consul OSS branch 'master' at commit 95dbb7f2f1b9fc3528a16335201e2324f1b388bd","refs":[],"body":"","author_name":"hashicorp-ci","author_email":"hashicorp-ci@users.noreply.github.com"},{"hash":"4a9f4b97e69bf35ab9155c465c04749a5d85df67","date":"2019-07-17 09:20:10 -0500","message":"tests: when running envoy integration tests try to limit container bleedover between cases (#6148)","refs":[],"body":"","author_name":"R.B. Boyer","author_email":"rb@hashicorp.com"},{"hash":"c31cb95da3ba061fc5b8c138af14616a2961f43d","date":"2019-07-16 10:23:49 +0100","message":"Document multiple services config in hcl","refs":[],"body":"Also change ttl => timeout since ttl doesn't work anymore.\n","author_name":"Luke Kysow","author_email":"1034429+lkysow@users.noreply.github.com"},{"hash":"59dbd070d7c632675af950f69e6278e419cd3a89","date":"2019-07-17 09:33:38 -0600","message":"More flaky test fixes (#6151)","refs":[],"body":"* Add retry to TestAPI_ClientTxn\r\n\r\n* Add retry to TestLeader_RegisterMember\r\n\r\n* Account for empty watch result in ConnectRootsWatch\r\n","author_name":"Freddy","author_email":"freddygv@users.noreply.github.com"},{"hash":"3b5f2bb1ff79432cd7fc79844e57d2cbd624d04e","date":"2019-07-17 10:11:58 -0700","message":"Update CHANGELOG.md","refs":[],"body":"","author_name":"Sarah Adams","author_email":"sadams.codes@gmail.com"},{"hash":"5526cfac8bf8afa22bf03b6b256e7494db6ca70b","date":"2019-07-17 11:35:33 -0600","message":"Reduce number of servers in TestServer_Expect_NonVoters (#6155)","refs":[],"body":"","author_name":"Freddy","author_email":"freddygv@users.noreply.github.com"},{"hash":"7b0614ea82677595345da09ba658ad88ef39aacb","date":"2019-07-17 13:43:33 -0400","message":"turning on go tests in circle for non-forks (#6154)","refs":[],"body":"* turning on go tests in circle for non-forks\r\n\r\n* fix comment\r\n","author_name":"Alvin Huang","author_email":"alvin@hashicorp.com"},{"hash":"f946545b2862ad41bade318063b319eedb40025e","date":"2019-07-17 11:02:58 -0700","message":"Detail required settings in Gateway doc (#6126)","refs":[],"body":"* Update mesh_gateway.html.md\r\n\r\n* Apply suggestions from code review\r\n\r\nCo-Authored-By: Luke Kysow <1034429+lkysow@users.noreply.github.com>\r\n\r\n* Add WAN joining requirement\r\n\r\n* re-word primary dc guidance\r\n\r\nCo-Authored-By: Luke Kysow <1034429+lkysow@users.noreply.github.com>\r\n\r\n* Update website/source/docs/connect/mesh_gateway.html.md\r\n","author_name":"Judith Malnick","author_email":"judith.patudith@gmail.com"},{"hash":"b16d7f00bc43124908bf8ef40aa9e0302e1d5a2c","date":"2019-07-17 14:06:50 -0500","message":"agent: avoid reverting any check updates that occur while a service is being added or the config is reloaded (#6144)","refs":[],"body":"","author_name":"R.B. Boyer","author_email":"rb@hashicorp.com"},{"hash":"d7a5158805d8713a157ae2c370aeabd838d4feaf","date":"2019-07-17 14:07:08 -0500","message":"xds: allow http match criteria to be applied to routes on services using grpc protocols (#6149)","refs":[],"body":"","author_name":"R.B. Boyer","author_email":"rb@hashicorp.com"},{"hash":"4f94aa151afbbd629d1aa2e5c998cf58480a8ea1","date":"2019-07-17 14:08:17 -0500","message":"update changelog","refs":[],"body":"","author_name":"R.B. Boyer","author_email":"rb@hashicorp.com"},{"hash":"26026d7f7237f14e202bd41e1b4a62e711bb9301","date":"2019-07-17 14:09:22 -0500","message":"update changelog","refs":[],"body":"","author_name":"R.B. Boyer","author_email":"rb@hashicorp.com"},{"hash":"6f1953d96dcfb589a4d8c1a8c4cc55866e233a08","date":"2019-07-17 15:43:30 -0400","message":"Merge branch 'master' into release/1-6","refs":[],"body":"","author_name":"Alvin Huang","author_email":"alvin@hashicorp.com"},{"hash":"403881650d3f3e9d1cf01f0414065137f6c38855","date":"2019-07-17 14:46:27 -0500","message":"fix changelog after merge","refs":[],"body":"","author_name":"R.B. Boyer","author_email":"rb@hashicorp.com"},{"hash":"2679315177e4372ffdf4780e84f61baac82285f1","date":"2019-07-18 05:36:36 +0200","message":"[docs] Encryption docs update (#6082)","refs":[],"body":"* Bad link in encryption docs\r\n\r\n* clarifying the guide link\r\n\r\n* Update website/source/docs/agent/encryption.html.md\r\n\r\nCo-Authored-By: kaitlincarter-hc <43049322+kaitlincarter-hc@users.noreply.github.com>\r\n\r\n* Update website/source/docs/agent/encryption.html.md\r\n\r\nCo-Authored-By: kaitlincarter-hc <43049322+kaitlincarter-hc@users.noreply.github.com>\r\n","author_name":"kaitlincarter-hc","author_email":"43049322+kaitlincarter-hc@users.noreply.github.com"},{"hash":"42dae36923ff08eb14658e78b22d56af78eb7b84","date":"2019-07-18 12:15:22 +0100","message":"Merge pull request #6141 from hashicorp/hcl-multi-service-docs","refs":[],"body":"Document multiple services config in hcl","author_name":"Luke Kysow","author_email":"1034429+lkysow@users.noreply.github.com"},{"hash":"194a978707cf89e8b5ff5821664e729734926cbb","date":"2019-07-19 02:00:21 +0000","message":"Merge Consul OSS branch 'master' at commit 42dae36923ff08eb14658e78b22d56af78eb7b84","refs":[],"body":"","author_name":"hashicorp-ci","author_email":"hashicorp-ci@users.noreply.github.com"},{"hash":"ed4e64f6b22fa3f52913b07d2150feb8d9e8976d","date":"2019-07-19 13:48:11 +0200","message":"Fixed nil check for token (#6179)","refs":[],"body":"I can only assume we want to check for the retrieved `updatedToken` to not be\r\nnil, before accessing it below.\r\n\r\n`token` can't possibly be nil at this point, as we accessed `token.AccessorID`\r\njust before.","author_name":"Christian Muehlhaeuser","author_email":"muesli@gmail.com"},{"hash":"16193665ca38dda9ae9a58db5855a26241ec50d2","date":"2019-07-19 13:53:42 +0200","message":"Fixed a few tautological condition mistakes (#6177)","refs":[],"body":"None of these changes should have any side-effects. They're merely\r\nfixing tautological mistakes.","author_name":"Christian Muehlhaeuser","author_email":"muesli@gmail.com"},{"hash":"1366bebf7f2c67a63315dc36d40adc3fac1a49cf","date":"2019-07-19 13:54:53 +0200","message":"Fixed typos in comments (#6175)","refs":[],"body":"Just a few nitpicky typo fixes.","author_name":"Christian Muehlhaeuser","author_email":"muesli@gmail.com"},{"hash":"61ff1d20bf026fa4e084a870d7b94eef1eef9262","date":"2019-07-19 15:13:18 +0200","message":"Avoid unnecessary conversions (#6178)","refs":[],"body":"Those values already have the right type.","author_name":"Christian Muehlhaeuser","author_email":"muesli@gmail.com"},{"hash":"b006060d4c90a7ea53e41b60f21c20e9959af5ea","date":"2019-07-19 23:36:34 +0200","message":"log rotation: limit count of rotated log files (#5831)","refs":[],"body":"","author_name":"javicrespo","author_email":"javiercrespoalvez@gmail.com"},{"hash":"ef257b084d2e2a474889518440515e360d0cd990","date":"2019-07-19 16:29:42 -0600","message":"Fix typo chose/choose (#6170)","refs":[],"body":"","author_name":"Freddy","author_email":"freddygv@users.noreply.github.com"},{"hash":"a4431da1ccf4618fb4ed76cd0a42b2b3ce14e8e9","date":"2019-07-20 02:00:29 +0000","message":"Merge Consul OSS branch 'master' at commit ef257b084d2e2a474889518440515e360d0cd990","refs":[],"body":"","author_name":"hashicorp-ci","author_email":"hashicorp-ci@users.noreply.github.com"},{"hash":"7753b97cc7dd597a7ed3a4fbb14a6906e36ab108","date":"2019-07-20 15:37:19 +0200","message":"Simplified code in various places (#6176)","refs":[],"body":"All these changes should have no side-effects or change behavior:\r\n\r\n- Use bytes.Buffer's String() instead of a conversion\r\n- Use time.Since and time.Until where fitting\r\n- Drop unnecessary returns and assignment","author_name":"Christian Muehlhaeuser","author_email":"muesli@gmail.com"},{"hash":"6fba0106a36d22eb876e02f54960e128dc83e37b","date":"2019-07-22 14:01:22 -0400","message":"Run go test packages in parallel (#6165)","refs":[],"body":"* modify gotestsum hacking that is unnecessary with the latest version\r\n\r\n* try running 2 packages at a time\r\n\r\n* try running 3 packages at a time\r\n\r\n* remove old comments\r\n","author_name":"Alvin Huang","author_email":"alvin@hashicorp.com"},{"hash":"7c1f98e9a4286886e1a6a62711337bb18b4f064b","date":"2019-07-22 18:08:54 -0400","message":"enable circleci go tests for forks and reorganize jobs (#6191)","refs":[],"body":"","author_name":"Alvin Huang","author_email":"alvin@hashicorp.com"},{"hash":"3a4e38a13ee9245bad315f9f239cc49995c6536e","date":"2019-07-22 19:16:06 -0500","message":"[docs] New K8s-Consul deployment guide (#5859)","refs":[],"body":"* New K8s-Consul deployment guide\r\n\r\n* Update website/source/docs/guides/kubernetes-production-deploy.md\r\n\r\n* Update website/source/docs/guides/kubernetes-production-deploy.md\r\n\r\nCo-Authored-By: Rebecca Zanzig <rebecca@hashicorp.com>\r\n\r\n* Update website/source/docs/guides/kubernetes-production-deploy.md\r\n\r\nCo-Authored-By: Rebecca Zanzig <rebecca@hashicorp.com>\r\n\r\n* Update website/source/docs/guides/kubernetes-production-deploy.md\r\n\r\nCo-Authored-By: Rebecca Zanzig <rebecca@hashicorp.com>\r\n\r\n* Update website/source/docs/guides/kubernetes-production-deploy.md\r\n\r\nCo-Authored-By: Rebecca Zanzig <rebecca@hashicorp.com>\r\n\r\n* Update website/source/docs/guides/kubernetes-production-deploy.md\r\n\r\nCo-Authored-By: Rebecca Zanzig <rebecca@hashicorp.com>\r\n\r\n* updating based on comments\r\n\r\n* Update website/source/docs/guides/kubernetes-production-deploy.md\r\n\r\nCo-Authored-By: Rebecca Zanzig <rebecca@hashicorp.com>\r\n\r\n* Update website/source/docs/guides/kubernetes-production-deploy.md\r\n\r\n* Update website/source/docs/guides/kubernetes-production-deploy.md\r\n","author_name":"kaitlincarter-hc","author_email":"43049322+kaitlincarter-hc@users.noreply.github.com"},{"hash":"f38da47c550757b1e688621cda33f2ecd3fff00b","date":"2019-07-23 15:19:57 +0100","message":"Allow raft TrailingLogs to be configured. (#6186)","refs":[],"body":"This fixes pathological cases where the write throughput and snapshot size are both so large that more than 10k log entries are written in the time it takes to restore the snapshot from disk. In this case followers that restart can never catch up with leader replication again and enter a loop of constantly downloading a full snapshot and restoring it only to find that snapshot is already out of date and the leader has truncated its logs so a new snapshot is sent etc.\r\n\r\nIn general if you need to adjust this, you are probably abusing Consul for purposes outside its design envelope and should reconsider your usage to reduce data size and/or write volume.\r\n\r\n","author_name":"Paul Banks","author_email":"banks@banksco.de"},{"hash":"af7a392a17de5d41f0162ac9c2bdbf382dc424a5","date":"2019-07-23 15:45:39 +0100","message":"Update CHANGELOG.md","refs":[],"body":"","author_name":"Paul Banks","author_email":"banks@banksco.de"},{"hash":"d7fe8befa93b4f7b44e2582040f5dba0003abd8e","date":"2019-07-23 14:45:20 -0400","message":"Update go-bexpr (#6190)","refs":[],"body":"* Update go-bexpr to v0.1.1\r\n\r\nThis brings in:\r\n\r\n• `in`/`not in` operators to do substring matching\r\n• `matches` / `not matches` operators to perform regex string matching.\r\n\r\n* Add the capability to auto-generate the filtering selector ops tables for our docs\r\n","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"821bd2f972144f7ad2085decc33555ea0d98b8c9","date":"2019-07-23 14:46:48 -0400","message":"Update CHANGELOG.md","refs":[],"body":"","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"230ca21a0ef295bda497fa32e7b44fe80dda0583","date":"2019-07-23 15:35:46 -0400","message":"remove travis config (#6199)","refs":[],"body":"","author_name":"Alvin Huang","author_email":"alvin@hashicorp.com"},{"hash":"b4590fb8e8d7b3102d355df074bfb2414ac116a4","date":"2019-07-23 13:30:16 -0700","message":"Display nicely Networks (CIDR) in runtime configuration (#6029)","refs":[],"body":"* Display nicely Networks (CIDR) in runtime configuration\r\n\r\nCIDR mask is displayed in binary in configuration.\r\nThis add support for nicely displaying CIDR in runtime configuration.\r\n\r\nCurrently, if a configuration contains the following lines:\r\n\r\n  \"http_config\": {\r\n    \"allow_write_http_from\": [\r\n      \"127.0.0.0/8\",\r\n      \"::1/128\"\r\n    ]\r\n  }\r\n\r\nA call to `/v1/agent/self?pretty` would display\r\n\r\n  \"AllowWriteHTTPFrom\": [\r\n            {\r\n                \"IP\": \"127.0.0.0\",\r\n                \"Mask\": \"/wAAAA==\"\r\n            },\r\n            {\r\n                \"IP\": \"::1\",\r\n                \"Mask\": \"/////////////////////w==\"\r\n            }\r\n  ]\r\n\r\nThis PR fixes it and it will now display:\r\n\r\n   \"AllowWriteHTTPFrom\": [ \"127.0.0.0/8\", \"::1/128\" ]\r\n\r\n* Added test for cidr nice rendering in `TestSanitize()`.\r\n","author_name":"Pierre Souchay","author_email":"pierresouchay@users.noreply.github.com"},{"hash":"768d038d6f47153d19bc2d6991a787ed4dc6cc3c","date":"2019-07-23 16:31:26 -0400","message":"Update CHANGELOG.md","refs":[],"body":"","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"a13de7dee916f07aa137c7ae3dcea4bc218d577b","date":"2019-07-23 14:32:10 -0600","message":"Update CHANGELOG.md","refs":[],"body":"","author_name":"Freddy","author_email":"freddygv@users.noreply.github.com"},{"hash":"d86efb83e53d29d0993912b8e85bd086190932ae","date":"2019-07-23 14:33:00 -0600","message":"Restore NotifyListen to avoid panic in newServer retry (#6200)","refs":[],"body":"","author_name":"Freddy","author_email":"freddygv@users.noreply.github.com"},{"hash":"ef6b80bab2213b2ab7579616e53b56f8973d4b6f","date":"2019-07-23 20:18:36 -0400","message":"resolve circleci config conflicts","refs":[],"body":"","author_name":"Alvin Huang","author_email":"alvin@hashicorp.com"},{"hash":"aca2c5de3f15a556558b5dfa980059639559263a","date":"2019-07-23 20:08:36 -0500","message":"tests: adding new envoy integration tests for L7 service-resolvers (#6129)","refs":[],"body":"Additionally:\r\n\r\n- wait for bootstrap config entries to be applied\r\n\r\n- run the verify container in the host's PID namespace so we can kill\r\nenvoys without mounting the docker socket\r\n\r\n* assert that we actually send HEALTHY and UNHEALTHY endpoints down in EDS during failover","author_name":"R.B. Boyer","author_email":"rb@hashicorp.com"},{"hash":"e039dfd7f8a41851c8dd5bd8336f71ae8950c163","date":"2019-07-23 20:20:24 -0500","message":"connect: rework how the service resolver subset OnlyPassing flag works (#6173)","refs":[],"body":"The main change is that we no longer filter service instances by health,\r\npreferring instead to render all results down into EDS endpoints in\r\nenvoy and merely label the endpoints as HEALTHY or UNHEALTHY.\r\n\r\nWhen OnlyPassing is set to true we will force consul checks in a\r\n'warning' state to render as UNHEALTHY in envoy.\r\n\r\nFixes #6171","author_name":"R.B. Boyer","author_email":"rb@hashicorp.com"},{"hash":"483effd496773fd6cf0cb4f7c0ecb837c2a2158e","date":"2019-07-23 20:21:30 -0500","message":"update changelog","refs":[],"body":"","author_name":"R.B. Boyer","author_email":"rb@hashicorp.com"},{"hash":"1dbd92e0918f3fe682c633ee9a8583087aa256a7","date":"2019-07-23 20:50:23 -0500","message":"connect: validate and test more of the L7 config entries (#6156)","refs":[],"body":"","author_name":"R.B. Boyer","author_email":"rb@hashicorp.com"},{"hash":"880d149c1958db37a54a221623078fdf00159efd","date":"2019-07-23 20:51:58 -0500","message":"update changelog","refs":[],"body":"","author_name":"R.B. Boyer","author_email":"rb@hashicorp.com"},{"hash":"85cf2706e613bfa2157fbb05af905ca108fe5a0e","date":"2019-07-23 20:55:26 -0500","message":"connect: change router syntax for matching query parameters to resemble the syntax for matching paths and headers for consistency. (#6163)","refs":[],"body":"This is a breaking change, but only in the context of the beta series.","author_name":"R.B. Boyer","author_email":"rb@hashicorp.com"},{"hash":"ad9e7b6ae98c993ff5178ef368d7d1ef5f9e4b5c","date":"2019-07-23 20:56:39 -0500","message":"connect: allow L7 routers to match on http methods (#6164)","refs":[],"body":"Fixes #6158","author_name":"R.B. Boyer","author_email":"rb@hashicorp.com"},{"hash":"e5e3f483c5f2fef9e301330c435303088d171551","date":"2019-07-23 20:57:53 -0500","message":"update changelog","refs":[],"body":"","author_name":"R.B. Boyer","author_email":"rb@hashicorp.com"},{"hash":"199f6cc41d54f7f6dd9b66475727f98ba406f682","date":"2019-07-24 08:41:00 -0600","message":"Make new config when retrying testServer creation (#6204)","refs":[],"body":"","author_name":"Freddy","author_email":"freddygv@users.noreply.github.com"},{"hash":"569b37133a532c05a1218275cdaf4823c575e024","date":"2019-07-24 13:23:49 -0400","message":"Fix links to ambassador website","refs":[],"body":"","author_name":"Todd Radel","author_email":"todd@hashicorp.com"},{"hash":"30533421989effbe00b277f02103b8b457eb238c","date":"2019-07-24 17:01:42 -0400","message":"Envoy Mesh Gateway integration tests (#6187)","refs":[],"body":"* Allow setting the mesh gateway mode for an upstream in config files\r\n\r\n* Add envoy integration test for mesh gateways\r\n\r\nThis necessitated many supporting changes in most of the other test cases.\r\n\r\nAdd remote mode mesh gateways integration test\r\n","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"94c73d0c9209d53568aead25cb74b79dce7c800c","date":"2019-07-24 17:06:39 -0400","message":"Chunking support (#6172)","refs":[],"body":"* Initial chunk support\r\n\r\nThis uses the go-raft-middleware library to allow for chunked commits to the KV\r\n","author_name":"Jeff Mitchell","author_email":"jeffrey.mitchell@gmail.com"},{"hash":"eab413d5d55db0efd7721135a8219513d0530db5","date":"2019-07-24 17:08:08 -0400","message":"Update CHANGELOG.md","refs":[],"body":"","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"89158c7a7665a48735ecf8541b72c83c860fe195","date":"2019-07-24 16:49:37 -0700","message":"auto-encrypt: Fix port resolution and fallback to default port (#6205)","refs":[],"body":"Auto-encrypt meant to fallback to the default port when it wasn't provided, but it hadn't been because of an issue with the error handling. We were checking against an incomplete error value:\r\n\"missing port in address\" vs \"address $HOST: missing port in address\"\r\n\r\nAdditionally, all RPCs to AutoEncrypt.Sign were using a.config.ServerPort, so those were updated to use ports resolved by resolveAddrs, if they are available.","author_name":"Freddy","author_email":"freddygv@users.noreply.github.com"},{"hash":"1ea7a34756ef080d5874b30c442467e32335f613","date":"2019-07-25 06:40:09 -0400","message":"Make the chunking test multidimensional (#6212)","refs":[],"body":"This ensures that it's not just a single operation we restores\r\nsuccessfully, but many. It's the same foundation, just with multiple\r\ngoing on at once.","author_name":"Jeff Mitchell","author_email":"jeffrey.mitchell@gmail.com"},{"hash":"3558f9cf6d8eaac55a0fc0f799b1cfe88e7a3035","date":"2019-07-25 09:19:09 -0400","message":"add dev docker image upload (#5879)","refs":[],"body":"* add dev docker image upload\r\n\r\n* remove the go cache since that isn't needed\r\n\r\n* add comment and image labels\r\n\r\n* get password from stdin\r\n","author_name":"Alvin Huang","author_email":"alvin@hashicorp.com"},{"hash":"3c889b4e65864427fdaac2bca39ef6562f6e521e","date":"2019-07-25 10:00:20 -0400","message":"remove sdk and api packages (#6214)","refs":[],"body":"","author_name":"Alvin Huang","author_email":"alvin@hashicorp.com"},{"hash":"54ef3d5a40c5fd468d92cdf66e61690385de1771","date":"2019-07-25 11:17:07 -0400","message":"check vendor folder (#6006)","refs":[],"body":"* check vendor in circleci\r\n\r\n* make vendor checking step more descriptive\r\n\r\n* reorganize check-vendor and gofmt jobs\r\n","author_name":"Alvin Huang","author_email":"alvin@hashicorp.com"},{"hash":"8b54307be201f7766bfaac51bf072eedb6657fa9","date":"2019-07-25 14:26:22 -0400","message":"Allow forwarding of some status RPCs (#6198)","refs":[],"body":"* Allow forwarding of some status RPCs\r\n\r\n* Update docs\r\n\r\n* add comments about not using the regular forward\r\n","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"69629870fe51c155760e632a5a499e2412662c50","date":"2019-07-25 14:27:22 -0400","message":"Update CHANGELOG.md","refs":[],"body":"","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"4e0a16ab2d34796b309e1d5d86c05b5528c5d40d","date":"2019-07-25 12:38:57 -0700","message":"config: correct limit to limits in config example (#6219)","refs":[],"body":"This isn't yet documented on the website, but wanted to update this to add the missing s.","author_name":"Jack Pearkes","author_email":"jackpearkes@gmail.com"},{"hash":"34984e47645e1854952b18288bdb1c7435e49642","date":"2019-07-25 16:01:33 -0400","message":"docs: add TCP half-close broken pipe to common errors (#6203)","refs":[],"body":"","author_name":"Mike Morris","author_email":"mikemorris@users.noreply.github.com"},{"hash":"43996ce05f092ecf61c7ab3c4daf4e239d270276","date":"2019-07-25 14:20:11 -0700","message":"Update CHANGELOG.md","refs":[],"body":"","author_name":"Jack Pearkes","author_email":"jackpearkes@gmail.com"},{"hash":"0c9c5bfa98144c310fb4663b5eb59fb1b83a6d04","date":"2019-07-25 23:41:16 +0000","message":"update bindata_assetfs.go","refs":[],"body":"","author_name":"hashicorp-ci","author_email":"hashicorp-ci@users.noreply.github.com"},{"hash":"a42ded477cf4e5ac1a850b42ec5d25672cd2545d","date":"2019-07-25 23:41:17 +0000","message":"Release v1.5.3","refs":["tag: v1.5.3"],"body":"","author_name":"hashicorp-ci","author_email":"hashicorp-ci@users.noreply.github.com","tag":"v1.5.3"},{"hash":"b3541c4f34d43ab92fe52256420759f17ea0ed73","date":"2019-07-25 17:58:56 -0700","message":"Putting source back into Dev Mode","refs":[],"body":"","author_name":"Jack Pearkes","author_email":"jackpearkes@gmail.com"},{"hash":"c6c4a2251a1d63e45558663032cad0f37f02b09c","date":"2019-07-26 10:22:56 -0500","message":"Merge Consul OSS branch master at commit b3541c4f34d43ab92fe52256420759f17ea0ed73","refs":[],"body":"","author_name":"R.B. Boyer","author_email":"rb@hashicorp.com"},{"hash":"3ca566a1523bd08e9887f712511a2ecc27ac5d3b","date":"2019-07-26 11:44:01 -0500","message":"Merge pull request #6223 from hashicorp/master-merge-b3541c4f3","refs":[],"body":"Master merge b3541c4f3","author_name":"R.B. Boyer","author_email":"rb@hashicorp.com"},{"hash":"dbae8997960574afdabbca58bc3b7e7657a3978d","date":"2019-07-26 14:29:03 -0400","message":"Merge pull request #6210 from hashicorp/docs/fix-ambassador-link","refs":[],"body":"Fix links to ambassador website","author_name":"Todd Radel","author_email":"todd@hashicorp.com"},{"hash":"59454c7edca4d06bee3ecb6c32d446421ef7dad6","date":"2019-07-26 15:43:15 -0400","message":"Set --max-obj-name-len 256 when execing Envoy (#6202)","refs":[],"body":"* Pass -max-obj-name-len 256 to envoy\r\n\r\n* Update test expectations.\r\n\r\n* Add a note about requireing the max-obj-name-len option to be set\r\n","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"35e67b1d1ac44fa5ba5b9b73797038514dc950b3","date":"2019-07-26 15:57:57 -0400","message":"Fix CA Replication when ACLs are enabled (#6201)","refs":[],"body":"Secondary CA initialization steps are:\r\n\r\n• Wait until the primary will be capable of signing intermediate certs. We use serf metadata to check the versions of servers in the primary which avoids needing a token like the previous implementation that used RPCs. We require at least one alive server in the primary and the all alive servers meet the version requirement.\r\n• Initialize the secondary CA by getting the primary to sign an intermediate\r\n\r\nWhen a primary dc is configured, if no existing CA is initialized and for whatever reason we cannot initialize a secondary CA the secondary DC will remain without a CA. As soon as it can it will initialize the secondary CA by pulling the primaries roots and getting the primary to sign an intermediate.\r\n\r\nThis also fixes a segfault that can happen during leadership revocation. There was a spot in the secondaryCARootsWatch that was getting the CA Provider and executing methods on it without nil checking. Under normal circumstances it wont be nil but during leadership revocation it gets nil'ed out. Therefore there is a period of time between closing the stop chan and when the go routine is actually stopped where it could read a nil provider and cause a segfault.\r\n","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"04811871522dd11516bbc5029c1ca9e23dc8f5aa","date":"2019-07-26 15:59:20 -0400","message":"Update CHANGELOG.md","refs":[],"body":"","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"b2944bdbe1e5f83164a0ed95261ec5c733dfd2f5","date":"2019-07-26 16:22:53 -0400","message":"Merge remote-tracking branch 'origin/master' into release/1-6","refs":[],"body":"","author_name":"Alvin Huang","author_email":"alvin@hashicorp.com"},{"hash":"1527616c8cb29f26fedbdf645d6a27087c713db6","date":"2019-07-26 23:15:20 +0000","message":"update bindata_assetfs.go","refs":[],"body":"","author_name":"hashicorp-ci","author_email":"hashicorp-ci@users.noreply.github.com"},{"hash":"5ff04a303ee79fb022112708d54f6036f43a51b1","date":"2019-07-26 23:15:20 +0000","message":"Release v1.6.0-beta3","refs":["tag: v1.6.0-beta3"],"body":"","author_name":"hashicorp-ci","author_email":"hashicorp-ci@users.noreply.github.com","tag":"v1.6.0-beta3"},{"hash":"fcc18c16755d00926b750b72470bceb1dd54a57f","date":"2019-07-29 11:15:55 -0400","message":"Fix prepared query upstream endpoint generation (#6236)","refs":[],"body":"Use the correct SNI value for prepared query upstreams\r\n\r\n\r\n","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"64bc7a6c4772bf7d4fe5dab4ce0e911b432bf1fd","date":"2019-07-29 11:17:58 -0400","message":"Update CHANGELOG.md","refs":[],"body":"","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"5288dec952f96c874bc9856efbda078fdd3497ef","date":"2019-07-29 11:19:39 -0400","message":"Update CHANGELOG.md","refs":[],"body":"","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"a1725e6b5299c6ce12e8273205f90fba31403686","date":"2019-07-29 15:07:25 -0400","message":"Fix flaky tests (#6229)","refs":["origin/release/1-7"],"body":"","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"847b90288aa92ee21240199fcf37d893a37a289d","date":"2019-07-30 02:00:29 +0000","message":"Merge Consul OSS branch 'master' at commit a1725e6b5299c6ce12e8273205f90fba31403686","refs":[],"body":"","author_name":"hashicorp-ci","author_email":"hashicorp-ci@users.noreply.github.com"},{"hash":"1fdda51839830ea84de48db94dab10dc8b4439e5","date":"2019-07-30 09:56:56 -0400","message":"Fix envoy canBind (#6238)","refs":[],"body":"* Fix envoy cli canBind function\r\n\r\nThe string form of an Addr was including the CIDR causing the str equals to not match.\r\n\r\n* Remove debug prints\r\n","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"5bb8d607864d7de3d20f41fb8c39acbd9f89f9d2","date":"2019-07-30 09:58:38 -0400","message":"Update CHANGELOG.md","refs":[],"body":"","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"1a14b94441dbd715fcb83d78c99fe87de9ad01ea","date":"2019-07-30 09:45:41 -0600","message":"Update default gossip encryption key size to 32 bytes","refs":[],"body":"","author_name":"freddygv","author_email":"vallenilla.fr@gmail.com"},{"hash":"919316f188c1e9b77418e7ee8080cdad5838679e","date":"2019-07-30 11:03:16 -0600","message":"Update CHANGELOG.md","refs":[],"body":"","author_name":"Freddy","author_email":"freddygv@users.noreply.github.com"},{"hash":"2552f4a11a9bc416b64b1bec5c015bf5b5d56574","date":"2019-07-30 17:47:39 -0400","message":"connect: Support RSA keys in addition to ECDSA (#6055)","refs":[],"body":"Support RSA keys in addition to ECDSA","author_name":"Todd Radel","author_email":"todd@hashicorp.com"},{"hash":"3497b7c00d49c4acbbf951d84f2bba93f3da7510","date":"2019-07-30 22:57:51 -0400","message":"connect: support AWS PCA as a CA provider (#6189)","refs":[],"body":"Port AWS PCA provider from consul-ent","author_name":"Todd Radel","author_email":"todd@hashicorp.com"},{"hash":"e87cef2bb846361557527c611d86df96a2b490b2","date":"2019-07-31 14:08:10 +0100","message":"Revert \"connect: support AWS PCA as a CA provider\" (#6251)","refs":[],"body":"This reverts commit 3497b7c00d49c4acbbf951d84f2bba93f3da7510.","author_name":"Paul Banks","author_email":"banks@banksco.de"},{"hash":"896749d5857e6d91bafcc5876d94de984e99e767","date":"2019-08-01 09:53:34 -0700","message":"fix 'consul connect envoy' to try to use previously-configured grpc port (#6245)","refs":[],"body":"fix 'consul connect envoy' to try to use previously-configured grpc port on running agent before defaulting to 8502\r\n\r\nFixes #5011 ","author_name":"Sarah Adams","author_email":"sadams.codes@gmail.com"},{"hash":"80f091e107bf48b0a0f139390421565a402aac63","date":"2019-08-01 23:27:26 +0530","message":"docs: Fix minor mistakes in index.html.md (#6239)","refs":[],"body":"","author_name":"Venkata Krishna Annam","author_email":"krishna.annam18@gmail.com"},{"hash":"6785e33d8af7aea401a3b5ccad7f822bc0d7b05e","date":"2019-08-01 11:21:37 -0700","message":"Fix typo in architecture.html.md (#6261)","refs":[],"body":"","author_name":"Omer Zach","author_email":"omer.zach@gmail.com"},{"hash":"8564b6bb385cca2b374bd4997a0611d072fcd6c3","date":"2019-08-01 13:26:02 -0500","message":"connect: validate upstreams and prevent duplicates (#6224)","refs":[],"body":"* connect: validate upstreams and prevent duplicates\r\n\r\n* Actually run Upstream.Validate() instead of ignoring it as dead code.\r\n\r\n* Prevent two upstreams from declaring the same bind address and port.\r\n  It wouldn't work anyway.\r\n\r\n* Prevent two upstreams from being declared that use the same\r\n  type+name+namespace+datacenter. Due to how the Upstream.Identity()\r\n  function worked this ended up mostly being enforced in xDS at use-time,\r\n  but it should be enforced more clearly at register-time.\r\n","author_name":"R.B. Boyer","author_email":"rb@hashicorp.com"},{"hash":"5e32bbdf4d9fd1b05b9c18d7b6a250761f22ea39","date":"2019-08-01 13:27:14 -0500","message":"update changelog","refs":[],"body":"","author_name":"R.B. Boyer","author_email":"rb@hashicorp.com"},{"hash":"6393edba5396c2c8422c8f471ec86fac21fad069","date":"2019-08-01 22:03:34 -0500","message":"connect: reconcile how upstream configuration works with discovery chains (#6225)","refs":[],"body":"* connect: reconcile how upstream configuration works with discovery chains\r\n\r\nThe following upstream config fields for connect sidecars sanely\r\nintegrate into discovery chain resolution:\r\n\r\n- Destination Namespace/Datacenter: Compilation occurs locally but using\r\ndifferent default values for namespaces and datacenters. The xDS\r\nclusters that are created are named as they normally would be.\r\n\r\n- Mesh Gateway Mode (single upstream): If set this value overrides any\r\nvalue computed for any resolver for the entire discovery chain. The xDS\r\nclusters that are created may be named differently (see below).\r\n\r\n- Mesh Gateway Mode (whole sidecar): If set this value overrides any\r\nvalue computed for any resolver for the entire discovery chain. If this\r\nis specifically overridden for a single upstream this value is ignored\r\nin that case. The xDS clusters that are created may be named differently\r\n(see below).\r\n\r\n- Protocol (in opaque config): If set this value overrides the value\r\ncomputed when evaluating the entire discovery chain. If the normal chain\r\nwould be TCP or if this override is set to TCP then the result is that\r\nwe explicitly disable L7 Routing and Splitting. The xDS clusters that\r\nare created may be named differently (see below).\r\n\r\n- Connect Timeout (in opaque config): If set this value overrides the\r\nvalue for any resolver in the entire discovery chain. The xDS clusters\r\nthat are created may be named differently (see below).\r\n\r\nIf any of the above overrides affect the actual result of compiling the\r\ndiscovery chain (i.e. \"tcp\" becomes \"grpc\" instead of being a no-op\r\noverride to \"tcp\") then the relevant parameters are hashed and provided\r\nto the xDS layer as a prefix for use in naming the Clusters. This is to\r\nensure that if one Upstream discovery chain has no overrides and\r\ntangentially needs a cluster named \"api.default.XXX\", and another\r\nUpstream does have overrides for \"api.default.XXX\" that they won't\r\ncross-pollinate against the operator's wishes.\r\n\r\nFixes #6159","author_name":"R.B. Boyer","author_email":"rb@hashicorp.com"},{"hash":"31289371454a1c0ee1a3940ad1fc7bdda50e3513","date":"2019-08-01 22:05:02 -0500","message":"update changelog","refs":[],"body":"","author_name":"R.B. Boyer","author_email":"public@richardboyer.net"},{"hash":"f02924fafed9bc3fb465e7f09415de8068575765","date":"2019-08-01 22:44:05 -0500","message":"connect: simplify the compiled discovery chain data structures (#6242)","refs":[],"body":"This should make them better for sending over RPC or the API.\r\n\r\nInstead of a chain implemented explicitly like a linked list (nodes\r\nholding pointers to other nodes) instead switch to a flat map of named\r\nnodes with nodes linking other other nodes by name. The shipped\r\nstructure is just a map and a string to indicate which key to start\r\nfrom.\r\n\r\nOther changes:\r\n\r\n* inline the compiler option InferDefaults as true\r\n\r\n* introduce compiled target config to avoid needing to send back\r\n  additional maps of Resolvers; future target-specific compiled state\r\n  can go here\r\n\r\n* move compiled MeshGateway out of the Resolver and into the\r\n  TargetConfig where it makes more sense.","author_name":"R.B. Boyer","author_email":"rb@hashicorp.com"},{"hash":"840409d994353a522ea95aaea08c0bcf5b9d27d2","date":"2019-08-01 22:45:01 -0500","message":"update changelog","refs":[],"body":"","author_name":"R.B. Boyer","author_email":"public@richardboyer.net"},{"hash":"1d0efdc69e112931940a70f2c99a48a445c1e682","date":"2019-08-01 23:07:11 -0500","message":"server: if inserting bootstrap config entries fails don't silence the errors (#6256)","refs":[],"body":"","author_name":"R.B. Boyer","author_email":"rb@hashicorp.com"},{"hash":"2ebd73ba0d3dd1d002dd4baf7b730835795af654","date":"2019-08-01 23:07:54 -0500","message":"update changelog","refs":[],"body":"","author_name":"R.B. Boyer","author_email":"public@richardboyer.net"},{"hash":"266c288fc0ad42e0dff9e0307db9411e3fdcc9c7","date":"2019-08-02 13:53:52 +0200","message":"ui: Adds readonly meta data to the serviceInstance and node detail pages (#6196)","refs":[],"body":"","author_name":"John Cowen","author_email":"johncowen@users.noreply.github.com"},{"hash":"dcb609af83eed23361de332427b351ffb107d6e8","date":"2019-08-02 09:18:45 -0500","message":"connect: detect and prevent circular discovery chain references (#6246)","refs":[],"body":"","author_name":"R.B. Boyer","author_email":"rb@hashicorp.com"},{"hash":"64b235990d1fbc2d456b64aad48b1a588046f118","date":"2019-08-02 09:19:37 -0500","message":"update changelog","refs":[],"body":"","author_name":"R.B. Boyer","author_email":"rb@hashicorp.com"},{"hash":"dd7b3ece64706fa88e19e6ab6d9a2518211705ac","date":"2019-08-02 15:15:59 -0400","message":"Add arm builds (#6263)","refs":[],"body":"* try arm builds\r\n\r\n* Update .circleci/config.yml\r\n\r\nCo-Authored-By: Matt Keeler <mkeeler@users.noreply.github.com>\r\n\r\n* Update .circleci/config.yml\r\n\r\nCo-Authored-By: Matt Keeler <mkeeler@users.noreply.github.com>\r\n\r\n* Update .circleci/config.yml\r\n\r\nCo-Authored-By: Matt Keeler <mkeeler@users.noreply.github.com>\r\n","author_name":"Alvin Huang","author_email":"17609145+alvin-huang@users.noreply.github.com"},{"hash":"96be92f3b5a466aaf8ec3e50a3fb4b219fbe974f","date":"2019-08-02 15:36:03 -0400","message":"connect: generate intermediate at same time as root (#6272)","refs":[],"body":"Generate intermediate at same time as root\r\nCo-Authored-By: Freddy <freddygv@users.noreply.github.com>\r\n","author_name":"Todd Radel","author_email":"todd@hashicorp.com"},{"hash":"de01a1e279230624fcc2d7e692b7e773d570204b","date":"2019-08-02 16:11:41 -0400","message":"add generic master merge into release/* branches (#6249)","refs":[],"body":"","author_name":"Alvin Huang","author_email":"17609145+alvin-huang@users.noreply.github.com"},{"hash":"5ce6bfa29282f7c302993866f887e8d9792b97d1","date":"2019-08-02 16:20:38 -0400","message":"Add license management functions to API client (#6268)","refs":[],"body":"* Add license management functions to API client\r\n\r\n* Get rid of jsonapi struct tags\r\n","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"1ab3d6a99049eb61e2cb1aeacfe769fe0bbb08b9","date":"2019-08-02 16:23:00 -0400","message":"Update CHANGELOG.md","refs":[],"body":"","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"c395affc935f38a897f157149287646cbef92793","date":"2019-08-02 15:34:54 -0500","message":"connect: expose an API endpoint to compile the discovery chain (#6248)","refs":[],"body":"In addition to exposing compilation over the API cleaned up the structures that would be exchanged to be cleaner and easier to support and understand.\r\n\r\nAlso removed ability to configure the envoy OverprovisioningFactor.\r\n","author_name":"R.B. Boyer","author_email":"rb@hashicorp.com"},{"hash":"856090e8934ad367c22308cbc15d06be4de1596a","date":"2019-08-02 15:36:13 -0500","message":"update changelog","refs":[],"body":"","author_name":"R.B. Boyer","author_email":"rb@hashicorp.com"},{"hash":"206b2016a44ab081aaa31e617ca3e5be4ff84916","date":"2019-08-02 17:19:56 -0400","message":"Merge remote-tracking branch 'origin/master' into release/1-6","refs":[],"body":"","author_name":"Alvin Huang","author_email":"17609145+alvin-huang@users.noreply.github.com"},{"hash":"37ea271eb795ecd5a429916b7f438aced346dc39","date":"2019-08-02 19:00:39 -0400","message":"fix grpc-addr-config hosts template","refs":[],"body":"","author_name":"Alvin Huang","author_email":"17609145+alvin-huang@users.noreply.github.com"},{"hash":"9f58504f1c4e0dce5e43c72da6ae6dafa09f2849","date":"2019-08-02 19:13:54 -0400","message":"Merge pull request #6274 from hashicorp/merge-master-de01a1e","refs":[],"body":"Merge master at de01a1e279230624fcc2d7e692b7e773d570204b","author_name":"Alvin Huang","author_email":"17609145+alvin-huang@users.noreply.github.com"},{"hash":"8e22d80e3550592a32144f2d1c84ebf6becb957b","date":"2019-08-05 13:30:35 -0500","message":"connect: fix failover through a mesh gateway to a remote datacenter (#6259)","refs":[],"body":"Failover is pushed entirely down to the data plane by creating envoy\r\nclusters and putting each successive destination in a different load\r\nassignment priority band. For example this shows that normally requests\r\ngo to 1.2.3.4:8080 but when that fails they go to 6.7.8.9:8080:\r\n\r\n- name: foo\r\n  load_assignment:\r\n    cluster_name: foo\r\n    policy:\r\n      overprovisioning_factor: 100000\r\n    endpoints:\r\n    - priority: 0\r\n      lb_endpoints:\r\n      - endpoint:\r\n          address:\r\n            socket_address:\r\n              address: 1.2.3.4\r\n              port_value: 8080\r\n    - priority: 1\r\n      lb_endpoints:\r\n      - endpoint:\r\n          address:\r\n            socket_address:\r\n              address: 6.7.8.9\r\n              port_value: 8080\r\n\r\nMesh gateways route requests based solely on the SNI header tacked onto\r\nthe TLS layer. Envoy currently only lets you configure the outbound SNI\r\nheader at the cluster layer.\r\n\r\nIf you try to failover through a mesh gateway you ideally would\r\nconfigure the SNI value per endpoint, but that's not possible in envoy\r\ntoday.\r\n\r\nThis PR introduces a simpler way around the problem for now:\r\n\r\n1. We identify any target of failover that will use mesh gateway mode local or\r\n   remote and then further isolate any resolver node in the compiled discovery\r\n   chain that has a failover destination set to one of those targets.\r\n\r\n2. For each of these resolvers we will perform a small measurement of\r\n   comparative healths of the endpoints that come back from the health API for the\r\n   set of primary target and serial failover targets. We walk the list of targets\r\n   in order and if any endpoint is healthy we return that target, otherwise we\r\n   move on to the next target.\r\n\r\n3. The CDS and EDS endpoints both perform the measurements in (2) for the\r\n   affected resolver nodes.\r\n\r\n4. For CDS this measurement selects which TLS SNI field to use for the cluster\r\n   (note the cluster is always going to be named for the primary target)\r\n\r\n5. For EDS this measurement selects which set of endpoints will populate the\r\n   cluster. Priority tiered failover is ignored.\r\n\r\nOne of the big downsides to this approach to failover is that the failover\r\ndetection and correction is going to be controlled by consul rather than\r\ndeferring that entirely to the data plane as with the prior version. This also\r\nmeans that we are bound to only failover using official health signals and\r\ncannot make use of data plane signals like outlier detection to affect\r\nfailover.\r\n\r\nIn this specific scenario the lack of data plane signals is ok because the\r\neffectiveness is already muted by the fact that the ultimate destination\r\nendpoints will have their data plane signals scrambled when they pass through\r\nthe mesh gateway wrapper anyway so we're not losing much.\r\n\r\nAnother related fix is that we now use the endpoint health from the\r\nunderlying service, not the health of the gateway (regardless of\r\nfailover mode).","author_name":"R.B. Boyer","author_email":"rb@hashicorp.com"},{"hash":"0036a3652c4a6be5ac96a1c6943fc6180fedc144","date":"2019-08-05 13:33:07 -0500","message":"Update CHANGELOG.md","refs":[],"body":"","author_name":"R.B. Boyer","author_email":"rb@hashicorp.com"},{"hash":"d84863799deca45ccf4bec5ab9f645ccae6b3aeb","date":"2019-08-05 12:52:35 -0700","message":"fallback to proxy config global protocol when upstream services' protocol is unset (#6277)","refs":[],"body":"fallback to proxy config global protocol when upstream services' protocol is unset\r\n\r\nFixes #5857\r\n","author_name":"Sarah Adams","author_email":"sadams.codes@gmail.com"},{"hash":"9753c77a7927366bf3ccb73c4d4603b9de944594","date":"2019-08-05 17:15:22 -0500","message":"api: un-deprecate api.DecodeConfigEntry (#6278)","refs":[],"body":"Add clarifying commentary about when it is not safe to use it. Also add\r\ntests.","author_name":"R.B. Boyer","author_email":"rb@hashicorp.com"},{"hash":"30b091bd06b6f19e89345a6d73e4709c4aed65f4","date":"2019-08-05 17:16:22 -0500","message":"update changelog","refs":[],"body":"","author_name":"R.B. Boyer","author_email":"rb@hashicorp.com"},{"hash":"913784e1bf73100d39301b1cfffc6c73836ec25d","date":"2019-08-06 02:00:30 +0000","message":"Merge Consul OSS branch 'master' at commit d84863799deca45ccf4bec5ab9f645ccae6b3aeb","refs":["origin/intention-replication-token-update"],"body":"","author_name":"hashicorp-ci","author_email":"hashicorp-ci@users.noreply.github.com"},{"hash":"9bbbea1777de93da6b7b8b89a92f912bcefa81bc","date":"2019-08-07 11:34:09 -0500","message":"connect: ensure intention replication continues to work when the replication ACL token changes (#6288)","refs":[],"body":"","author_name":"R.B. Boyer","author_email":"rb@hashicorp.com"},{"hash":"3a3086ecd22d2ee80a6d5656787085e6dd243227","date":"2019-08-07 11:35:21 -0500","message":"update changelog","refs":[],"body":"","author_name":"R.B. Boyer","author_email":"rb@hashicorp.com"},{"hash":"b53b98fa26c2d80609ea1ac4f4fd83ee6af53f6a","date":"2019-08-07 13:52:57 -0400","message":"mesh-gateway ACL tokens should also have `node:read` on everyth… (#6291)","refs":[],"body":"","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"165e5cd6b115dfe4a50096faf9861242dcd008b9","date":"2019-08-07 16:41:33 -0500","message":"command: ensure that the json form of config entries can be submitted with 'consul config write' (#6290)","refs":[],"body":"The json decoder inside of the HCLv1 hcl.Decode function behaves\r\nunexpectedly when decoding generically into a map[string]interface{} as\r\nis done for 'consul config write' pre-submit decoding.\r\n\r\nThis results in some subtle (service-router Match and Destinations being\r\nseparated) and some not so subtle (service-resolver subsets and failover\r\npanic if multiple subsets are referenced) bugs when subsequently passed\r\nthrough mapstructure to finish decoding.\r\n\r\nGiven that HCLv1 is basically frozen and the HCL part of it is fine\r\ninstead of trying to figure out what the underlying bug is in the json\r\ndecoder for our purposes just sniff the byte slice and selectively use\r\nthe stdlib json decoder for JSON and hcl decoder for HCL.","author_name":"R.B. Boyer","author_email":"rb@hashicorp.com"},{"hash":"ca1a9746a72221f44aa45981ffb9ae431370f406","date":"2019-08-07 16:42:45 -0500","message":"update changelog","refs":[],"body":"","author_name":"R.B. Boyer","author_email":"rb@hashicorp.com"},{"hash":"65be58703cfb4a19d8fb7fc81228dabc8bd407de","date":"2019-08-09 15:19:30 -0400","message":"connect: remove managed proxies (#6220)","refs":[],"body":"* connect: remove managed proxies implementation and all supporting config options and structs\r\n\r\n* connect: remove deprecated ProxyDestination\r\n\r\n* command: remove CONNECT_PROXY_TOKEN env var\r\n\r\n* agent: remove entire proxyprocess proxy manager\r\n\r\n* test: remove all managed proxy tests\r\n\r\n* test: remove irrelevant managed proxy note from TestService_ServerTLSConfig\r\n\r\n* test: update ContentHash to reflect managed proxy removal\r\n\r\n* test: remove deprecated ProxyDestination test\r\n\r\n* telemetry: remove managed proxy note\r\n\r\n* http: remove /v1/agent/connect/proxy endpoint\r\n\r\n* ci: remove deprecated test exclusion\r\n\r\n* website: update managed proxies deprecation page to note removal\r\n\r\n* website: remove managed proxy configuration API docs\r\n\r\n* website: remove managed proxy note from built-in proxy config\r\n\r\n* website: add note on removing proxy subdirectory of data_dir","author_name":"Mike Morris","author_email":"mikemorris@users.noreply.github.com"},{"hash":"b9f07fa9c36faec747568d170e482b1e9e0e1b0f","date":"2019-08-09 15:32:54 -0400","message":"website: restore accidental JSON deletion [skip ci] (#6303)","refs":[],"body":"","author_name":"Mike Morris","author_email":"mikemorris@users.noreply.github.com"},{"hash":"913d85ea5bd18178cba8c2f00ddd438a4a6cf9d2","date":"2019-08-09 15:07:01 -0500","message":"connect: allow mesh gateways to use central config (#6302)","refs":[],"body":"","author_name":"R.B. Boyer","author_email":"rb@hashicorp.com"},{"hash":"82e2cef4e1f8bfc24a2e8aee219168285f6a54db","date":"2019-08-09 15:07:48 -0500","message":"update changelog","refs":[],"body":"","author_name":"R.B. Boyer","author_email":"rb@hashicorp.com"},{"hash":"8241787e922955e973c0e762ad3cb8db1804f6cd","date":"2019-08-09 16:33:43 -0600","message":"docs: Update consul-helm example to pull latest tag","refs":[],"body":"","author_name":"Jake Lundberg","author_email":"36936039+grove-mountain@users.noreply.github.com"},{"hash":"6a1e0dfed80b2c83d0ce26c2cd76eeda83fb8d2b","date":"2019-08-10 09:15:19 -0400","message":"Update the v1/agent/service/:service endpoint to output tagged… (#6304)","refs":[],"body":"","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"71bc9931cc53a43cee53a018fcc2ee81d9f1fa37","date":"2019-08-10 09:16:55 -0400","message":"Update CHANGELOG.md","refs":[],"body":"","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"5ecffb0c0a25257b960f2bbd56697332ca3aebd5","date":"2019-08-11 02:01:18 +0000","message":"Merge Consul OSS branch 'master' at commit 8241787e922955e973c0e762ad3cb8db1804f6cd","refs":[],"body":"","author_name":"hashicorp-ci","author_email":"hashicorp-ci@users.noreply.github.com"},{"hash":"61206fdf42fcc284a01509494c4989016d2ded62","date":"2019-08-12 12:47:02 -0400","message":"snapshot: add TLS support to HalfCloser interface (#6216)","refs":[],"body":"Calls net.TCPConn.CloseWrite or mtls.Conn.CloseWrite, which was added in https://go-review.googlesource.com/c/go/+/31318/","author_name":"Mike Morris","author_email":"mikemorris@users.noreply.github.com"},{"hash":"8ff1f481fe6f2ea2c3f7ba28a3739bacc1c0a753","date":"2019-08-12 11:11:11 -0700","message":"add flag to allow /operator/keyring requests to only hit local servers (#6279)","refs":[],"body":"Add parameter local-only to operator keyring list requests to force queries to only hit local servers (no WAN traffic).\r\n\r\nHTTP API: GET /operator/keyring?local-only=true\r\nCLI: consul keyring -list --local-only\r\n\r\nSending the local-only flag with any non-GET/list request will result in an error.\r\n","author_name":"Sarah Adams","author_email":"sadams.codes@gmail.com"},{"hash":"69c7d6470107c505396409f9bcb67eee5537fbcb","date":"2019-08-12 15:24:02 -0400","message":"Add missing LicenseReset API function (#6311)","refs":[],"body":"","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"f4a21bd372ef2c89286b62452c7feed3ed57a7cc","date":"2019-08-12 13:57:58 -0700","message":"Update CHANGELOG.md","refs":[],"body":"","author_name":"Sarah Adams","author_email":"sadams.codes@gmail.com"},{"hash":"9fc8c6d123e3244d102ed975978c12a75245955c","date":"2019-08-12 17:03:08 -0400","message":"changelog: add managed proxy removal to breaking changes","refs":[],"body":"","author_name":"Mike Morris","author_email":"mikemorris@users.noreply.github.com"},{"hash":"8f7586b339dbb518eff3a2eec27d7b8eae7a3fbb","date":"2019-08-12 17:06:34 -0400","message":"changelog: add snapshot half-close fix","refs":[],"body":"","author_name":"Mike Morris","author_email":"mikemorris@users.noreply.github.com"},{"hash":"5919c7c184f506d0b8d272a0136da494ee139200","date":"2019-08-13 02:00:43 +0000","message":"Merge Consul OSS branch 'master' at commit 8f7586b339dbb518eff3a2eec27d7b8eae7a3fbb","refs":[],"body":"","author_name":"hashicorp-ci","author_email":"hashicorp-ci@users.noreply.github.com"},{"hash":"9ffdc2c6553c8ac24bd7c106d233d8623bf78868","date":"2019-08-13 11:13:55 -0400","message":"Fix changelog format (and alphabatize stuff)","refs":[],"body":"","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"d7bb2bbee4530de7c705f7d8f3a9223dcab9590a","date":"2019-08-13 15:28:06 +0000","message":"update bindata_assetfs.go","refs":[],"body":"","author_name":"hashicorp-ci","author_email":"hashicorp-ci@users.noreply.github.com"},{"hash":"71f98661de8d3c9b35b363661bb5a899a57a8c27","date":"2019-08-13 15:28:07 +0000","message":"Release v1.6.0-rc1","refs":["tag: v1.6.0-rc1"],"body":"","author_name":"hashicorp-ci","author_email":"hashicorp-ci@users.noreply.github.com","tag":"v1.6.0-rc1"},{"hash":"6d995246a88372619a3018b77226d6a66163afb5","date":"2019-08-14 09:40:57 -0400","message":"Update toolchain to Go 1.12.8 (#6319)","refs":[],"body":"","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"3975cb89bfe0699cbdd2a14e87e725b2440e670e","date":"2019-08-14 09:08:46 -0500","message":"agent: blocking central config RPCs iterations should not interfere with each other (#6316)","refs":[],"body":"","author_name":"R.B. Boyer","author_email":"rb@hashicorp.com"},{"hash":"d431e22e94dbb1df1dc7fd996d15b8c513c54d58","date":"2019-08-14 09:12:12 -0500","message":"update changelog","refs":[],"body":"","author_name":"R.B. Boyer","author_email":"rb@hashicorp.com"},{"hash":"d594e05f8673c21f72e9e4288857810b3a74a4b0","date":"2019-08-14 10:40:39 -0400","message":"Update CHANGELOG.md","refs":[],"body":"","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"a2ddaaca0a7fdcac675dbabc340d45d906b177e3","date":"2019-08-14 10:41:27 -0400","message":"Update to google.golang.org/grpc v1.23.0 (#6320)","refs":[],"body":"","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"acac6274127fdb175bc34be42b2c5b982ff46154","date":"2019-08-14 10:41:53 -0400","message":"Update CHANGELOG.md","refs":[],"body":"","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"23cf22960af00a02530f51327d9566c8b52e4de7","date":"2019-08-15 16:04:30 -0500","message":"Fix 404 (#6300)","refs":[],"body":"On page: https://www.consul.io/discovery.html\r\n\r\nIf you click the link for Health Checks -> Learn More the underlying resource is:\r\n\r\nhttps://learn.hashicorp.com/consul/getting-started/checks\r\n\r\nThis page for me is a 404. I think you've bundled it together in the following page:\r\n\r\nRegister a Service and Health Check - Service Discovery\r\n\r\nLocated at: https://learn.hashicorp.com/consul/getting-started/services\r\n\r\nThanks for Consul, it's really awesome.","author_name":"mattc41190","author_email":"mattc41190@gmail.com"},{"hash":"868780f237d1f5cf850e1cf62d8a31f77eb16926","date":"2019-08-16 02:00:30 +0000","message":"Merge Consul OSS branch 'master' at commit 23cf22960af00a02530f51327d9566c8b52e4de7","refs":[],"body":"","author_name":"hashicorp-ci","author_email":"hashicorp-ci@users.noreply.github.com"},{"hash":"72207256b9abe32678d322697db81d2f835d2bd0","date":"2019-08-16 09:30:17 -0500","message":"xds: improve how envoy metrics are emitted (#6312)","refs":[],"body":"Since generated envoy clusters all are named using (mostly) SNI syntax\r\nwe can have envoy read the various fields out of that structure and emit\r\nit as stats labels to the various telemetry backends.\r\n\r\nI changed the delimiter for the 'customization hash' from ':' to '~'\r\nbecause ':' is always reencoded by envoy as '_' when generating metrics\r\nkeys.\r\n","author_name":"R.B. Boyer","author_email":"rb@hashicorp.com"},{"hash":"87d6eec3785999cffafe66efc35f1b3b2549926b","date":"2019-08-16 09:32:10 -0500","message":"update changelog","refs":[],"body":"","author_name":"R.B. Boyer","author_email":"rb@hashicorp.com"},{"hash":"318b9ebbe3eec52319d0fb2a3fcc1fb025bdb736","date":"2019-08-16 10:34:18 -0400","message":"Filter out left/leaving serf members when determining if new AC… (#6332)","refs":[],"body":"","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"6012343e6b9dd7011765067384483cde82f26ee9","date":"2019-08-16 10:35:36 -0400","message":"Update CHANGELOG.md","refs":[],"body":"","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"47ca1fa9889bcbd33b805ae4a6ae9f838b4d015e","date":"2019-08-16 10:54:13 -0700","message":"Clarifying autopilot bootstrap and config options","refs":[],"body":"","author_name":"tryan225","author_email":"tryan225@icloud.com"},{"hash":"589f77b2ab4099024e7b96e108691b99e5c71368","date":"2019-08-16 14:25:24 -0700","message":"website: update the vs. envoy and proxies page (#6326)","refs":[],"body":"* website: update the vs. envoy and proxies page\r\n\r\nThis is the second result on Google for \"consul envoy\" and\r\nit seemed like it needed a bit of an upgrade to help clarify the\r\ncurrent state.\r\n\r\n* Update website/source/intro/vs/proxies.html.md\r\n\r\nCo-Authored-By: Judith Malnick <judith.patudith@gmail.com>\r\n\r\n* Update website/source/intro/vs/proxies.html.md\r\n\r\nCo-Authored-By: Judith Malnick <judith.patudith@gmail.com>\r\n\r\n* Update website/source/intro/vs/proxies.html.md\r\n\r\nCo-Authored-By: Judith Malnick <judith.patudith@gmail.com>\r\n\r\n* Update website/source/intro/vs/proxies.html.md\r\n\r\nCo-Authored-By: Judith Malnick <judith.patudith@gmail.com>\r\n\r\n* Apply suggestions from code review\r\n\r\nCo-Authored-By: Judith Malnick <judith.patudith@gmail.com>\r\n","author_name":"Jack Pearkes","author_email":"jackpearkes@gmail.com"},{"hash":"1a485011d0092e6866b90ed72ed0316d24ae3d05","date":"2019-08-19 10:44:06 -0500","message":"connect: updating a service-defaults config entry should leave an unset protocol alone (#6342)","refs":[],"body":"If the entry is updated for reasons other than protocol it is surprising\r\nthat the value is explicitly persisted as 'tcp' rather than leaving it\r\nempty and letting it fall back dynamically on the proxy-defaults value.","author_name":"R.B. Boyer","author_email":"rb@hashicorp.com"},{"hash":"1351f6d345bef3263d86065a8d8ce0fb91a1a642","date":"2019-08-19 10:45:10 -0500","message":"update changelog","refs":[],"body":"","author_name":"R.B. Boyer","author_email":"rb@hashicorp.com"},{"hash":"ae79cdab1bae3846c398105185c246b13b5f78fc","date":"2019-08-19 12:19:44 -0500","message":"connect: introduce ExternalSNI field on service-defaults (#6324)","refs":[],"body":"Compiling this will set an optional SNI field on each DiscoveryTarget.\r\nWhen set this value should be used for TLS connections to the instances\r\nof the target. If not set the default should be used.\r\n\r\nSetting ExternalSNI will disable mesh gateway use for that target. It also \r\ndisables several service-resolver features that do not make sense for an \r\nexternal service.","author_name":"R.B. Boyer","author_email":"rb@hashicorp.com"},{"hash":"561b2fe606b9f07741dac2eecd7dfb3fa282ddca","date":"2019-08-19 13:03:03 -0500","message":"connect: generate the full SNI names for discovery targets in the compiler rather than in the xds package (#6340)","refs":[],"body":"","author_name":"R.B. Boyer","author_email":"rb@hashicorp.com"},{"hash":"fe49c96afff1efd28e5d28bc48904e4879173327","date":"2019-08-19 13:04:24 -0500","message":"update changelog","refs":[],"body":"","author_name":"R.B. Boyer","author_email":"rb@hashicorp.com"},{"hash":"fd1c62ee8bd7ec054d5f48639d633317648c8d02","date":"2019-08-19 15:31:05 -0500","message":"connect: ensure time.Duration fields retain their human readable forms in the API (#6348)","refs":[],"body":"This applies for both config entries and the compiled discovery chain.\r\n\r\nAlso omit some other config entries fields when empty.","author_name":"R.B. Boyer","author_email":"rb@hashicorp.com"},{"hash":"11720fdbce1afb14653e03d82dd5c15ab61f40f8","date":"2019-08-19 15:31:52 -0500","message":"update changelog","refs":[],"body":"","author_name":"R.B. Boyer","author_email":"rb@hashicorp.com"},{"hash":"fc9fcdfa53ec09ae11eec815a64638907d9c49d6","date":"2019-08-19 13:36:50 -0700","message":"Merge pull request #6341 from tryan225/docs/autopilot-updates","refs":[],"body":"Clarifying autopilot bootstrap and config options","author_name":"Tyler Ryan","author_email":"tryan225@users.noreply.github.com"},{"hash":"a7ded1bd8efcbc3c67978f050b6f16ec5e8a832d","date":"2019-08-20 10:16:30 +0200","message":"docs: Fix typo layey > layer (#6352)","refs":[],"body":"","author_name":"John Cowen","author_email":"johncowen@users.noreply.github.com"},{"hash":"9a5b258edf12f7db1ff8c079411d111c65c558f3","date":"2019-08-20 10:20:13 -0400","message":"Turned on Envoy 1.11.1 integration tests (#6347)","refs":[],"body":"I also ran this against 1.5.2 so the docs update claiming compatibility should still be accurate.","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"0c3cf47266187612ee23efbdfa19c4306976748e","date":"2019-08-20 12:01:13 -0400","message":"Ensure that config entry writes are forwarded to the primary DC (#6339)","refs":[],"body":"","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"c62183196cc3daca65041cc2cfc336b1fd9d57b6","date":"2019-08-20 12:03:26 -0400","message":"Update CHANGELOG.md","refs":[],"body":"","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"22789fedf8888b32aea6a6c2561570e82179a44f","date":"2019-08-21 02:00:53 +0000","message":"Merge Consul OSS branch 'master' at commit a7ded1bd8efcbc3c67978f050b6f16ec5e8a832d","refs":[],"body":"","author_name":"hashicorp-ci","author_email":"hashicorp-ci@users.noreply.github.com"},{"hash":"5515e094f4509db78b59c74fc85ee859993bc733","date":"2019-08-21 10:23:03 +0200","message":"docs: ports docs missing paren fix (#6367)","refs":[],"body":"","author_name":"Ján Dzurek","author_email":"famousgarkin@outlook.com"},{"hash":"33c09f80c8ce1aa784a27e3c980ddef0ed7fbed7","date":"2019-08-07 14:55:04 -0500","message":"docs: add documentation for discovery chains","refs":[],"body":"Fixes #6273\n","author_name":"R.B. Boyer","author_email":"rb@hashicorp.com"},{"hash":"65fc93ea33de5f163610794bc4cdc8a2c420c9e2","date":"2019-08-21 12:17:38 -0500","message":"docs: fixing L7 config entries documentation (#6358)","refs":[],"body":"- add service-router example involving gRPC\r\n- fix indentation on service-router page by splitting it up\r\n- remove reference to removed setting","author_name":"R.B. Boyer","author_email":"rb@hashicorp.com"},{"hash":"ce9cfc773d529ae4b8259d195323c0c350c1f9f1","date":"2019-08-21 15:56:27 -0400","message":"remove ci merge branches if nightly merge fails (#6369)","refs":[],"body":"","author_name":"Alvin Huang","author_email":"17609145+alvin-huang@users.noreply.github.com"},{"hash":"52041cc27879decc320abbf84562d7a97d3961f8","date":"2019-08-21 16:07:04 -0400","message":"Merge Consul OSS branch 'master' at commit ce9cfc773d529ae4b8259d195323c0c350c1f9f1","refs":[],"body":"","author_name":"Alvin Huang","author_email":"17609145+alvin-huang@users.noreply.github.com"},{"hash":"7a6faccf2fc2e4e0fd1189376738f04a21bc34ca","date":"2019-08-21 15:10:12 -0500","message":"docs: document how envoy escape hatches work with the discovery chain (#6350)","refs":[],"body":"- Bootstrap escape hatches are OK.\r\n- Public listener/cluster escape hatches are OK.\r\n- Upstream listener/cluster escape hatches are not supported.\r\n\r\nIf an unsupported escape hatch is configured and the discovery chain is\r\nactivated log a warning and act like it was not configured.\r\n\r\nFixes #6160","author_name":"R.B. Boyer","author_email":"rb@hashicorp.com"},{"hash":"0a4e683708db32e2667884a45068472b0d15f228","date":"2019-08-21 16:23:08 -0500","message":"docs: remove beta references; leave version notation (#6372)","refs":[],"body":"","author_name":"R.B. Boyer","author_email":"rb@hashicorp.com"},{"hash":"b428e8148348e016ea996600c2c918184b747add","date":"2019-08-21 14:35:11 -0700","message":"website: fix typo on mesh page (#6368)","refs":[],"body":"Fixes #6345.","author_name":"Jack Pearkes","author_email":"jackpearkes@gmail.com"},{"hash":"59150281c52fafa4a3320c42128f1caf9dbd083b","date":"2019-08-21 18:19:47 -0400","message":"print a proper error message for master merge CI job failures (#6371)","refs":[],"body":"","author_name":"Alvin Huang","author_email":"17609145+alvin-huang@users.noreply.github.com"},{"hash":"fbb3b8d5ab1908d089fa906a33637835246b74ab","date":"2019-08-21 18:22:19 -0400","message":"Merge Consul OSS branch 'master' at commit 59150281c52fafa4a3320c42128f1caf9dbd083b","refs":[],"body":"","author_name":"Alvin Huang","author_email":"17609145+alvin-huang@users.noreply.github.com"},{"hash":"dfcdc41ef8ff0af981eee32cb5e215db96c3724b","date":"2019-08-22 15:11:56 -0500","message":"connect: allow 'envoy_cluster_json' escape hatch to continue to function (#6378)","refs":[],"body":"","author_name":"R.B. Boyer","author_email":"rb@hashicorp.com"},{"hash":"90d122055b729f5166efeb50bef45c79256cbad1","date":"2019-08-22 15:13:06 -0500","message":"update changelog","refs":[],"body":"","author_name":"R.B. Boyer","author_email":"rb@hashicorp.com"},{"hash":"3e46352ccbb611b50f63a58fe69d5da7ec0021b4","date":"2019-08-23 10:18:46 +0200","message":"auto_encrypt: use server-port (#6287)","refs":[],"body":"AutoEncrypt needs the server-port because it wants to talk via RPC. Information from gossip might not be available at that point and thats why the server-port is being used.","author_name":"Hans Hasselberg","author_email":"me@hans.io"},{"hash":"2e64b19fc28f7a8a7ef29858d4f0e7281a484d71","date":"2019-08-23 16:09:41 +0200","message":"Update agent.html.markdown.erb (#6380)","refs":[],"body":"Adding a note on how to make Consul trust S3-compatible storage that expose a self-signed certificate.","author_name":"danielehc","author_email":"40759828+danielehc@users.noreply.github.com"},{"hash":"f9c2a95e0e5682c449077c81ec3c01058e58f2e1","date":"2019-08-23 11:07:48 -0400","message":"Update observability.html.md (#6379)","refs":[],"body":"","author_name":"Anudeep Reddy","author_email":"arj331@nyu.edu"},{"hash":"cbd1857186246b516ae46e0eec6b174bf3a058a7","date":"2019-08-23 11:32:37 -0400","message":"Secondary CA `establishLeadership` fix (#6383)","refs":[],"body":"This prevents ACL issues (or other issues) during intermediate CA cert signing from failing leader establishment.\r\n","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"cc9a6f79934a6da58b7aec63c057681d82aded5a","date":"2019-08-23 13:44:46 -0500","message":"Merge pull request #6388 from hashicorp/release/1-6","refs":[],"body":"merging release/1-6 into master","author_name":"R.B. Boyer","author_email":"rb@hashicorp.com"},{"hash":"c16c583b9805a3e63ea1dc9ba7878697dfc66a61","date":"2019-08-23 21:56:27 +0200","message":"Update CHANGELOG.md","refs":[],"body":"","author_name":"Hans Hasselberg","author_email":"me@hans.io"},{"hash":"917a73e124e59867f77a62fffcc0e511e4cd8ea8","date":"2019-08-23 16:04:10 -0400","message":"Update CHANGELOG.md","refs":[],"body":"","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},{"hash":"e9b2163b1e974d494ba3a4cb3feee582c32d08ac","date":"2019-08-23 16:36:31 -0500","message":"flatten 1.6 series changelog (#6390)","refs":["tag: sdk/v0.2.0"],"body":"","author_name":"R.B. Boyer","author_email":"rb@hashicorp.com","tag":"sdk/v0.2.0"},{"hash":"ea6231ce35e2ac924de7d2258500286b99eaa433","date":"2019-08-23 16:41:19 -0500","message":"api: bump to sdk v0.2.0","refs":["tag: api/v1.2.0"],"body":"","author_name":"R.B. Boyer","author_email":"rb@hashicorp.com","tag":"api/v1.2.0"},{"hash":"bec24ed19922904bc342b3fdfaa0d00cdbc5d6fe","date":"2019-08-23 16:45:30 -0500","message":"mod: bump main module to api v1.2.0 and sdk v0.2.0","refs":[],"body":"","author_name":"R.B. Boyer","author_email":"rb@hashicorp.com"},{"hash":"3757cb6a96e66be6709bcc7156d4d65ebbd5306e","date":"2019-08-23 22:10:50 +0000","message":"update bindata_assetfs.go","refs":[],"body":"","author_name":"hashicorp-ci","author_email":"hashicorp-ci@users.noreply.github.com"},{"hash":"944cc71026c007e7de9467ec3f38f0ad14464fcc","date":"2019-08-23 22:10:51 +0000","message":"Release v1.6.0","refs":["tag: v1.6.0","origin/stable-website"],"body":"","author_name":"hashicorp-ci","author_email":"hashicorp-ci@users.noreply.github.com","tag":"v1.6.0"},{"hash":"f3def8c0d0d081797c24f11a8c3661e784acd76f","date":"2019-08-26 13:06:09 +0200","message":"make sure auto_encrypt has private key type and bits","refs":[],"body":"","author_name":"Hans Hasselberg","author_email":"me@hans.io"},{"hash":"2125a0a49396f36ed1891bf4f530032d4b5e2ce8","date":"2019-08-26 16:29:57 +0200","message":"Update CHANGELOG.md","refs":[],"body":"","author_name":"Hans Hasselberg","author_email":"me@hans.io"},{"hash":"a2cf7c7a5adaaae73e96e720c4f1677deb8069fe","date":"2019-08-26 16:38:32 +0200","message":"Update CHANGELOG.md","refs":[],"body":"Co-Authored-By: Freddy <freddygv@users.noreply.github.com>","author_name":"Hans Hasselberg","author_email":"me@hans.io"},{"hash":"103e0df670474abdb91dec3003e2b85a2f09b94d","date":"2019-08-26 16:51:36 +0200","message":"Update CHANGELOG.md","refs":[],"body":"Co-Authored-By: Alvin Huang <17609145+alvin-huang@users.noreply.github.com>","author_name":"Hans Hasselberg","author_email":"me@hans.io"},{"hash":"000ca15db7d64606168c183dfcabd95740396fab","date":"2019-08-26 12:22:20 -0500","message":"Putting source back into Dev Mode","refs":[],"body":"","author_name":"R.B. Boyer","author_email":"rb@hashicorp.com"},{"hash":"4caf1d111a6964ee9e3e5ca608170b068efa1b15","date":"2019-08-26 11:31:55 -0600","message":"Rephrase bind docs (#6394)","refs":[],"body":"","author_name":"Freddy","author_email":"freddygv@users.noreply.github.com"},{"hash":"430dab8c371596b7942b6265c2be8aba8315b816","date":"2019-08-26 14:22:28 -0500","message":"update dependencies for enterprise change (#6395)","refs":[],"body":"","author_name":"Aaron Bennett","author_email":"10927621+rackonnoiter@users.noreply.github.com"},{"hash":"7bc941575c977778dc112b57c9c8cee8d6ea1e3b","date":"2019-08-26 15:19:59 -0500","message":"test: don't leak agent goroutines in TestAgent_sidecarServiceFromNodeService (#6396)","refs":[],"body":"A goroutine dump using runtime.Stack() before/after shows a drop from 121 => 4.","author_name":"R.B. Boyer","author_email":"rb@hashicorp.com"},{"hash":"9df6e77afbd8be17912fe460f34b4dd1d0f303af","date":"2019-08-26 16:30:17 -0500","message":"test: actually run envoy 1.11.1 integration tests on PRs (#6397)","refs":[],"body":"","author_name":"R.B. Boyer","author_email":"rb@hashicorp.com"},{"hash":"e7a5d8016977ad59ea34ce309100217c5f013327","date":"2019-08-27 02:00:43 -0400","message":"bump eventmachine to 1.2.7 in Gemfile.lock (#6389)","refs":[],"body":"","author_name":"Mike Morris","author_email":"mikemorris@users.noreply.github.com"},{"hash":"faa54ab9890e40b517339f7408b91a9e3402b4b1","date":"2019-08-27 14:36:36 +0200","message":"auto_encrypt: verify_incoming_rpc is good enough for auto_encrypt.allow_tls (#6376)","refs":[],"body":"Previously `verify_incoming` was required when turning on `auto_encrypt.allow_tls`, but that doesn't work together with HTTPS UI in some scenarios. Adding `verify_incoming_rpc` to the allowed configurations.","author_name":"Hans Hasselberg","author_email":"me@hans.io"},{"hash":"d051342902c0f401a3c57a2df5c2fd76e3035a8d","date":"2019-08-27 14:37:56 +0200","message":"make sure auto_encrypt has private key type and bits (#6392)","refs":[],"body":"","author_name":"Hans Hasselberg","author_email":"me@hans.io"},{"hash":"3f333bada181aaf6340523ca2268a28d1a7db214","date":"2019-08-27 14:40:26 +0200","message":"changelog: add known issues section for 1.6.","refs":[],"body":"Update CHANGELOG.md","author_name":"Hans Hasselberg","author_email":"me@hans.io"},{"hash":"ce8a27aedc62c5c2f6e934e88cfbe08587d09dcb","date":"2019-08-27 08:05:18 -0700","message":"website: Update middleman-hashicorp container and Gemfile.lock (#6374)","refs":[],"body":"* website: Update middleman-hashicorp container and Gemfile.lock\r\n\r\nTime marches on, and so do security vulnerabilities in Nokogiri. So it's time\r\nfor a new container.\r\n\r\nAs with last time, here's a reminder for the next person who needs to update\r\nthis:\r\n\r\n- You shouldn't just update the dependency in Gemfile.lock, because your build\r\n  times will go to heck as you compile Nokogiri from source on every run. So you\r\n  need an updated container with all the dependencies.\r\n- To update the container, you need to push a new tag to the middleman-hashicorp\r\n  repo. Teamcity does the rest, and will ship a new container to Docker Hub\r\n  (unless its credentials are out of date, in which case go ask team-eng-serv.)\r\n- Once that's pushed:\r\n    - Update Makefile\r\n    - Update the Gemfile\r\n    - Delete Gemfile.lock\r\n    - `make website` until it comes up, then ctrl-C\r\n    - Commit the changes\r\n\r\n* website: Specify a different json version in Gemfile.lock\r\n\r\nThe Consul website uses different containers for preview and deploy, and this\r\noddball JSON version was causing issues. This commit sacrifices a little bit\r\nof preview startup speed for (hopefully) working deploys.\r\n","author_name":"Nick Fagerlund","author_email":"nick@hashicorp.com"},{"hash":"fce9fc2207d0fde3ac39500b7150aaa9ad4c7730","date":"2019-08-27 17:12:47 +0200","message":"Update CHANGELOG.md","refs":[],"body":"","author_name":"Hans Hasselberg","author_email":"me@hans.io"},{"hash":"0be1531d808a04ee99fd4a7f59d530add4366023","date":"2019-08-27 11:23:28 -0400","message":"add nil pointer check for pointer to ACLToken struct (#6407)","refs":[],"body":"","author_name":"Alvin Huang","author_email":"17609145+alvin-huang@users.noreply.github.com"},{"hash":"91da908d2f85c9c06ecc1593dadc94427bc10e44","date":"2019-08-27 10:45:05 -0500","message":"test: fix TestAgent.Start() to not segfault if the DNSServer cannot ListenAndServe (#6409)","refs":[],"body":"The embedded `Server` field on a `DNSServer` is only set inside of the\r\n`ListenAndServe` method. If that method fails for reasons like the\r\naddress being in use and is not bindable, then the `Server` field will\r\nnot be set and the overall `Agent.Start()` will fail.\r\n\r\nThis will trigger the inner loop of `TestAgent.Start()` to invoke\r\n`ShutdownEndpoints` which will attempt to pretty print the DNS servers\r\nusing fields on that inner `Server` field. Because it was never set,\r\nthis causes a nil pointer dereference and crashes the test.","author_name":"R.B. Boyer","author_email":"rb@hashicorp.com"},{"hash":"b962fe38cd09f61c0587606b77a257c44609d0e5","date":"2019-08-27 12:21:30 -0500","message":"test: send testagent logs through testing.Logf (#6411)","refs":[],"body":"","author_name":"R.B. Boyer","author_email":"rb@hashicorp.com"},{"hash":"82ae7caf3ef2618d0d9e8dbe8eb0e58966cac183","date":"2019-08-27 14:09:01 -0700","message":"Added DC and domain args to Configure method","refs":[],"body":"","author_name":"tradel","author_email":"todd@radel.us"},{"hash":"a4312d2e6e119e6fcf773f544ef528a4d78b9a99","date":"2019-08-27 14:11:40 -0700","message":"add domain and nodeName to agent cert request","refs":[],"body":"","author_name":"tradel","author_email":"todd@radel.us"},{"hash":"672e1813990bdf4c95d1e3e4f12ae08d0665316e","date":"2019-08-27 14:12:22 -0700","message":"add serviceID to leaf cert request","refs":[],"body":"","author_name":"tradel","author_email":"todd@radel.us"},{"hash":"7f36a5b676b5a5f6b552a93b7ac64ff316ed274e","date":"2019-08-27 14:12:56 -0700","message":"construct a common name for each CSR","refs":[],"body":"","author_name":"tradel","author_email":"todd@radel.us"},{"hash":"9b1ac4e7ef9e468642941e69bb545c67e66e1810","date":"2019-08-27 14:15:10 -0700","message":"add subject names to issued certs","refs":[],"body":"","author_name":"tradel","author_email":"todd@radel.us"},{"hash":"5ba28a6a7bba1b7f012afc085eaa49e8eceee238","date":"2019-08-27 14:15:53 -0700","message":"create a common name for autoTLS agent certs","refs":[],"body":"","author_name":"tradel","author_email":"todd@radel.us"},{"hash":"1ff46f3f0a1edd1b1ce5e79b07f776e74fbd7a62","date":"2019-08-27 14:16:25 -0700","message":"confi\\gure providers with DC and domain","refs":[],"body":"","author_name":"tradel","author_email":"todd@radel.us"},{"hash":"5a22b77340e0f1a7494e57b1f31b5f09700c5076","date":"2019-08-27 14:16:39 -0700","message":"update tests to match new method signatures","refs":["origin/connect/cert-subjects"],"body":"","author_name":"tradel","author_email":"todd@radel.us"},{"hash":"c516fabfaccb4b32dcb5648659a06e5eb3f3c310","date":"2019-08-27 17:45:58 -0400","message":"revert commits on master (#6413)","refs":["HEAD -> master","origin/master","origin/HEAD"],"body":"","author_name":"Alvin Huang","author_email":"17609145+alvin-huang@users.noreply.github.com"}],"latest":{"hash":"d238cb181ca1e924c9f03181dddbd4dcf2b73ccc","date":"2018-10-25 11:09:46 -0400","message":"New ACL API Tests (#4848)","refs":[],"body":"* A few API mods and unit tests.\r\n\r\n* Update the unit tests to verify query/write metadata and to fix the rules endpoint tests.\r\n\r\n* Make sure the full information for the replication status is in the api packge\r\n","author_name":"Matt Keeler","author_email":"mkeeler@users.noreply.github.com"},"total":1252}